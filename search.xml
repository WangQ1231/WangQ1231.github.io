<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JSå„è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢</title>
      <link href="/wangq1231/2022/01/02/JS%E2%95%95%D1%9E%E2%95%9C%C2%B0%E2%95%93%E2%95%9E%E2%95%93%D0%BE%E2%95%9D%D1%84%E2%95%A1%E2%94%80%E2%95%AB%D0%BA%E2%95%97%E2%95%97/"/>
      <url>/wangq1231/2022/01/02/JS%E2%95%95%D1%9E%E2%95%9C%C2%B0%E2%95%93%E2%95%9E%E2%95%93%D0%BE%E2%95%9D%D1%84%E2%95%A1%E2%94%80%E2%95%AB%D0%BA%E2%95%97%E2%95%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><p>åšç®—æ³•æœºè¯•é¢˜çš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°å­—ç¬¦çš„æ¯”è¾ƒï¼Œå­—ç¬¦è½¬ä¸ºäºŒè¿›åˆ¶ã€åå…­è¿›åˆ¶ç­‰çš„è½¬åŒ–ã€‚æ—¶å¸¸ä¼šå¿˜è®°å…·ä½“çš„å®ç°æ–¹æ³•ï¼Œç°åšä¸€ä¸‹æ€»ç»“å¸®åŠ©è®°å¿†</p><h3 id="1-ASCIIç å’Œå­—ç¬¦çš„è½¬åŒ–"><a href="#1-ASCIIç å’Œå­—ç¬¦çš„è½¬åŒ–" class="headerlink" title="1.ASCIIç å’Œå­—ç¬¦çš„è½¬åŒ–"></a>1.ASCIIç å’Œå­—ç¬¦çš„è½¬åŒ–</h3><p>ä½¿ç”¨ <strong><code>charCodeAt</code>å’Œ<code>fromCharCode</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;A&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> code = str.charCodeAt(); <span class="comment">// charCodeAtè·å–å­—ç¬¦å¯¹åº”çš„ASCIIç </span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="built_in">String</span>.fromCharCode(code); <span class="comment">// Stringçš„fromCharCodeæ–¹æ³•æ ¹æ®ASCIIè·å–å­—ç¬¦</span></span><br></pre></td></tr></table></figure><br><h3 id="2-åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"><a href="#2-åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="headerlink" title="2.åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></a>2.åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h3><p>ä½¿ç”¨ <strong><code>toString(2)</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line">a.toString(<span class="number">2</span>)  <span class="comment">// &#x27;101&#x27;</span></span><br></pre></td></tr></table></figure><p>å…«è¿›åˆ¶ï¼Œåå…­è¿›åˆ¶åŒç†ï¼Œåªéœ€è¦å°†å‚æ•°2æ”¹æˆ8ã€16å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">64</span></span><br><span class="line">a.toString(<span class="number">8</span>)  <span class="comment">// &#x27;100&#x27;</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">15</span></span><br><span class="line">b.toString(<span class="number">16</span>) <span class="comment">// &#x27;f&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™é‡Œå‰é¢çš„æ•°æ˜¯Numberç±»å‹ï¼Œè½¬åŒ–ä¸ºäºŒè¿›åˆ¶åä¸ºStringç±»å‹</strong></p><br><h3 id="3-äºŒè¿›åˆ¶è½¬åè¿›åˆ¶"><a href="#3-äºŒè¿›åˆ¶è½¬åè¿›åˆ¶" class="headerlink" title="3.äºŒè¿›åˆ¶è½¬åè¿›åˆ¶"></a>3.äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</h3><p>ä½¿ç”¨ <strong><code>parseInt(str, 2)</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;1100&#x27;</span></span><br><span class="line"><span class="built_in">parseInt</span>(a, <span class="number">2</span>)  <span class="comment">// 12</span></span><br></pre></td></tr></table></figure><p>å…«è¿›åˆ¶ï¼Œåå…­è¿›åˆ¶è½¬10è¿›åˆ¶ä¹ŸåŒç†ï¼Œåªéœ€è¦å°†ç¬¬äºŒä¸ªå‚æ•°2æ”¹ä¸º 8ã€16å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;10&#x27;</span> <span class="comment">// å…«è¿›åˆ¶çš„10è¡¨ç¤ºåè¿›åˆ¶çš„8</span></span><br><span class="line"><span class="built_in">parseInt</span>(a, <span class="number">8</span>) <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;f&#x27;</span> <span class="comment">// åå…­è¿›åˆ¶çš„fè¡¨ç¤ºåè¿›åˆ¶çš„15</span></span><br><span class="line"><span class="built_in">parseInt</span>(b, <span class="number">16</span>)  <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™é‡Œå‰é¢çš„æ•°æ˜¯Stringç±»å‹ï¼Œè½¬åŒ–ä¸ºåè¿›åˆ¶åä¸ºNumberç±»å‹</strong></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ¿å­—ç¬¦ä¸²çš„ç®€å•å®ç°</title>
      <link href="/wangq1231/2021/11/18/%E2%94%80%D0%B3%E2%96%91%D1%85%E2%95%AB%E2%95%93%E2%95%96%E2%88%9A%E2%94%A4%D0%BE%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93/"/>
      <url>/wangq1231/2021/11/18/%E2%94%80%D0%B3%E2%96%91%D1%85%E2%95%AB%E2%95%93%E2%95%96%E2%88%9A%E2%94%A4%D0%BE%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>ç”±äºå‰ä¸ä¹…é‡åˆ°ä¸€ä¸ªå‰ç«¯ç¬”è¯•é¢˜ï¼Œå®ç°ä¸€ä¸ªç®€æ˜“çš„æ¨¡æ¿æ¸²æŸ“å‡½æ•°ï¼Œä½†æ˜¯æ²¡èƒ½åšå‡ºæ¥ï¼Œäºæ˜¯åœ¨æ­¤è¿›è¡Œæ€»ç»“è®°å½•ã€‚</p></blockquote><p>é¢˜ç›®å¤§è‡´å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°ä¸€ä¸ªç®€æ˜“æ¨¡æ¿æ¸²æŸ“</span></span><br><span class="line"><span class="comment">// ä¾‹ renderTpl(&#x27;æˆ‘å·²ç»æœ‰$&#123;year&#125;å¹´$&#123;pos&#125;å¼€å‘ç»éªŒäº†&#x27;, &#123;year: &#x27;2&#x27;, pos: &#x27;å‰ç«¯&#x27;&#125;)  è¾“å‡º &#x27;æˆ‘å·²ç»æœ‰2å¹´å‰ç«¯å¼€å‘ç»éªŒäº†&#x27;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿‡<code>ES6</code>çš„æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•çš„äººéƒ½çŸ¥é“ï¼Œå¯ä»¥ä½¿ç”¨<code>$&#123;&#125;</code>å°†å˜é‡åŒ…èµ·æ¥ï¼Œæ›¿ä»£åŸæ¥<code>ES5</code>çš„<code>+</code>æ‹¼æ¥å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå‡½æ•°è¦å®ç°çš„åŠŸèƒ½æ­£æ˜¯å¦‚æ­¤ã€‚</p><p>å› ä¸ºæ˜¯ä½¿ç”¨<code>$&#123;&#125;</code>è¿™ç§ç‰¹å®šçš„è¯­æ³•ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œä½¿ç”¨æ­£åˆ™å°†<code>$&#123;&#125;</code>é‡Œé¢çš„å†…å®¹æ›¿æ¢å‡ºæ¥ï¼Œå¡«å……æˆ‘ä»¬å®šä¹‰çš„å˜é‡è¿›å»å³å¯ã€‚è¿™é‡Œä½¿ç”¨åˆ°å­—ç¬¦ä¸²çš„<code>replace</code>æ–¹æ³•ï¼š(æ›´å¤šreplaceå†…å®¹<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace">ç‚¹è¿™é‡Œ</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡æ¿å­—ç¬¦ä¸²çš„å®ç°å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>str è¦åŒ¹é…çš„å­—ç¬¦ä¸² </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>obj è¦æ›¿æ¢çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns </span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderTpl</span>(<span class="params">str, obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è¯¥æ­£åˆ™ç”¨æ¥åŒ¹é… $&#123;&#125; é‡Œçš„å†…å®¹</span></span><br><span class="line">  <span class="keyword">const</span> regex = <span class="regexp">/\$\&#123;([^&#125;]+)\&#125;/g</span></span><br><span class="line">  <span class="comment">// è¯¥å‡½æ•°ç”¨æ¥æ›¿æ¢ç¬¬ä¸€ä¸ªå‚æ•°`match`åŒ¹é…åˆ°çš„ç»“æœï¼Œè¿”å›å€¼å°±æ˜¯æ›¿æ¢åçš„ç»“æœ</span></span><br><span class="line">  <span class="keyword">const</span> replacer = <span class="function"><span class="keyword">function</span> (<span class="params">match, item</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(match, item);</span><br><span class="line">    <span class="keyword">return</span> obj[item]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›æ›¿æ¢å‡½æ•°æ‰§è¡Œåçš„ç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> str.replace(regex, replacer)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œçš„æ‰“å°è¯­å¥ä¼šæ‰“å°å‡º</span></span><br><span class="line"><span class="comment">// $&#123;year&#125; year</span></span><br><span class="line"><span class="comment">// $&#123;pos&#125; pos</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> renderStr = renderTpl(<span class="string">&quot;æˆ‘å·²ç»æœ‰$&#123;year&#125;å¹´$&#123;pos&#125;å¼€å‘ç»éªŒäº†&quot;</span>, &#123; <span class="attr">year</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">pos</span>: <span class="string">&#x27;å‰ç«¯&#x27;</span> &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(renderStr)  <span class="comment">// æ‰“å°ç»“æœï¼š &quot;æˆ‘å·²ç»æœ‰2å¹´å‰ç«¯å¼€å‘ç»éªŒäº†&quot;</span></span><br></pre></td></tr></table></figure><p>å®ç°è¿™ä¸ªå‡½æ•°çš„ä¸»è¦éš¾ç‚¹æˆ‘è®¤ä¸ºæ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™ï¼Œå¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„è¯ï¼ŒçœŸçš„å¾ˆéš¾â€¦</p><p>è¯¥æ­£åˆ™è¿›è¡Œæ‹†åˆ†ï¼š</p><p><code>/\$\&#123;([^&#125;]+)\&#125;/g</code></p><ol><li>é¦–å…ˆæ˜¯gåç¼€ï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…ï¼Œä¸ä¼šåŒ¹é…åˆ°ä¸€ä¸ªå°±ç»“æŸ</li><li>å‰é¢çš„<code>\$</code>å’Œ<code>\&#123;</code>è¡¨ç¤ºè½¬ä¹‰ï¼Œè¿›è¡ŒåŒ¹é…<code>$&#123;</code></li><li>åŒ¹é…åˆ°<code>$&#123;</code>åï¼Œæ¥ä¸‹æ¥è¿™ä¸€ä¸²<code>([^&#125;]+)</code>è¡¨ç¤ºåŒ¹é…<strong>ä¸€ä¸ªæˆ–å¤šä¸ªé<code>&#125;</code>çš„å­—ç¬¦</strong></li><li>æœ€ååŒ¹é…<code>\&#125;</code>ï¼Œ åŒ¹é…å³èŠ±æ‹¬å·</li></ol>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EventEmitterç®€å•å®ç°</title>
      <link href="/wangq1231/2021/11/13/eventEmitter%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93/"/>
      <url>/wangq1231/2021/11/13/eventEmitter%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><br><blockquote><p>ç”±äºå‰ä¸ä¹…åšæŸå‚çš„å‰ç«¯ç¬”è¯•é¢˜ï¼Œé‡åˆ°è¿™é“é¢˜æ²¡èƒ½å®ç°å‡ºæ¥ï¼Œäºæ˜¯åœ¨æ­¤è¿›è¡Œæ€»ç»“è®°å½•ã€‚</p></blockquote><p><code>EventEmitter</code>æ˜¯<code>Node.js</code>ä¸­æä¾›çš„ä¸€ä¸ªç›‘å¬å™¨ç±»ï¼Œç±»ä¼¼äºå‰ç«¯<code>vue</code>ä¸­çš„<code>eventBus</code>äº‹ä»¶æ€»çº¿ã€‚</p><p>å…¶åŸç†ä¸»è¦æ˜¯å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ã€‚</p><p> ç”¨è®¢é˜…æ‚å¿—è¿›è¡Œç±»æ¯”ï¼Œæ‰€æœ‰çš„æ‚å¿—å°±æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡ï¼š <strong><code>events: &#123;&#125;</code></strong></p><ul><li><p> æ„æ—æ˜¯å…¶ä¸­ä¸€æ¬¾æ‚å¿—ï¼Œé‚£ä¹ˆæ„æ—å°±æ˜¯eventså¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå€¼ä¸ºæ•°ç»„ï¼ˆå› ä¸ºè®¢é˜…æ„æ—æ‚å¿—çš„äººå¯ä»¥ä¸æ­¢ä¸€ä¸ªï¼‰:  <strong><code>events: &#123;&#39;æ„æ—&#39;: []&#125;</code></strong></p></li><li><p> å½“æˆ‘è®¢é˜…æ„æ—ï¼Œé‚£ä¹ˆæˆ‘å°±åº”è¯¥æ”¶å…¥å€’æ„æ—æ•°ç»„ä¸­ï¼Œè®©æ„æ—çŸ¥é“æˆ‘è®¢é˜…äº†å®ƒ: <strong><code>events: &#123;&#39;æ„æ—&#39;: [&#39;æˆ‘&#39;]&#125;</code></strong> <strong>(è¿™é‡Œâ€™æˆ‘â€™æ˜¯æ‰§è¡Œå‡½æ•°)</strong></p></li><li><p> æœ€åï¼Œå½“æ„æ—å‘å¸ƒäº†æ–°ä¸€æœŸæ‚å¿—æ—¶ï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šæ”¶åˆ°è¿™ä¸€æœŸæ‚å¿—ï¼Œ<strong>ä¹Ÿå°±æ˜¯æ„æ—å¯¹æ•°ç»„ä¸­çš„â€™æˆ‘â€™è¿›è¡Œäº†æ‰§è¡Œ</strong>ã€‚</p></li><li><p> å½“æˆ‘è§‰å¾—æ„æ—ä¸å¥½çœ‹äº†ï¼Œé‚£æˆ‘å°±ä¼šå–æ¶ˆè®¢é˜…ï¼Œäºæ˜¯ä¹<strong>åœ¨æ„æ—æ•°ç»„ä¸­å°†æˆ‘ç§»é™¤å³å¯</strong>ã€‚</p></li><li><p>å¦‚æœæˆ‘åªæƒ³çœ‹ä¸‹ä¸€æœŸçš„æ„æ—ï¼Œä¸‹ä¸‹ä¸€æœŸçš„æ„æ—æˆ‘ä¸æƒ³çœ‹äº†ï¼Œé‚£ä¹ˆæˆ‘å°±è¿›è¡Œå•æ¬¡è®¢é˜…å³å¯ã€‚ï¼ˆä½¿ç”¨onceæ–¹æ³•ï¼‰</p><p> ä¸‹é¢è¿™ä¸ª<code>EventEmitter</code>ç±»è¿›è¡Œäº†ç®€å•å®ç°ï¼Œä¸»è¦å®ç° â€˜onâ€™ã€â€™emitâ€™ã€â€™onceâ€™å’Œâ€™removeâ€™å››ä¸ªæ–¹æ³•</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventEmitter</span> </span>&#123;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.events = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// äº‹ä»¶ç›‘å¬ï¼Œç›‘å¬çš„è¿‡ç¨‹å°±æ˜¯è®¢é˜…ï¼Œä¹Ÿå°±æ˜¯æŠŠè®¢é˜…è€…æ”¶é›†èµ·æ¥</span></span><br><span class="line">  <span class="function"><span class="title">on</span>(<span class="params">eventName, callback</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸å­˜åœ¨è¯¥äº‹ä»¶ï¼Œåˆ™è¿›è¡Œæ•°ç»„åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.events[eventName]) &#123;</span><br><span class="line">      <span class="built_in">this</span>.events[eventName] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å­˜åœ¨å¯¹åº”çš„æ•°ç»„ç»§ç»­è®¢é˜…æ”¶é›†ï¼Œåˆ™æŠŠäº‹ä»¶æ¨å…¥æ”¶é›†æ•°ç»„</span></span><br><span class="line">    <span class="built_in">this</span>.events[eventName].push(callback)</span><br><span class="line">    <span class="comment">// è¿”å›è‡ªèº« æ–¹ä¾¿é“¾å¼è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// äº‹ä»¶è§¦å‘ï¼Œè§¦å‘çš„è¿‡ç¨‹å°±æ˜¯å‘å¸ƒï¼Œä¹Ÿå°±æ˜¯é€šçŸ¥è®¢é˜…è€…</span></span><br><span class="line">  <span class="function"><span class="title">emit</span>(<span class="params">eventName, ...args</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸å­˜åœ¨è¯¥äº‹ä»¶ï¼Œåˆ™ä¸è§¦å‘</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.events[eventName]) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å­˜åœ¨åˆ™å¯¹æ”¶é›†çš„è®¢é˜…è€…ä¸€ä¸€é€šçŸ¥(å‡½æ•°ä¸€ä¸€æ‰§è¡Œ)</span></span><br><span class="line">    <span class="keyword">const</span> fns = <span class="built_in">this</span>.events[eventName]</span><br><span class="line">    <span class="comment">// æ‰§è¡Œçš„æ—¶å€™ç»‘å®šè‡ªèº«this</span></span><br><span class="line">    fns.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn.apply(<span class="built_in">this</span>, args))</span><br><span class="line">    <span class="comment">// è¿”å›è‡ªèº« æ–¹ä¾¿é“¾å¼è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è§£ç»‘äº‹ä»¶ï¼Œå–æ¶ˆè®¢é˜…ï¼Œå°†è®¢é˜…è€…ä»è®¢é˜…è€…æ•°ç»„ä¸­ç§»é™¤</span></span><br><span class="line">  <span class="function"><span class="title">remove</span>(<span class="params">eventName, callback</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.events[eventName]) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ²¡æœ‰æŒ‡å®šè§£ç»‘äº‹ä»¶? å°±æ˜¯æ²¡æœ‰æŒ‡å®šå¯¹åº”çš„è®¢é˜…è€…ï¼Œé‚£ä¹ˆç§»é™¤æ‰€æœ‰è®¢é˜…è€…</span></span><br><span class="line">    <span class="keyword">if</span> (!callback) &#123;</span><br><span class="line">      <span class="built_in">this</span>.events[eventName] = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦åˆ™æ‰¾åˆ°è¯¥äº‹ä»¶, å°±æ˜¯å¯¹åº”çš„è®¢é˜…è€…ï¼Œå°†å…¶ç§»é™¤</span></span><br><span class="line">    <span class="keyword">const</span> index = <span class="built_in">this</span>.events[eventName].indexOf(callback);</span><br><span class="line">    <span class="built_in">this</span>.events[eventName].splice(index, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å•æ¬¡ç»‘å®šäº‹ä»¶,æ‰§è¡Œå®Œåè§£ç»‘</span></span><br><span class="line">  <span class="function"><span class="title">once</span>(<span class="params">eventName, callback</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> only = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      callback.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      <span class="built_in">this</span>.remove(eventName, only);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.on(eventName, only);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emt = <span class="keyword">new</span> EventEmitter()</span><br><span class="line"><span class="comment">// è®¢é˜…è€…1</span></span><br><span class="line"><span class="keyword">const</span> listener1 = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;æ„æ—çš„ç¬¬ä¸€ä¸ªè®¢é˜…è€…&#x27;</span>, ...args);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¢é˜…è€…2</span></span><br><span class="line"><span class="keyword">const</span> listener2 = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;æ„æ—çš„ç¬¬äºŒä¸ªè®¢é˜…è€…&#x27;</span>, ...args);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ”¶é›†è®¢é˜…è€…ï¼Œå°†æ‚å¿—å‘½åä¸º&#x27;yilin&#x27;</span></span><br><span class="line">emt.on(<span class="string">&#x27;yilin&#x27;</span>, listener1)</span><br><span class="line">emt.on(<span class="string">&#x27;yilin&#x27;</span>, listener2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 500msåè®¢é˜…è€…1ä¸æƒ³è¦è¯¥æ‚å¿—äº†ï¼Œè¿›è¡Œå–æ¶ˆè®¢é˜…</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  emt.remove(<span class="string">&#x27;yilin&#x27;</span>, listener1)</span><br><span class="line">&#125;, <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ç§’åæ„æ—æ‚å¿—æ›´æ–°äº†ï¼Œè¿›è¡Œå‘å¸ƒï¼Œé€šçŸ¥è®¢é˜…è€…ï¼Œè¿™æ—¶ç”±äºè®¢é˜…è€…1å–æ¶ˆè®¢é˜…äº†ï¼Œæ‰€ä»¥è®¢é˜…è€…1å°±ä¸ä¼šæ‰§è¡Œäº†</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  emt.emit(<span class="string">&#x27;yilin&#x27;</span>, <span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°ç»“æœä¸ºï¼š1såæ‰“å° `æ„æ—çš„ç¬¬äºŒä¸ªè®¢é˜…è€… hello world`</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šåªæ˜¯ç®€å•å®ç°ï¼Œå¦‚æœæœ‰ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œè¿˜è¯·å„ä½å¤§ä½¬æŒ‡æ­£ğŸ˜€</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csså®ç°æ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºçœç•¥å·</title>
      <link href="/wangq1231/2021/11/09/%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93%E2%95%AC%E2%94%80%E2%96%92%E2%95%9B%E2%94%82%D0%BC%E2%94%82%D0%8E%E2%95%A7%E2%95%98%E2%95%A9%E2%95%9B%E2%95%A9%D0%B1%E2%94%AC%E2%95%98%E2%95%91%E2%94%BC/"/>
      <url>/wangq1231/2021/11/09/%E2%95%A9%E2%95%A1%E2%95%A7%E2%95%93%E2%95%AC%E2%94%80%E2%96%92%E2%95%9B%E2%94%82%D0%BC%E2%94%82%D0%8E%E2%95%A7%E2%95%98%E2%95%A9%E2%95%9B%E2%95%A9%D0%B1%E2%94%AC%E2%95%98%E2%95%91%E2%94%BC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h3 id="ä¸€ã€å®ç°å•è¡Œæ–‡æœ¬çœç•¥"><a href="#ä¸€ã€å®ç°å•è¡Œæ–‡æœ¬çœç•¥" class="headerlink" title="ä¸€ã€å®ç°å•è¡Œæ–‡æœ¬çœç•¥"></a>ä¸€ã€å®ç°å•è¡Œæ–‡æœ¬çœç•¥</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸç†ï¼šè®¾ç½®æ–‡å­—ä¸æ¢è¡Œï¼Œæº¢å‡ºåéšè—ï¼Œæˆªæ–­æ˜¾ç¤ºçœç•¥ç¬¦ */</span></span><br><span class="line"><span class="selector-class">.ellipsis</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">p</span> class=&quot;ellipsis&quot;&gt;Lorem ipsum dolor sit amet, brute idque noster at nam. Et vix case.&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure><p> <a href="https://codepen.io/he-huang-the-vuer/pen/eYEKLXO">æŸ¥çœ‹ç¤ºä¾‹</a></p><h3 id="äºŒã€å¤šè¡Œæ–‡æœ¬çœç•¥"><a href="#äºŒã€å¤šè¡Œæ–‡æœ¬çœç•¥" class="headerlink" title="äºŒã€å¤šè¡Œæ–‡æœ¬çœç•¥"></a>äºŒã€å¤šè¡Œæ–‡æœ¬çœç•¥</h3><h4 id="1-ä½¿ç”¨line-clampå±æ€§"><a href="#1-ä½¿ç”¨line-clampå±æ€§" class="headerlink" title="1. ä½¿ç”¨line-clampå±æ€§"></a>1. ä½¿ç”¨<code>line-clamp</code>å±æ€§</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸç†ï¼šè®¾ç½®ç‰¹å®šçš„displayï¼Œä½¿ç”¨-webkit-line-clampå±æ€§è®¾ç½®æº¢å‡ºçš„è¡Œæ•°ï¼Œæº¢å‡ºåéšè— */</span></span><br><span class="line"><span class="selector-class">.ellipsis</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">p</span> class=&quot;ellipsis&quot;&gt;Lorem ipsum dolor sit amet, brute idque noster at nam. Et vix case<span class="selector-class">.Lorem</span> ipsum dolor sit amet, brute idque noster at nam. Et vix case.&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/he-huang-the-vuer/pen/eYEKLXO">line-clampç¤ºä¾‹</a></p><p>è¯¥å±æ€§å¸¦æœ‰<code>webkit</code>å‰ç¼€ï¼Œå¤šå°‘è‚¯å®šæœ‰äº›å…¼å®¹é—®é¢˜ã€‚</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/line-clamp.png" alt="image-20211112201944238"></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ</title>
      <link href="/wangq1231/2021/10/28/%E2%94%90%D1%87%E2%95%99%D0%84%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%9C%D1%82%E2%95%9B%D0%8E%E2%95%96%E2%95%9C%E2%96%91%E2%95%95/"/>
      <url>/wangq1231/2021/10/28/%E2%94%90%D1%87%E2%95%99%D0%84%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%9C%D1%82%E2%95%9B%D0%8E%E2%95%96%E2%95%9C%E2%96%91%E2%95%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h3 id="åŒæºç­–ç•¥ï¼š"><a href="#åŒæºç­–ç•¥ï¼š" class="headerlink" title="åŒæºç­–ç•¥ï¼š"></a>åŒæºç­–ç•¥ï¼š</h3><ul><li>åè®®ç›¸åŒï¼ˆprotocolï¼‰</li><li>ä¸»æœºç›¸åŒï¼ˆhostï¼‰</li><li>ç«¯å£ç›¸åŒï¼ˆportï¼‰</li></ul><p>å¦‚æœä¸æ»¡è¶³åŒæºç­–ç•¥çš„ç½‘ç»œè¯·æ±‚å°±å½¢æˆäº†è·¨åŸŸã€‚</p><h3 id="ä¸€-è§£å†³æ–¹æ¡ˆä¹‹-jsonpï¼š"><a href="#ä¸€-è§£å†³æ–¹æ¡ˆä¹‹-jsonpï¼š" class="headerlink" title="ä¸€.è§£å†³æ–¹æ¡ˆä¹‹ jsonpï¼š"></a>ä¸€.è§£å†³æ–¹æ¡ˆä¹‹ jsonpï¼š</h3><p>å‰ç«¯ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">showJsonp = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(obj)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å›è°ƒå‡½æ•°æ‹¼åœ¨è¯·æ±‚å‚æ•°ä¸­</span></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;http://localhost:3030/getTodoJsonp?callback=showJsonp&#x27;</span></span><br><span class="line"><span class="comment">// åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§å‘èµ·è¯·æ±‚ï¼Œè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Œä½†ä»…é™äºgetè¯·æ±‚</span></span><br><span class="line"><span class="keyword">const</span> scriptEle = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line">scriptEle.setAttribute(<span class="string">&#x27;src&#x27;</span>, url)</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(scriptEle)</span><br><span class="line">scriptEle.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">document</span>.body.removeChild(scriptEle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯ä»£ç (Node Expressæ¡†æ¶)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†jsonpè¯·æ±‚ï¼Œè§£å†³è·¨åŸŸé—®é¢˜</span></span><br><span class="line">app.get(<span class="string">&#x27;/getTodoJsonp&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> callback = req.query.callback</span><br><span class="line">  <span class="keyword">let</span> content = callback + <span class="string">&quot;(&#123;&#x27;message&#x27;:&#x27;æµ‹è¯•æ•°æ®&#x27;&#125;)&quot;</span></span><br><span class="line">  res.send(content)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é¡µé¢æ‰“å°ï¼š<code>&#123;message: &quot;æµ‹è¯•æ•°æ®&quot;&#125;</code></p><h3 id="äºŒ-è§£å†³æ–¹æ¡ˆä¹‹CORSï¼š"><a href="#äºŒ-è§£å†³æ–¹æ¡ˆä¹‹CORSï¼š" class="headerlink" title="äºŒ.è§£å†³æ–¹æ¡ˆä¹‹CORSï¼š"></a>äºŒ.è§£å†³æ–¹æ¡ˆä¹‹CORSï¼š</h3><p>CORS ï¼ˆCross-Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰æ˜¯ä¸€ä¸ªç³»ç»Ÿï¼Œå®ƒç”±ä¸€ç³»åˆ—ä¼ è¾“çš„HTTPå¤´ç»„æˆï¼Œè¿™äº›HTTPå¤´å†³å®šæµè§ˆå™¨æ˜¯å¦é˜»æ­¢å‰ç«¯ JavaScript ä»£ç è·å–è·¨åŸŸè¯·æ±‚çš„å“åº”</p><p><code>CORS</code> å®ç°èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦å¢åŠ ä¸€äº› <code>HTTP</code> å¤´ï¼Œè®©æœåŠ¡å™¨èƒ½å£°æ˜å…è®¸çš„è®¿é—®æ¥æº</p><p>åªè¦åç«¯å®ç°äº† <code>CORS</code>ï¼Œå°±å®ç°äº†è·¨åŸŸ</p><p>åç«¯ä»£ç æ —å­(Node Expressæ¡†æ¶)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®å…è®¸è·¨åŸŸè¯·æ±‚</span></span><br><span class="line">app.all(<span class="string">&#x27;*&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Origin, X-Requested-With, Content-Type, Accept&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;PUT,POST,GET,DELETE,OPTIONS&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;X-Powered-By&#x27;</span>, <span class="string">&#x27;3.2.1&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>)</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>*<em><code>Access-Control-Allow-Origin</code> è®¾ç½®ä¸º</em>å…¶å®æ„ä¹‰ä¸å¤§ï¼Œå¯ä»¥è¯´æ˜¯å½¢åŒè™šè®¾ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸Šçº¿å‰æˆ‘ä»¬ä¼šå°†<code>Access-Control-Allow-Origin</code> å€¼è®¾ä¸ºæˆ‘ä»¬ç›®æ ‡<code>host</code>**</p><h3 id="ä¸‰-è§£å†³æ–¹æ¡ˆä¹‹Websocketï¼š"><a href="#ä¸‰-è§£å†³æ–¹æ¡ˆä¹‹Websocketï¼š" class="headerlink" title="ä¸‰.è§£å†³æ–¹æ¡ˆä¹‹Websocketï¼š"></a>ä¸‰.è§£å†³æ–¹æ¡ˆä¹‹Websocketï¼š</h3><p>Websocket æ˜¯ HTML5 çš„ä¸€ä¸ªæŒä¹…åŒ–çš„åè®®ï¼Œå®ƒ<strong>å®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„å…¨åŒå·¥é€šä¿¡</strong>ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è·¨åŸŸçš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ä»€ä¹ˆæ˜¯å…¨åŒå·¥é€šä¿¡ ï¼Ÿç®€å•æ¥è¯´ï¼Œ<strong>å°±æ˜¯åœ¨å»ºç«‹è¿æ¥ä¹‹åï¼Œserver ä¸ client éƒ½èƒ½ä¸»åŠ¨å‘å¯¹æ–¹å‘é€æˆ–æ¥æ”¶æ•°æ®</strong>ã€‚æˆ‘ä»¬è¿™é‡Œä»¥ç¬¬ä¸‰æ–¹åº“ <strong>ws</strong> ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> WebSocket = <span class="built_in">require</span>(<span class="string">&#x27;ws&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">&#x27;ws://www.host.com/path&#x27;</span>);</span><br><span class="line"></span><br><span class="line">ws.on(<span class="string">&#x27;open&#x27;</span>, <span class="function"><span class="keyword">function</span> <span class="title">open</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ws.send(<span class="string">&#x27;something&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ws.on(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="keyword">function</span> <span class="title">incoming</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br><span class="line">... ...</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒWebsocket å±äºé•¿è¿æ¥ï¼Œåœ¨ä¸€ä¸ªé¡µé¢å»ºç«‹å¤šä¸ª Websocket è¿æ¥å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p><h3 id="å››-è§£å†³æ–¹æ¡ˆä¹‹Proxyï¼š"><a href="#å››-è§£å†³æ–¹æ¡ˆä¹‹Proxyï¼š" class="headerlink" title="å››. è§£å†³æ–¹æ¡ˆä¹‹Proxyï¼š"></a>å››. è§£å†³æ–¹æ¡ˆä¹‹Proxyï¼š</h3><p>ä»£ç†ï¼ˆProxyï¼‰ä¹Ÿç§°ç½‘ç»œä»£ç†ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸ä¸€ä¸ªï¼ˆä¸€èˆ¬ä¸ºå®¢æˆ·ç«¯ï¼‰é€šè¿‡è¿™ä¸ªæœåŠ¡ä¸å¦ä¸€ä¸ªç½‘ç»œç»ˆç«¯ï¼ˆä¸€èˆ¬ä¸ºæœåŠ¡å™¨ï¼‰è¿›è¡Œéç›´æ¥çš„è¿æ¥ã€‚ä¸€äº›ç½‘å…³ã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡å…·å¤‡ç½‘ç»œä»£ç†åŠŸèƒ½ã€‚ä¸€èˆ¬è®¤ä¸ºä»£ç†æœåŠ¡æœ‰åˆ©äºä¿éšœç½‘ç»œç»ˆç«¯çš„éšç§æˆ–å®‰å…¨ï¼Œé˜²æ­¢æ”»å‡»</p><ol><li>vueé¡¹ç›®å¼€å‘è¿‡ç¨‹å¯ä»¥é…ç½®vue.config.jsæ–‡ä»¶æ¥è®¾ç½®ä»£ç†å…è®¸è·¨åŸŸã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.jsæ–‡ä»¶</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>,<span class="comment">// vueé¡¹ç›®å¯åŠ¨æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">        <span class="attr">proxy</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: &#123; <span class="comment">// &#x27;/api&#x27;æ˜¯ä»£ç†æ ‡è¯†ï¼Œç”¨äºå‘Šè¯‰nodeï¼Œurlå‰é¢æ˜¯/apiçš„å°±æ˜¯ä½¿ç”¨ä»£ç†çš„</span></span><br><span class="line">                <span class="attr">target</span>: <span class="string">&quot;http://localhost:3030&quot;</span>, <span class="comment">//ç›®æ ‡åœ°å€ï¼Œä¸€èˆ¬æ˜¯æŒ‡åå°æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">                <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦è·¨åŸŸ</span></span><br><span class="line">                <span class="attr">pathRewrite</span>: &#123; <span class="comment">// pathRewrite çš„ä½œç”¨æ˜¯æŠŠå®é™…Request Urlä¸­çš„&#x27;/api&#x27;ç”¨&quot;&quot;ä»£æ›¿</span></span><br><span class="line">                    <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&quot;&quot;</span> </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// axioså‘é€è¯·æ±‚ä¸­é…ç½®è¯·æ±‚çš„æ ¹è·¯å¾„</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&#x27;/api&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æœåŠ¡ç«¯å®ç°ä»£ç†è¯·æ±‚è½¬å‘</li></ol><p>ä»¥expressæ¡†æ¶ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line">app.use(express.static(__dirname + <span class="string">&#x27;/&#x27;</span>))</span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, proxy(&#123;</span><br><span class="line">  <span class="attr">target</span>: <span class="string">&#x27;http://localhost:4000&#x27;</span>, </span><br><span class="line">  <span class="attr">changeOrigin</span>: <span class="literal">false</span></span><br><span class="line">&#125;));</span><br><span class="line"><span class="built_in">module</span>.exports = app</span><br></pre></td></tr></table></figure><ol start="3"><li>é€šè¿‡é…ç½®<code>nginx</code>å®ç°ä»£ç†(ä¸€èˆ¬ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­)</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen 8088;</span><br><span class="line">server_name 127.0.0.1; # ä¸»æœºå</span><br><span class="line">gzip on;  # å¼€å¯gzipå‹ç¼©åŠŸèƒ½</span><br><span class="line">gzip_min_length  1024; #è®¾ç½®æœ€å°å‹ç¼©å¤§å°ï¼Œå•ä½å­—èŠ‚</span><br><span class="line">gzip_types text/plain application/x-javascript text/css application/xml; #ç”¨æ¥æŒ‡å®šå‹ç¼©çš„ç±»å‹ï¼Œâ€œtext/htmlâ€ç±»å‹æ€»æ˜¯ä¼šè¢«å‹ç¼©ã€‚</span><br><span class="line">location / &#123;</span><br><span class="line">root /home/exam/dist;</span><br><span class="line">index index.html index.htm;</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ è¯·æ±‚å¤´</span></span><br><span class="line">      add_header &#x27;Access-Control-Allow-Origin&#x27; *;</span><br><span class="line">      add_header &#x27;Access-Control-Allow-Credentials&#x27; &#x27;true&#x27;;</span><br><span class="line">      add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class="line">      add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location /api &#123;</span><br><span class="line">include uwsgi_params;</span><br><span class="line">      # ä»£ç†è¯·æ±‚è·¯å¾„</span><br><span class="line">proxy_pass http://127.0.0.1:3033/api;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ä¸‹è½½äºŒè¿›åˆ¶æµæ–‡ä»¶</title>
      <link href="/wangq1231/2021/10/11/%E2%95%9F%E2%96%91%E2%95%A2%E2%95%A6%E2%95%A7%E2%94%AC%E2%95%98%E2%95%AA%E2%95%A2%E2%96%A0%E2%95%9C%C2%B0%E2%95%93%E2%95%9E%E2%94%B4%D1%9E%E2%95%AC%E2%94%80%E2%95%9D%E2%96%A0/"/>
      <url>/wangq1231/2021/10/11/%E2%95%9F%E2%96%91%E2%95%A2%E2%95%A6%E2%95%A7%E2%94%AC%E2%95%98%E2%95%AA%E2%95%A2%E2%96%A0%E2%95%9C%C2%B0%E2%95%93%E2%95%9E%E2%94%B4%D1%9E%E2%95%AC%E2%94%80%E2%95%9D%E2%96%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>å‰åç«¯å¯¹æ¥æ—¶ï¼Œåç«¯å¸¸æœ‰è¿”å›äºŒè¿›åˆ¶æµæ–‡ä»¶çš„æƒ…å†µï¼Œå‰ç«¯éœ€è¦ä¸‹è½½æˆ–é¢„è§ˆ(pdfã€htmlã€å›¾ç‰‡æ–‡ä»¶ç­‰)ã€‚ä¸‹é¢ä»‹ç»å‡ ç§å®ç°å‰ç«¯è·å–äºŒè¿›åˆ¶æµå¹¶ä¸‹è½½æˆ–é¢„è§ˆçš„æ–¹å¼</p></blockquote><h3 id="1-ç›´æ¥é¢„è§ˆäºŒè¿›åˆ¶æµæ–‡ä»¶"><a href="#1-ç›´æ¥é¢„è§ˆäºŒè¿›åˆ¶æµæ–‡ä»¶" class="headerlink" title="1.ç›´æ¥é¢„è§ˆäºŒè¿›åˆ¶æµæ–‡ä»¶"></a>1.ç›´æ¥é¢„è§ˆäºŒè¿›åˆ¶æµæ–‡ä»¶</h3><p>å¦‚æœè¿”å›çš„äºŒè¿›åˆ¶æµæ˜¯ä¸€ä¸ªpdfæ–‡ä»¶æˆ–å›¾ç‰‡æ–‡ä»¶ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡æ‰“å¼€æ–°æ ‡ç­¾é¡µçš„æ–¹å¼è¿›è¡Œæ–‡ä»¶é¢„è§ˆã€‚ä¾‹å¦‚è¯·æ±‚å¦‚ä¸‹æ¥å£<code>https://via.placeholder.com/150/24f355</code>ï¼Œè¿”å›ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œå‰ç«¯å¯ä»¥ä½¿ç”¨<code>window.open(&quot;https://via.placeholder.com/150/24f355&quot;)</code>æ¥æ‰“å¼€æ–°æ ‡ç­¾é¡µå®ç°é¢„è§ˆã€‚<br>å½“ç„¶è¿™ç§æƒ…å†µæ˜¯æ¥å£å¹¶æ²¡æœ‰åšå…¶ä»–å¤„ç†ï¼Œå¦‚æœæ¥å£éœ€è¦éªŒè¯<code>token</code>è¯·æ±‚å¤´ä½¿ç”¨<code>window.open</code>æ˜¯æ— æ³•è®¾ç½®è¯·æ±‚å¤´çš„ã€‚ä¸‹é¢ä¼šä»‹ç»å¦‚ä½•è§£å†³éœ€è¦<code>token</code>çš„æƒ…å†µ</p><h3 id="2-ä½¿ç”¨Blobå¯¹è±¡å®ç°ä¸‹è½½"><a href="#2-ä½¿ç”¨Blobå¯¹è±¡å®ç°ä¸‹è½½" class="headerlink" title="2.ä½¿ç”¨Blobå¯¹è±¡å®ç°ä¸‹è½½"></a>2.ä½¿ç”¨Blobå¯¹è±¡å®ç°ä¸‹è½½</h3><p>ä½¿ç”¨Blobå¯¹è±¡å®ç°ä¸‹è½½ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p><ol><li>è®¾ç½®æ¥å£è¯·æ±‚çš„<code>responseType</code>å€¼ä¸º<code>&#39;Blob&#39;</code></li><li>åˆ›å»ºBlobå¯¹è±¡<code>const blob = new Blob([data])</code></li><li>åˆ›å»ºä¸€ä¸ªä¸æ˜¾ç¤ºçš„aæ ‡ç­¾ï¼Œç‚¹å‡»ä¸‹è½½æŒ‰é’®æ—¶å®é™…è·³è½¬aæ ‡ç­¾çš„åœ°å€ï¼Œå®Œæˆä¸‹è½½<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)     <span class="comment">// åˆ›å»ºaæ ‡ç­¾</span></span><br><span class="line">link.download = <span class="string">&#x27;æ–‡ä»¶åç§°.åç¼€å&#x27;</span>              <span class="comment">// è®¾ç½®ä¸‹è½½çš„æ–‡ä»¶åç§°</span></span><br><span class="line">link.style.display = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">link.href = <span class="built_in">window</span>.URL.createObjectURL(blob) <span class="comment">// åˆ›å»ºBlobå¯¹è±¡çš„URLèµ‹å€¼ç»™aæ ‡ç­¾</span></span><br><span class="line">link.target = <span class="string">&#x27;blank&#x27;</span></span><br><span class="line"><span class="built_in">document</span>.body.append(link) <span class="comment">// å°†aæ ‡ç­¾æ·»åŠ åˆ°é¡µé¢ä¸­</span></span><br><span class="line">link.click() <span class="comment">// ç‚¹å‡»aæ ‡ç­¾å®ç°ä¸‹è½½</span></span><br></pre></td></tr></table></figure></li><li>é‡Šæ”¾URLå¯¹è±¡<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.URL.revokeObjectURL(link.href)</span><br><span class="line"><span class="built_in">document</span>.body.removeChild(link)</span><br></pre></td></tr></table></figure>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¾‹å­<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>blobä¸‹è½½æ–‡ä»¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;blobDown&quot;</span>&gt;</span>ä¸‹è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">&quot;blobDown&quot;</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      axios.get(<span class="string">&#x27;https://img1.baidu.com/it/u=2921118138,3990044703&amp;fm=26&amp;fmt=auto&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">responseType</span>: <span class="string">&#x27;blob&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(res.data);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([res.data])</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        link.download = <span class="string">&#x27;ç‹å†°å†°.jpg&#x27;</span></span></span><br><span class="line"><span class="javascript">        link.style.display = <span class="string">&#x27;none&#x27;</span></span></span><br><span class="line"><span class="javascript">        link.href = <span class="built_in">window</span>.URL.createObjectURL(blob)</span></span><br><span class="line"><span class="javascript">        link.target = <span class="string">&#x27;blank&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.append(link)</span></span><br><span class="line"><span class="javascript">        link.click()</span></span><br><span class="line"><span class="javascript">      &#125;)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="3-å¯¹blobä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶æµçš„æ–¹æ³•è¿›è¡ŒæŠ½ç¦»"><a href="#3-å¯¹blobä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶æµçš„æ–¹æ³•è¿›è¡ŒæŠ½ç¦»" class="headerlink" title="3.å¯¹blobä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶æµçš„æ–¹æ³•è¿›è¡ŒæŠ½ç¦»"></a>3.å¯¹blobä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶æµçš„æ–¹æ³•è¿›è¡ŒæŠ½ç¦»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>data blodæ–‡ä»¶æµ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>fileName ä¸‹è½½åçš„æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadBlob</span>(<span class="params">data, fileName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([data])</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&#x27;download&#x27;</span> <span class="keyword">in</span> <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">// éIEä¸‹è½½</span></span><br><span class="line">    <span class="keyword">const</span> elink = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    elink.download = fileName</span><br><span class="line">    elink.style.display = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    elink.href = URL.createObjectURL(blob)</span><br><span class="line">    elink.target = <span class="string">&#x27;blank&#x27;</span></span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(elink)</span><br><span class="line">    elink.click()</span><br><span class="line">    URL.revokeObjectURL(elink.href) <span class="comment">// é‡Šæ”¾URL å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(elink)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// IE10+ä¸‹è½½</span></span><br><span class="line">    navigator.msSaveBlob(blob, fileName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-è§£å†³window-openæ— æ³•é¢„è§ˆéœ€è¦è¯·æ±‚å¤´çš„æ¥å£è¿”å›çš„äºŒè¿›åˆ¶æµ"><a href="#4-è§£å†³window-openæ— æ³•é¢„è§ˆéœ€è¦è¯·æ±‚å¤´çš„æ¥å£è¿”å›çš„äºŒè¿›åˆ¶æµ" class="headerlink" title="4. è§£å†³window.openæ— æ³•é¢„è§ˆéœ€è¦è¯·æ±‚å¤´çš„æ¥å£è¿”å›çš„äºŒè¿›åˆ¶æµ"></a>4. è§£å†³window.openæ— æ³•é¢„è§ˆéœ€è¦è¯·æ±‚å¤´çš„æ¥å£è¿”å›çš„äºŒè¿›åˆ¶æµ</h3><p>å®é™…å¼€å‘ä¸­ï¼Œåç«¯çš„æ¥å£éƒ½ä¼šéœ€è¦ç”¨æˆ·éªŒè¯ï¼Œé€šå¸¸æ˜¯æ”¾åœ¨è¯·æ±‚å¤´æŸä¸ªå‚æ•°æˆ–å…·ä½“çš„è¯·æ±‚å‚æ•°ä¸­ã€‚<br>å¦‚æœåœ¨è¯·æ±‚å¤´ä¸­ï¼Œé‚£ä¹ˆwindow.opené¢„è§ˆæ–‡ä»¶æµåˆ™æ— æ³•é…ç½®è¯·æ±‚å¤´ï¼Œè¿™æ—¶å¯ä»¥ç”¨blobè§£å†³</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">&#x27;https://img1.baidu.com/it/u=2921118138,3990044703&amp;fm=26&amp;fmt=auto&#x27;</span>, &#123;</span><br><span class="line"> <span class="attr">responseType</span>: <span class="string">&#x27;blob&#x27;</span>,</span><br><span class="line"> <span class="attr">headers</span>: &#123;<span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;tokenInfo&#x27;</span>&#125; <span class="comment">// è¿™é‡Œè®¾ç½®å¯¹åº”çš„è¯·æ±‚å¤´</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res.data);</span><br><span class="line">  <span class="comment">// åˆ›å»ºBlobå¯¹è±¡çš„æ—¶å€™ï¼Œè®¾ç½®æŒ‡å®šçš„æ–‡ä»¶æ ¼å¼ã€‚å¦‚æœæ˜¯pdfåˆ™è®¾ç½® &#x27;type: &quot;application/pdf&quot;&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([res.data], &#123;<span class="attr">type</span>: <span class="string">&#x27;image/jpeg&#x27;</span>&#125;)  </span><br><span class="line">  <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">  link.href = <span class="built_in">window</span>.URL.createObjectURL(blob)</span><br><span class="line"> link.target = <span class="string">&#x27;blank&#x27;</span></span><br><span class="line">  link.click()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›´å¤šBlobç›¸å…³ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ï¼š<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob">Blob MDN</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯é¢è¯•é¢˜ä¹‹æ‰‹å†™åŸç†</title>
      <link href="/wangq1231/2021/09/03/%E2%95%9F%E2%96%91%E2%95%A2%E2%95%A6%E2%94%9C%D1%86%E2%95%A9%E2%95%98%E2%95%A0%D1%82%E2%95%93%D0%BE%E2%95%A9%E2%95%93%E2%95%A8%E2%94%A4%E2%95%98%D0%BD%E2%94%94%D1%8D/"/>
      <url>/wangq1231/2021/09/03/%E2%95%9F%E2%96%91%E2%95%A2%E2%95%A6%E2%94%9C%D1%86%E2%95%A9%E2%95%98%E2%95%A0%D1%82%E2%95%93%D0%BE%E2%95%A9%E2%95%93%E2%95%A8%E2%94%A4%E2%95%98%D0%BD%E2%94%94%D1%8D/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å‰ç«¯å¼€å‘ä¸­åŸç”ŸJSçš„ç†è§£ä¸€å®šè¦è¶³å¤Ÿé€å½»ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»é¢è¯•è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°çš„å®ç°JSä¸­çš„å…³é”®å­—æˆ–ä¸€äº›ç‰¹æ®Šæ–¹æ³•çš„åŸç†é¢˜ã€‚ç”±äºç»å¸¸çœ‹äº†å°±å¿˜ï¼Œäºæ˜¯åœ¨æ­¤åšä¸‹è®°å½•ã€‚</p></blockquote><h2 id="å®ç°newå…³é”®å­—"><a href="#å®ç°newå…³é”®å­—" class="headerlink" title="å®ç°newå…³é”®å­—"></a>å®ç°<code>new</code>å…³é”®å­—</h2><p>è¦å®ç°newæ–¹æ³•çš„åŸç†ï¼Œé¦–å…ˆè¦çŸ¥é“newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ</p><ul><li>åœ¨jsä¸­ï¼Œnewæ“ä½œç¬¦ç”¨äºåˆ›å»ºä¸€ä¸ªç»™å®šæ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ„é€ å‡½æ•°Person</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="built_in">console</span>.log(person1)  <span class="comment">// Person &#123;name: &quot;Tom&quot;, age: 20&#125;</span></span><br><span class="line">t.sayName() <span class="comment">// &#x27;Tom&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šå¦‚æœæ„é€ å‡½æ•°ä¸­å­˜åœ¨è¿”å›å€¼</strong></p><ol><li>è¿”å›å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆnewåˆ›å»ºçš„å®ä¾‹å¯¹è±¡ä¸ä¼šå—è¿”å›å€¼çš„ç»“æœå½±å“ã€‚</li><li>è¿”å›å€¼ä¸ºå¼•ç”¨æ•°æ®ç±»å‹(å¯¹è±¡ã€æ•°ç»„)ï¼Œé‚£ä¹ˆnewåˆ›å»ºçš„å®ä¾‹å¯¹è±¡å°±æ˜¯è¿”å›çš„æ•°æ®ç»“æœã€‚å¦‚ä¸‹æ‰€ç¤º</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Test &#123; name: &#x27;xxx&#x27; &#125;</span></span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">age</span>: <span class="number">26</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> Test(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(t) <span class="comment">// &#123; age: 26 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(t.name) <span class="comment">// &#x27;undefined&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><p>newå…³é”®å­—å®ç°åˆ›å»ºå¯¹è±¡çš„æ­¥éª¤ï¼š</p><ol><li><strong>åˆ›å»ºä¸€ä¸ªç©ºçš„å®ä¾‹å¯¹è±¡ =&gt; obj</strong></li><li><strong>å°†å®ä¾‹å¯¹è±¡ä¸æ„é€ å‡½æ•°é€šè¿‡åŸå‹è¿æ¥èµ·æ¥ =&gt; <code>obj.__proto__ === æ„é€ å‡½æ•°.prototype</code></strong> </li><li><strong>å°†æ„é€ å‡½æ•°ä¸­çš„thisç»‘å®šåˆ°å®ä¾‹å¯¹è±¡objä¸Š =&gt; <code>æ„é€ å‡½æ•°.apply(obj, å‚æ•°)</code></strong></li><li><strong>åˆ¤æ–­æ„é€ å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼›å¦‚æœè¿”å›å¼•ç”¨ç±»å‹é‚£ä¹ˆç©ºå¯¹è±¡èµ‹å€¼ä¸ºæ„é€ å‡½æ•°è¿”å›ç»“æœï¼Œå¦åˆ™è¿”å›è¯¥å¯¹è±¡ã€‚</strong></li></ol></li><li><p>å®ç°ä»£ç å¦‚ä¸‹:</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å®ç°newçš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>Func æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">* <span class="doctag">@params </span>args æ„é€ å‡½æ•°çš„å‚æ•°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span>(<span class="params">Func, ...args</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">  obj.__proto__ = Func.prototype</span><br><span class="line">  <span class="keyword">let</span> result = Func.apply(obj, args)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> result === <span class="string">&#x27;object&#x27;</span> ? result : obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•å‡½æ•°çš„åŠŸèƒ½</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name</span><br><span class="line">  <span class="built_in">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hi, I&#x27;m&quot;</span>, <span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> lisi = myNew(Person, <span class="string">&#x27;æå››&#x27;</span>, <span class="number">100</span>)</span><br><span class="line"><span class="built_in">console</span>.log(lisi) <span class="comment">// Person &#123;name: &quot;æå››&quot;, age: 100&#125;</span></span><br><span class="line">lisi.sayHi() <span class="comment">// Hi, I&#x27;m æå››</span></span><br></pre></td></tr></table></figure><h2 id="callã€applyã€bindçš„å®ç°"><a href="#callã€applyã€bindçš„å®ç°" class="headerlink" title="callã€applyã€bindçš„å®ç°"></a><code>call</code>ã€<code>apply</code>ã€<code>bind</code>çš„å®ç°</h2><p>å…ˆè¯´æ˜ä»¥ä¸‹ä¸‰è€…çš„ç”¨é€”å’ŒåŒºåˆ«</p><ul><li><strong>ä¸‰è€…éƒ½å¯ä»¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡æŒ‡å‘</strong></li><li><strong>ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œå¦‚æœå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°æˆ–å‚æ•°ä¸ºundefinedæˆ–nullï¼Œåˆ™é»˜è®¤æŒ‡å‘å…¨å±€window</strong></li><li><strong>ä¸‰è€…éƒ½å¯ä»¥ä¼ å‚ï¼Œä½†æ˜¯applyæ˜¯æ•°ç»„ï¼Œè€Œcallæ˜¯å‚æ•°åˆ—è¡¨ï¼Œä¸”applyå’Œcallæ˜¯ä¸€æ¬¡æ€§ä¼ å…¥å‚æ•°ï¼Œè€Œbindå¯ä»¥åˆ†ä¸ºå¤šæ¬¡ä¼ å…¥</strong></li><li><strong>bindæ‰§è¡Œåæ˜¯è¿”å›ç»‘å®šthisä¹‹åçš„å‡½æ•°ï¼Œapplyã€call åˆ™æ˜¯ç«‹å³æ‰§è¡Œ</strong></li></ul><p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fnå‡½æ•°çš„this&#x27;</span>, <span class="built_in">this</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fnå‡½æ•°çš„å‚æ•°&#x27;</span>, args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;------------fn------------&#x27;</span>)</span><br><span class="line">fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">// 1ã€ä½¿ç”¨applyæ”¹å˜thisæŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯æ•°ç»„ã€‚</span></span><br><span class="line"><span class="comment">// func.apply(thisArg, [argsArray])</span></span><br><span class="line"><span class="comment">// fn.apply(obj, 1, 2, 3) // è¿™æ ·ä½¿ç”¨applyä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼šCreateListFromArrayLike called on non-object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;------------fn.apply------------&#x27;</span>)</span><br><span class="line">fn.apply(obj, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// 2ã€ä½¿ç”¨callæ”¹å˜thisæŒ‡å‘ï¼Œåé¢çš„å‚æ•°ä¸ºå‚æ•°åˆ—è¡¨ï¼Œè€Œä¸æ˜¯æ•°ç»„ï¼Œä¼ é€’æ•°ç»„çš„è¯ï¼Œåªä¼šç»™ç¬¬ä¸€ä¸ªå‚æ•°èµ‹å€¼</span></span><br><span class="line"><span class="comment">// function.call(thisArg, arg1, arg2, ...)</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;------------fn.call------------&#x27;</span>)</span><br><span class="line">fn.call(obj, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">// 3ã€ä½¿ç”¨bindæ”¹å˜thisæŒ‡å‘</span></span><br><span class="line"><span class="comment">// function.bind(thisArg[, arg1[, arg2[, ...]]])</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;------------fn.bind------------&#x27;</span>)</span><br><span class="line">fn.bind(obj, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// bindæ”¹å˜thisä¸ä¼šç«‹å³æ‰§è¡Œï¼Œæ§åˆ¶å°å¹¶æ²¡æœ‰è¾“å‡º</span></span><br><span class="line"><span class="comment">// bindä¼šæœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›ä¸€ä¸ªåŸå‡½æ•°çš„æ‹·è´ï¼Œå¹¶æ‹¥æœ‰æŒ‡å®šçš„ this å€¼å’Œåˆå§‹å‚æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;------------fn.bindè¿”å›å€¼------------&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> bindReturn = fn.bind(obj, <span class="number">1</span>)</span><br><span class="line"><span class="comment">// æ‰§è¡Œè¿™ä¸ªbindçš„è¿”å›å€¼ï¼Œå°±ä¼šåœ¨æ§åˆ¶å°è¿›è¡Œè¾“å‡º</span></span><br><span class="line">bindReturn()</span><br></pre></td></tr></table></figure><p><strong>å®ç°callã€applyå’Œbindæ–¹æ³•ï¼š</strong></p><ul><li><p>callæ–¹æ³•çš„å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;fooå‡½æ•°çš„this&#x27;</span>, <span class="built_in">this</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fooå‡½æ•°çš„å‚æ•°&#x27;</span>, args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line"><span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨callæ–¹æ³•æ”¹å˜this</span></span><br><span class="line">foo.call(obj, <span class="number">1</span>, <span class="number">2</span>,<span class="number">3</span>) <span class="comment">// fooå‡½æ•°çš„this &#123;a: 1, b: 2&#125; // fooå‡½æ•°çš„å‚æ•° [1, 2, 3]</span></span><br><span class="line"><span class="comment">// æƒ³è¦å®ç°callæ–¹æ³•ï¼Œä»å¯¹è±¡ä¸‹æ‰‹ï¼Œæƒ³è±¡ä½¿ç”¨callæ–¹æ³•åè°ƒç”¨çš„æ˜¯å¦‚ä¸‹çš„obj.foo()æ–¹æ³•</span></span><br><span class="line">obj = &#123;</span><br><span class="line"><span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">foo</span>: <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fooå‡½æ•°çš„this&#x27;</span>, <span class="built_in">this</span>)</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;fooå‡½æ•°çš„å‚æ•°&#x27;</span>, args)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äºæ˜¯å¯ä»¥å®ç°callæ–¹æ³•å¦‚ä¸‹</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">// è·å–å‚æ•°  </span></span><br><span class="line">  <span class="keyword">const</span> context = [...arguments].slice(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">const</span> rest = [...arguments].slice(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">if</span> (!context) &#123;</span><br><span class="line">    <span class="comment">//contextä¸ºnullæˆ–è€…æ˜¯undefined</span></span><br><span class="line">    context = <span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">&#x27;undefined&#x27;</span> ? <span class="built_in">global</span> : <span class="built_in">window</span></span><br><span class="line">  &#125;</span><br><span class="line">context.fn = <span class="built_in">this</span> <span class="comment">// å‘å‚æ•°å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªfnå±æ€§ï¼Œè¡¨ç¤ºå½“å‰è°ƒç”¨callæ–¹æ³•çš„æ–¹æ³•ï¼Œå°±åƒä¸Šé¢çš„objå¯¹è±¡æ·»åŠ çš„fooæ–¹æ³•</span></span><br><span class="line">  <span class="keyword">let</span> result = context.fn(...rest) <span class="comment">// è°ƒç”¨å½“å‰æ–¹æ³•ä¼ å…¥å‰©ä½™å‚æ•°</span></span><br><span class="line">  <span class="keyword">delete</span> context.fn</span><br><span class="line">  <span class="keyword">return</span> result <span class="comment">// callæ–¹æ³•æ˜¯ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥è¿”å›æ‰§è¡Œç»“æœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>applyæ–¹æ³•çš„å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// applyæ–¹æ³•çš„å®ç°ä¸callæ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯å‰©ä½™å‚æ•°çš„ä¼ é€’ä¸æ˜¯å‚æ•°åˆ—è¡¨è€Œæ˜¯æ•°ç»„</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span> (<span class="params">context, args</span>) </span>&#123; <span class="comment">// applyä¸­ç¬¬äºŒä¸ªå‚æ•°ä¸ºç±»æ•°ç»„</span></span><br><span class="line">  <span class="keyword">if</span> (!context) &#123;</span><br><span class="line">    <span class="comment">//contextä¸ºnullæˆ–è€…æ˜¯undefined</span></span><br><span class="line">    context = <span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">&#x27;undefined&#x27;</span> ? <span class="built_in">global</span> : <span class="built_in">window</span></span><br><span class="line">  &#125;</span><br><span class="line">  context.fn = <span class="built_in">this</span></span><br><span class="line">  <span class="keyword">let</span> result = args == <span class="literal">undefined</span> ? context.fn(args) : context.fn(...args) <span class="comment">// è°ƒç”¨å½“å‰æ–¹æ³•ä¼ å…¥å‰©ä½™å‚æ•°</span></span><br><span class="line">  <span class="keyword">delete</span> context.fn</span><br><span class="line">  <span class="keyword">return</span> result <span class="comment">// applyæ–¹æ³•æ˜¯ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥è¿”å›æ‰§è¡Œç»“æœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>bindæ–¹æ³•çš„å®ç° </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;Error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> _self = <span class="built_in">this</span></span><br><span class="line">  <span class="keyword">const</span> args = [...arguments].slice(<span class="number">1</span>) <span class="comment">// å‰©ä½™å‚æ•°ï¼Œä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">  <span class="keyword">const</span> Fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125; <span class="comment">// å®šä¹‰ä¸€ä¸ªç©ºå‡½æ•°</span></span><br><span class="line">  Fn.prototype = <span class="built_in">this</span>.prototype <span class="comment">// ç»´æŠ¤åŸå‹å…³ç³»</span></span><br><span class="line"> <span class="comment">// bindè¿”å›ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> fnResult = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    å¯¹ä¸‰ç›®è¿ç®—ç¬¦ä¸¤ç§æƒ…å†µçš„è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment">        1.å½“ä½œä¸ºæ„é€ å‡½æ•°æ—¶ï¼Œthis æŒ‡å‘å®ä¾‹ï¼ˆæ³¨æ„ï¼ï¼ï¼è¿™é‡Œçš„thisæ˜¯bindè¿”å›çš„æ–°æ–¹æ³•é‡Œæ‰§è¡Œæ—¶çš„thisï¼Œ</span></span><br><span class="line"><span class="comment">        å’Œä¸Šé¢çš„thisä¸æ˜¯ä¸€ä¸ªï¼ï¼ï¼ï¼‰ï¼ŒFn ä¸ºç»‘å®šå‡½æ•°ï¼Œå› ä¸ºä¸Šé¢çš„ `Fn.prototype = this.prototype;`ï¼Œ</span></span><br><span class="line"><span class="comment">        å·²ç»ä¿®æ”¹äº† Fn.prototype ä¸º ç»‘å®šå‡½æ•°çš„ prototypeï¼Œæ­¤æ—¶ç»“æœä¸º trueï¼Œ</span></span><br><span class="line"><span class="comment">        å½“ç»“æœä¸º true çš„æ—¶å€™ï¼Œthis æŒ‡å‘å®ä¾‹ã€‚</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        2.å½“ä½œä¸ºæ™®é€šå‡½æ•°æ—¶ï¼Œthis æŒ‡å‘ windowï¼ŒFn ä¸ºç»‘å®šå‡½æ•°ï¼Œæ­¤æ—¶ç»“æœä¸º falseï¼Œ</span></span><br><span class="line"><span class="comment">        å½“ç»“æœä¸º false çš„æ—¶å€™ï¼Œthis æŒ‡å‘ç»‘å®šçš„ contextã€‚ </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">const</span> _this = <span class="built_in">this</span> <span class="keyword">instanceof</span> _self ? <span class="built_in">this</span> : context</span><br><span class="line">    <span class="keyword">const</span> _args = [...args, ...arguments]</span><br><span class="line">    <span class="comment">// ä¸”å¯ä»¥ç»§ç»­ä¼ å‚æ•°ï¼Œè¿™é‡Œå¯¹å‚æ•°è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">    <span class="keyword">return</span> _self.apply(_this, _args)</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//åŸå‹é“¾</span></span><br><span class="line">  fnResult.prototype = <span class="keyword">new</span> Fn()</span><br><span class="line">  <span class="keyword">return</span> fnResult</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ajaxè¯·æ±‚é€šè¿‡JSå®ç°"><a href="#ajaxè¯·æ±‚é€šè¿‡JSå®ç°" class="headerlink" title="ajaxè¯·æ±‚é€šè¿‡JSå®ç°"></a><code>ajax</code>è¯·æ±‚é€šè¿‡JSå®ç°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.åˆ›å»ºè¯·æ±‚å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line"><span class="comment">// 2.å»ºç«‹æœåŠ¡å™¨è¿æ¥</span></span><br><span class="line">xhr.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;url&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 3.å‘é€æ•°æ®</span></span><br><span class="line">xhr.send() <span class="comment">// getè¯·æ±‚ä¸å‘é€ï¼Œsendæ˜¯å‘é€è¯·æ±‚ä½“çš„æ•°æ®</span></span><br><span class="line"><span class="comment">// 4.ç›‘å¬è¯·æ±‚çš„çŠ¶æ€å˜åŒ–</span></span><br><span class="line">xhr.onreadyStateChange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 4è¡¨ç¤ºè¯·æ±‚å®Œæˆ</span></span><br><span class="line">  <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span>)&#123;</span><br><span class="line">    <span class="comment">// 200çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span>(xhr.status === <span class="number">200</span>)&#123;</span><br><span class="line">      ...å¤„ç†æˆåŠŸçš„æ“ä½œ</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      ...å¤„ç†å¤±è´¥çš„æ“ä½œ</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨XMLHttpRequestå¯¹è±¡å°è£…ajaxæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹è±¡è½¬urlçš„å‚æ•°å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToParams</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> paramsStr = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.hasOwnProperty.call(obj, key)) &#123;</span><br><span class="line">      <span class="keyword">const</span> element = obj[key]</span><br><span class="line">      paramsStr.length &gt; <span class="number">0</span></span><br><span class="line">        ? (paramsStr = paramsStr + <span class="string">&#x27;&amp;&#x27;</span> + <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;element&#125;</span>`</span>)</span><br><span class="line">      : (paramsStr = <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;element&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> paramsStr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">request</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">  request = request || &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> method = (request.method || <span class="string">&#x27;GET&#x27;</span>).toUpperCase()</span><br><span class="line">  <span class="keyword">const</span> url = request.url</span><br><span class="line">  <span class="keyword">const</span> params = <span class="built_in">JSON</span>.stringify(request.data)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.åˆ›å»ºè¯·æ±‚å®ä¾‹å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">  <span class="comment">// 2.ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</span></span><br><span class="line">  <span class="comment">// 3.å‘æœåŠ¡å™¨å‘é€æ•°æ®</span></span><br><span class="line">  <span class="keyword">if</span> (method === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">    xhr.open(method, url + <span class="string">&#x27;?&#x27;</span> + objToParams(params))</span><br><span class="line">    xhr.send()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// POSTã€DELETEã€PUTè¯·æ±‚ç­‰</span></span><br><span class="line">    xhr.open(method, url)</span><br><span class="line">    xhr.send(params)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 4.ç›‘å¬è¯·æ±‚çŠ¶æ€</span></span><br><span class="line">  xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">        request.success &amp;&amp; request.success(xhr.response)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status &gt;= <span class="number">400</span>) &#123;</span><br><span class="line">        request.fail &amp;&amp; request.fail(xhr.responseText)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ajax</span></span><br><span class="line">ajax(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">`http://jsonplaceholder.typicode.com/posts`</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ·±æ‹·è´ä¸æµ…æ‹·è´å®ç°"><a href="#æ·±æ‹·è´ä¸æµ…æ‹·è´å®ç°" class="headerlink" title="æ·±æ‹·è´ä¸æµ…æ‹·è´å®ç°"></a>æ·±æ‹·è´ä¸æµ…æ‹·è´å®ç°</h2><h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h3><p>æµ…æ‹·è´ï¼ŒæŒ‡çš„æ˜¯åˆ›å»ºæ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®æœ‰ç€åŸå§‹æ•°æ®å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚</p><p>æµ…æ‹·è´å®ç°çš„æ˜¯æ‹·è´å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ”¹å˜æ‹·è´å¯¹è±¡çš„å±æ€§æ—¶ï¼ŒåŸå¯¹è±¡å±æ€§ä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚</p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shallowClone</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newObj = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.hasOwnProperty(key))&#123;</span><br><span class="line">      newObj[key] = obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>JavaScript</code>ä¸­ï¼Œå­˜åœ¨æµ…æ‹·è´çš„ç°è±¡æœ‰ï¼š</p><ul><li><code>Object.assign</code></li><li><code>Array.prototype.slice()</code>, <code>Array.prototype.concat()</code></li><li>ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦å®ç°çš„å¤åˆ¶</li></ul><h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h3><p>æ·±æ‹·è´å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡å±å®Œæˆç›¸åŒï¼Œä½†æ˜¯å¯¹åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¸ä¼šæ”¹å˜å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ã€‚</p><ul><li>æ·±æ‹·è´å®ç°1ï¼š JSON.stringify()ã€‚å­˜åœ¨ç¼ºé™·ï¼šä¼šå¿½ç•¥undefinedã€symbolå’Œå‡½æ•°ç±»å‹çš„æ•°æ®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone1</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">let</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</span><br><span class="line">   <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ·±æ‹·è´å®ç°2ï¼š å¾ªç¯é€’å½’</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone2</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> obj</span><br><span class="line">  <span class="keyword">let</span> newObj = <span class="keyword">new</span> obj.constructor() <span class="comment">// æ‰¾åˆ°çš„æ˜¯æ‰€å±ç±»åŸå‹ä¸Šçš„constructor,è€ŒåŸå‹ä¸Šçš„ constructoræŒ‡å‘çš„æ˜¯å½“å‰ç±»æœ¬èº«ï¼Œæ–°å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.hasOwnProperty.call(obj, key)) &#123;</span><br><span class="line">      <span class="comment">// å®ç°ä¸€ä¸ªé€’å½’æ‹·è´</span></span><br><span class="line">      newObj[key] = deepClone2(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="instanceofå…³é”®å­—çš„å®ç°"><a href="#instanceofå…³é”®å­—çš„å®ç°" class="headerlink" title="instanceofå…³é”®å­—çš„å®ç°"></a><code>instanceof</code>å…³é”®å­—çš„å®ç°</h2><ol><li><strong>instanceofçš„ç”¨æ³•ï¼š</strong></li></ol><p>instanceofç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ„å»ºå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> Car = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> benz = <span class="keyword">new</span> Car()</span><br><span class="line">benz <span class="keyword">instanceof</span> Car <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> car = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line">car <span class="keyword">instanceof</span> <span class="built_in">String</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">str <span class="keyword">instanceof</span> <span class="built_in">String</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ol start="2"><li><strong>å®ç°instanceofçš„åŸç†ï¼š</strong></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®ç°instanceofå…³é”®å­—çš„åŸç†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Any&#125;</span> </span>left </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;constructor&#125;</span> </span>right </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="variable">Boolean</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">instanceof2</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line"><span class="comment">// å¦‚æœleftæ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–nullï¼Œç›´æ¥è¿”å›false  </span></span><br><span class="line">  <span class="keyword">if</span> (![<span class="string">&#x27;object&#x27;</span>, <span class="string">&#x27;function&#x27;</span>].includes(<span class="keyword">typeof</span> left) || left === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">// Object.getPrototypeOfæ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹ï¼ˆå†…éƒ¨[[Prototype]]å±æ€§çš„å€¼ï¼‰</span></span><br><span class="line">  <span class="keyword">let</span> proto = <span class="built_in">Object</span>.getPrototypeOf(left)</span><br><span class="line">  <span class="keyword">while</span> (proto !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (proto === right.prototype) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    proto = <span class="built_in">Object</span>.getPrototypeOf(proto)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.getPrototypeOfæ‹“å±•</span></span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf([<span class="number">1</span>,<span class="number">2</span>]) === <span class="built_in">Array</span>.prototype <span class="comment">// true</span></span><br><span class="line"><span class="keyword">const</span> prototype1 = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> object1 = <span class="built_in">Object</span>.create(prototype1)</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(object1) === prototype1  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf( <span class="built_in">Object</span> ) === <span class="built_in">Function</span>.prototype  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.getPrototypeOf( Object )æ˜¯æŠŠObjectè¿™ä¸€æ„é€ å‡½æ•°çœ‹ä½œå¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">// è¿”å›çš„å½“ç„¶æ˜¯å‡½æ•°å¯¹è±¡çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ Function.prototypeã€‚</span></span><br></pre></td></tr></table></figure><p><strong>æ‹“å±•ï¼šç»“åˆtypeofå’Œinstanceofç²¾ç¡®åˆ¤æ–­æŸä¸€ä¸ªå˜é‡çš„æ•°æ®ç±»å‹</strong></p><ol start="3"><li><strong>å®ç°é€šç”¨çš„è·å–æ•°æ®ç±»å‹æ–¹æ³•</strong></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> type  = <span class="keyword">typeof</span> obj;</span><br><span class="line">  <span class="keyword">if</span> (type !== <span class="string">&quot;object&quot;</span>) &#123;    <span class="comment">// å…ˆè¿›è¡Œtypeofåˆ¤æ–­ï¼Œå¦‚æœæ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> type;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¯¹äºtypeofè¿”å›ç»“æœæ˜¯objectçš„ï¼Œå†è¿›è¡Œå¦‚ä¸‹çš„åˆ¤æ–­ï¼Œæ­£åˆ™è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj).replace(<span class="regexp">/^\[object (\S+)\]$/</span>, <span class="string">&#x27;$1&#x27;</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getType([])     <span class="comment">// &quot;Array&quot; typeof []æ˜¯objectï¼Œå› æ­¤toStringè¿”å›</span></span><br><span class="line">getType(<span class="string">&#x27;123&#x27;</span>)  <span class="comment">// &quot;string&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line">getType(<span class="built_in">window</span>) <span class="comment">// &quot;Window&quot; toStringè¿”å›</span></span><br><span class="line">getType(<span class="literal">null</span>)   <span class="comment">// &quot;Null&quot;é¦–å­—æ¯å¤§å†™ï¼Œtypeof nullæ˜¯objectï¼Œéœ€toStringæ¥åˆ¤æ–­</span></span><br><span class="line">getType(<span class="literal">undefined</span>)   <span class="comment">// &quot;undefined&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line">getType()            <span class="comment">// &quot;undefined&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line">getType(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) <span class="comment">// &quot;function&quot; typeofèƒ½åˆ¤æ–­ï¼Œå› æ­¤é¦–å­—æ¯å°å†™</span></span><br><span class="line">getType(<span class="regexp">/123/g</span>)      <span class="comment">//&quot;RegExp&quot; toStringè¿”å›</span></span><br></pre></td></tr></table></figure><h2 id="Promiseå®ç°åŸç†"><a href="#Promiseå®ç°åŸç†" class="headerlink" title="Promiseå®ç°åŸç†"></a><code>Promise</code>å®ç°åŸç†</h2><h3 id="promiseçš„ä½¿ç”¨"><a href="#promiseçš„ä½¿ç”¨" class="headerlink" title="promiseçš„ä½¿ç”¨"></a><code>promise</code>çš„ä½¿ç”¨</h3><ol><li><p><code>promise</code>å¯¹è±¡ä¸€å…±åªæœ‰ä¸‰ç§çŠ¶æ€ï¼š</p><p>1ã€<code>pending</code>ï¼›2ã€<code>fulfilled</code>ï¼›3ã€<code>rejected</code>ã€‚</p><p>çŠ¶æ€åªå…è®¸ä»<code>pending</code>å˜åŒ–æˆ<code>fulfilled</code>æˆ–ä»<code>pending</code>å˜åŒ–æˆ<code>rejected</code>ï¼Œä¸”çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±æ— æ³•å›é€€ã€‚</p></li><li><p>é€šè¿‡promiseçš„æ„é€ å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;&#125;);</span><br></pre></td></tr></table></figure></li></ol><ul><li><code>resolve</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€</li><li><code>reject</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€</li></ul><ol start="3"><li><p><code>promise</code>å¯¹è±¡å¸¸ç”¨çš„æ–¹æ³•æœ‰<code>then</code>ã€<code>catch</code>ã€<code>finally</code></p><p>è¿™é‡Œä¸»è¦ä»‹ç»thenæ–¹æ³•çš„ä½¿ç”¨ï¼Œåœ¨å®ç°Promiseçš„åŸç†æ—¶ä¹Ÿç€é‡å®ç°thenæ–¹æ³•ï¼š</p><p><code>then</code>æ˜¯å®ä¾‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>resolved</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>rejected</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°</p><p><code>then</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„<code>Promise</code>å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯<code>promise</code>èƒ½é“¾å¼ä¹¦å†™çš„åŸå› </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getJSON(<span class="string">&quot;/posts.json&quot;</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">json</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> json.post;</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">post</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><h3 id="å¼€å§‹å®ç°promiseåŸç†"><a href="#å¼€å§‹å®ç°promiseåŸç†" class="headerlink" title="å¼€å§‹å®ç°promiseåŸç†"></a>å¼€å§‹å®ç°<code>promise</code>åŸç†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span></span>&#123;</span><br><span class="line">  state = <span class="string">&#x27;pending&#x27;</span>    <span class="comment">// å®šä¹‰çŠ¶æ€</span></span><br><span class="line">  result = <span class="literal">undefined</span> <span class="comment">// æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">  reason = <span class="literal">undefined</span> <span class="comment">// å¤±è´¥çš„ç»“æœ</span></span><br><span class="line">  handleResolved = [] <span class="comment">// æˆåŠŸçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">  handleRejected = [] <span class="comment">// å¤±è´¥çš„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">execute</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> resolve = <span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.state === <span class="string">&#x27;pending&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = <span class="string">&#x27;fulfilled&#x27;</span></span><br><span class="line">        <span class="built_in">this</span>.result = result</span><br><span class="line">        <span class="comment">// å›è°ƒå‡½æ•°æ•°ç»„ä¸­å¦‚æœæ”¶é›†åˆ°å¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œå¯¹åº”çš„æ”¹å˜çŠ¶æ€å‡½æ•°æ—¶ï¼Œå°±ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°</span></span><br><span class="line">        <span class="built_in">this</span>.handleResolved.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn &amp;&amp; fn(result))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> reject = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.state === <span class="string">&#x27;pending&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = <span class="string">&#x27;rejected&#x27;</span></span><br><span class="line">        <span class="built_in">this</span>.reason = reason</span><br><span class="line">        <span class="built_in">this</span>.handleRejected.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn &amp;&amp; fn(reason))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      execute(resolve, reject)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      reject(error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">then</span>(<span class="params">onResolved, onRejected</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> onResolved !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      onResolved = <span class="function"><span class="params">data</span> =&gt;</span> data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> onRejected !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      onRejected = <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(err)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> newPromise = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¼‚æ­¥æ“ä½œï¼Œæ”¶é›†resolveå’Œrejectå‡½æ•°</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.state === <span class="string">&#x27;pending&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.handleResolved.push(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> returnResult = onResolved(<span class="built_in">this</span>.result)</span><br><span class="line">          <span class="comment">// é“¾å¼è°ƒç”¨çš„å…³é”®å‡½æ•°</span></span><br><span class="line">          handleReturnPromise(returnResult, newPromise, resolve, reject)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">this</span>.handleRejected.push(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> returnResult = onRejected(<span class="built_in">this</span>.reason)</span><br><span class="line">          <span class="comment">// é“¾å¼è°ƒç”¨çš„å…³é”®å‡½æ•°</span></span><br><span class="line">          handleReturnPromise(returnResult, newPromise, resolve, reject)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// åŒæ­¥æ“ä½œï¼Œç›´æ¥æ‰§è¡Œå¯¹åº”çš„resolveå’Œreject</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.state === <span class="string">&#x27;fulfilled&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> returnResult = onResolved(<span class="built_in">this</span>.result)</span><br><span class="line">          <span class="comment">// é“¾å¼è°ƒç”¨çš„å…³é”®å‡½æ•°</span></span><br><span class="line">          handleReturnPromise(returnResult, newPromise, resolve, reject)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.state === <span class="string">&#x27;rejected&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> returnResult = onRejected(<span class="built_in">this</span>.reason)</span><br><span class="line">          <span class="comment">// é“¾å¼è°ƒç”¨çš„å…³é”®å‡½æ•°</span></span><br><span class="line">          handleReturnPromise(returnResult, newPromise, resolve, reject)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> newPromise</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">catch</span> (onRejected) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="literal">undefined</span>, onRejected);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾å¼è°ƒç”¨çš„å…³é”®å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleReturnPromise</span>(<span class="params">result, newPromise, resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (result === newPromise) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;return oneself is not allowed&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> result === <span class="string">&#x27;object&#x27;</span> || <span class="keyword">typeof</span> result === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> then = result.then;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> then === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      then.call(result, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        handleReturnPromise(res, newPromise, resolve, reject)</span><br><span class="line">      &#125;, <span class="function"><span class="params">rej</span> =&gt;</span> &#123;</span><br><span class="line">        reject(rej)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      resolve(result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return çš„æ˜¯åŸºæœ¬ç±»å‹æ•°æ®ç›´æ¥resolve</span></span><br><span class="line">    resolve(result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">p.then(<span class="function">(<span class="params">res, err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  <span class="built_in">console</span>.log(err)</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;ç¬¬ä¸€å±‚promiseçš„è¿”å›å€¼&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">&#x27;ç¬¬äºŒå±‚Promiseçš„è¿”å›å€¼ï¼Œæˆ‘åœ¨2ç§’åå‡ºç°&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°ç»“æœ</span></span><br><span class="line"><span class="comment">// data</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€å±‚promiseçš„è¿”å›å€¼</span></span><br><span class="line"><span class="comment">// äºŒå±‚Promiseçš„è¿”å›å€¼ï¼Œæˆ‘åœ¨2ç§’åå‡ºç°</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueé¡¹ç›®ç»“æ„åˆ†æ</title>
      <link href="/wangq1231/2021/09/02/vue%E2%95%A7%D1%8E%E2%94%80%E2%94%90%E2%95%9C%D1%81%E2%95%A3%E2%95%A3%E2%95%96%E2%95%93%E2%95%AC%D0%8E/"/>
      <url>/wangq1231/2021/09/02/vue%E2%95%A7%D1%8E%E2%94%80%E2%94%90%E2%95%9C%D1%81%E2%95%A3%E2%95%A3%E2%95%96%E2%95%93%E2%95%AC%D0%8E/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>åœ¨æˆ‘ç›®å‰çš„å·¥ä¸­å¾ˆå°‘è‡ªå·±åŠ¨æ‰‹æ­å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥å¯¹äºå¼€å‘å¼€å§‹å‰çš„é¡¹ç›®æ­å»ºä»¥åŠé¡¹ç›®å„é¡¹é…ç½®ç›¸å¯¹ç†è§£çš„ä¸å¤Ÿé€å½»ã€‚è¿™æ¬¡éœ€è¦å¼€å‘ä¸€ä¸ªè¿è¡Œåœ¨ç»ˆç«¯ä¸Š(ç±»ä¼¼ATMæœºçš„æ“ä½œ)çš„å”®æ¥¼ç­¾çº¦ç³»ç»Ÿã€‚ç”±äº UI çš„ä¸é€‚é…å†³å®šä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚äºæ˜¯åœ¨æ­¤å¯¹é¡¹ç›®çš„åˆ›å»ºå’Œé…ç½®åšä¸€ä¸ªæ€»ç»“</p></blockquote><ul><li><p>åˆ›å»º vue é¡¹ç›®å¯ä»¥æœ‰å¤šç§æ–¹å¼ï¼Œè¿™é‡Œä»‹ç»è„šæ‰‹æ¶åˆ›å»ºæ–¹å¼</p><p>å…¨å±€å®‰è£…<code>vue-cli</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="meta">#</span><span class="bash"> OR</span></span><br><span class="line">yarn global add @vue/cli</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// è¿›åˆ°ä½ å¸Œæœ›é¡¹ç›®æ”¾åˆ°çš„é‚£ä¸ªæ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤</span><br><span class="line">vue create XXX-XXX  (é¡¹ç›®åç§°)</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œåˆ›å»ºå‘½ä»¤åä¼šå‡ºç°é€‰æ‹©é¢„è®¾çš„é€‰é¡¹ï¼Œæˆ‘è¿™é‡Œé€‰çš„æ˜¯<code>manually select features</code>,ç„¶åé€‰æ‹©äº†</p><p><code>Babel</code>ã€<code>Router</code>ã€<code>Vuex</code>ã€<code>CSS Pre-processors</code>ã€<code>Lint</code>è¿™äº›æ’ä»¶ï¼Œå¹¶é€‰æ‹©åœ¨åˆ›å»ºå•ç‹¬çš„æ–‡ä»¶ç”¨äºé…ç½®è¿™äº›æ’ä»¶ã€‚</p><p><strong>åˆ›å»ºvueé¡¹ç›®æ›´å¤šè¯¦ç»†çš„å†…å®¹å¯ä»¥è®¿é—® <a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">vue è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®</a></strong></p></li><li><p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œé»˜è®¤çš„ç›®å½•å±•ç¤ºå¦‚ä¸‹ï¼š</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/vue-structure.png" alt="vueç»“æ„"></p></li></ul><p>ä¸»è¦åˆ†ææœ‰ä»¥ä¸‹è¿™äº›æ–‡ä»¶ï¼Œç‚¹å‡»æ–‡ä»¶å¯å¿«é€Ÿå®šä½æ–‡ä»¶çš„ä½ç½®</p><ol><li><strong><a href="#browserslistrc">.browserslistrc</a></strong></li><li><strong><a href="#eslint">.eslintrc.js</a></strong></li><li><strong><a href="#gitignore">gitignore</a></strong></li><li><strong><a href="#readme">README.md</a></strong></li><li><strong><a href="#babel">babel.config.js</a></strong></li><li><strong><a href="#package">package.json</a></strong></li><li><strong><a href="#vueconfig">vue.config.js</a></strong></li><li><strong><a href="#envconfig">envé…ç½®ç¯å¢ƒå˜é‡æ–‡ä»¶</a></strong></li><li><strong><a href="#prettier">.prettierrc</a></strong></li></ol><h1 id="ç»“æ„åˆ†æ"><a href="#ç»“æ„åˆ†æ" class="headerlink" title="ç»“æ„åˆ†æ"></a>ç»“æ„åˆ†æ</h1><p>å…·ä½“çš„<code>src</code>å’Œ<code>public</code>æ–‡ä»¶å¤¹ç­‰ï¼Œè¿™é‡Œä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œä¸»è¦ä»‹ç»æ ¹ç›®å½•ä¸‹çš„ç›¸å…³é…ç½®æ–‡ä»¶çš„å†…å®¹</p><h2 id="browserslistrc"><a href="#browserslistrc" class="headerlink" title=" .browserslistrc"></a><span id="browserslistrc"> .browserslistrc<span></h2><p>è¯¥æ–‡ä»¶çš„ä½œç”¨æ˜¯æ ¹æ®æä¾›çš„ç›®æ ‡æµè§ˆå™¨çš„ç¯å¢ƒï¼Œæ¥æ™ºèƒ½æ·»åŠ  css å‰ç¼€ï¼Œjs çš„ polyfill å«ç‰‡,æ¥å…¼å®¹æ—§ç‰ˆæœ¬æµè§ˆå™¨ã€‚é¿å…ä¸å¿…è¦çš„å…¼å®¹ä»£ç ï¼Œä»¥æé«˜ä»£ç çš„ç¼–è¯‘è´¨é‡ã€‚</p><p>é»˜è®¤åˆ›å»ºçš„é¡¹ç›®ä¸­ï¼Œ<code>.browserslistrc</code>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; 1<span class="comment">%</span></span><br><span class="line">last 2 versions</span><br><span class="line">not dead</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«ä»£è¡¨1.å…¨çƒè¶…è¿‡ 1%äººä½¿ç”¨çš„æµè§ˆå™¨ï¼›2.æ‰€æœ‰æµè§ˆå™¨å…¼å®¹åˆ°æœ€åä¸¤ä¸ªç‰ˆæœ¬ï¼Œå†ä»¥å‰çš„å°±ä¸å…¼å®¹ï¼›3.ä¸å…¼å®¹å·²ç»åœ¨å¸‚é¢ä¸‹æ¶â€œæ­»å»â€çš„æµè§ˆå™¨ã€‚ä»¥ä¸‹æ˜¯æ›´å¤šç›¸å…³çš„é…ç½®å’Œä»‹ç»ï¼š</p><table><thead><tr><th>ä¾‹å­</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&gt; 1%</td><td>å…¨çƒè¶…è¿‡ 1%äººä½¿ç”¨çš„æµè§ˆå™¨</td></tr><tr><td>&gt; 5% in US</td><td>æŒ‡å®šå›½å®¶ä½¿ç”¨ç‡è¦†ç›–</td></tr><tr><td>last 2 versions</td><td>æ‰€æœ‰æµè§ˆå™¨å…¼å®¹åˆ°æœ€åä¸¤ä¸ªç‰ˆæœ¬æ ¹æ® CanIUse.com è¿½è¸ªçš„ç‰ˆæœ¬</td></tr><tr><td>Firefox ESR</td><td>ç«ç‹æœ€æ–°ç‰ˆæœ¬</td></tr><tr><td>Firefox &gt; 20</td><td>æŒ‡å®šæµè§ˆå™¨çš„ç‰ˆæœ¬èŒƒå›´</td></tr><tr><td>not ie &lt;=8</td><td>æ–¹å‘æ’é™¤éƒ¨åˆ†ç‰ˆæœ¬</td></tr><tr><td>Firefox 12.1</td><td>æŒ‡å®šæµè§ˆå™¨çš„å…¼å®¹åˆ°æŒ‡å®šç‰ˆæœ¬</td></tr><tr><td>unreleased versions</td><td>æ‰€æœ‰æµè§ˆå™¨çš„ beta æµ‹è¯•ç‰ˆæœ¬</td></tr><tr><td>unreleased Chrome versions</td><td>æŒ‡å®šæµè§ˆå™¨çš„æµ‹è¯•ç‰ˆæœ¬</td></tr><tr><td>since 2013</td><td>2013 å¹´ä¹‹åå‘å¸ƒçš„æ‰€æœ‰ç‰ˆæœ¬</td></tr></tbody></table><h2 id="eslintrc-js"><a href="#eslintrc-js" class="headerlink" title=" .eslintrc.js"></a><span id="eslint"> .eslintrc.js</span></h2><p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦ç”¨äºé…ç½®é¡¹ç›®çš„ eslint æ ¡éªŒï¼Œå¯¹äºä¸€ä¸ªå›¢é˜Ÿæ¥è¯´ï¼Œæ¯ä¸ªäººæœ‰æ¯ä¸ªäººå†™ä»£ç çš„é£æ ¼å’Œä¹ æƒ¯ï¼Œæœ‰äººå–œæ¬¢ç»“å°¾åŠ åˆ†å·ï¼Œæœ‰äººä¸åŠ ï¼Œæœ‰äººä¹ æƒ¯ä½¿ç”¨åŒå¼•å·ï¼Œæœ‰äººä¹ æƒ¯å•å¼•å·ï¼Œå½“ç„¶è¿™äº›ä¸è¶³ä»¥å½±å“é¡¹ç›®çš„è¿è¡Œï¼Œä½†æ˜¯ eslint è¿˜å¯ä»¥é…ç½®æ›´åŠ é‡è¦çš„è§„èŒƒï¼Œæ¥ç»Ÿä¸€ä»£ç é£æ ¼å’Œé¢„é˜²ä¸€äº›ä»£ç éšæ‚£ã€‚æ‰€ä»¥è¿™ä¸ªæ–‡ä»¶ç›¸å¯¹å›¢é˜Ÿå¼€å‘æ¥è¯´æ˜¯æ¯”è¾ƒé‡è¦çš„ã€‚</p><p><code>.eslintrc.js</code>æ–‡ä»¶é»˜è®¤å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œä»¥ä¸‹æ˜¯åˆ›å»º vue é¡¹ç›®å eslintrc æ–‡ä»¶çš„é»˜è®¤å†…å®¹ï¼Œç»“å°¾å¤„ä¼šæä¾›ä¸€ä¸ªæ›´è¯¦ç»†çš„ eslint é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// é»˜è®¤æƒ…å†µä¸‹ï¼ŒESLint ä¼šåœ¨æ‰€æœ‰çˆ¶çº§ç›®å½•é‡Œå¯»æ‰¾é…ç½®æ–‡ä»¶ï¼Œä¸€ç›´åˆ°æ ¹ç›®å½•ã€‚ESLint ä¸€æ—¦å‘ç°é…ç½®æ–‡ä»¶ä¸­æœ‰ &quot;root&quot;: trueï¼Œå®ƒå°±ä¼šåœæ­¢åœ¨çˆ¶çº§ç›®å½•ä¸­å¯»æ‰¾ã€‚</span></span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// envè¡¨ç¤ºä¸€ä¸ªç¯å¢ƒï¼Œé¢„å®šä¹‰äº†ä¸€ç»„å…¨å±€å˜é‡</span></span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span> <span class="comment">// å®šä¹‰äº†Node.js å…¨å±€å˜é‡å’Œ Node.js ä½œç”¨åŸŸã€‚</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// extends ä¸€ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥è¢«åŸºç¡€é…ç½®ä¸­çš„å·²å¯ç”¨çš„è§„åˆ™ç»§æ‰¿ï¼Œå¦‚ä¸‹è®¾ç½®ç»§æ‰¿äº†æ•°ç»„ä¸­çš„ä¸‰é¡¹è§„åˆ™ã€‚å…¶ä¸­å€¼ä¸º &quot;eslint:recommended&quot; çš„ extends å±æ€§ä¼šå¯ç”¨ä¸€ç³»åˆ—eslintæ ¸å¿ƒè§„åˆ™ã€‚</span></span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;plugin:vue/essential&#x27;</span>, <span class="string">&#x27;eslint:recommended&#x27;</span>, <span class="string">&#x27;@vue/prettier&#x27;</span>],</span><br><span class="line">  <span class="comment">// ESLint å…è®¸ä½ æŒ‡å®šä½ æƒ³è¦æ”¯æŒçš„ JavaScript è¯­è¨€é€‰é¡¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒESLint æ”¯æŒ ECMAScript 5 è¯­æ³•ã€‚ä½ å¯ä»¥è¦†ç›–è¯¥è®¾ç½®ï¼Œä»¥å¯ç”¨å¯¹ ECMAScript å…¶å®ƒç‰ˆæœ¬å’Œ JSX çš„æ”¯æŒã€‚</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;babel-eslint&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// rules è¡¨ç¤ºeslintæ ¡éªŒè§„åˆ™</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;no-console&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;no-debugger&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>rules é…ç½®è§„åˆ™æ ¼å¼</strong></p><p>è§„åˆ™æ ¼å¼æ˜¯<code>&lt;è§„åˆ™åç§°&gt;: &lt;å‘Šè­¦çº§åˆ«&gt;</code>ï¼Œå‘Šè­¦çº§åˆ«åˆ†ä¸ºä¸‰ç§:</p><ul><li>â€œ0â€è¡¨ç¤ºå¿½ç•¥é—®é¢˜ï¼Œç­‰åŒäºâ€offâ€;</li><li>â€œ1â€è¡¨ç¤ºç»™å‡ºè­¦å‘Šï¼Œç­‰åŒäºâ€warnâ€;</li><li>â€œ2â€è¡¨ç¤ºç›´æ¥æŠ¥é”™ï¼Œç­‰åŒäºâ€errorâ€ã€‚</li></ul><p><strong>æ›´å¤šçš„ ESLint é…ç½®å¯ä»¥å‰å¾€ <a href="https://eslint.bootcss.com/docs/user-guide/configuring">ESLint ä¸­æ–‡ç½‘</a> æŸ¥çœ‹</strong></p><h2 id="gitignore"><a href="#gitignore" class="headerlink" title="  gitignore"></a><span id="gitignore">  gitignore</span></h2><p>è¯¥æ–‡ä»¶æ­£å¦‚å…¶åå­—çš„æ„æ€ï¼Œå‘ŠçŸ¥ git é‚£äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸éœ€è¦æ·»åŠ åˆ°ç‰ˆæœ¬ç®¡ç†ä¸­ã€‚å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">node_modules</span><br><span class="line">/dist</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span> env files</span></span><br><span class="line">.env.local</span><br><span class="line">.env.*.local</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Log files</span></span><br><span class="line">npm-debug.log*</span><br><span class="line">yarn-debug.log*</span><br><span class="line">yarn-error.log*</span><br><span class="line">pnpm-debug.log*</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Editor directories and files</span></span><br><span class="line">.idea</span><br><span class="line">.vscode</span><br><span class="line">*.suo</span><br><span class="line">*.ntvs*</span><br><span class="line">*.njsproj</span><br><span class="line">*.sln</span><br><span class="line">*.sw?</span><br></pre></td></tr></table></figure><h2 id="README-md"><a href="#README-md" class="headerlink" title=" README.md"></a><span id="readme"> README.md</span></h2><p>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯é¡¹ç›®çš„ä»‹ç»æ–‡ä»¶ï¼Œä½¿ç”¨ markdown è¯­æ³•ã€‚</p><p><strong>ä¸æ¸…æ¥šmarkdownè¯­æ³•çš„å¯ä»¥è®¿é—®<a href="http://markdown.p2hp.com/basic-syntax/index.html">markdownåŸºæœ¬è¯­æ³•</a></strong></p><h2 id="babel-config-js"><a href="#babel-config-js" class="headerlink" title=" babel.config.js"></a><span id="babel"> babel.config.js</span></h2><p>Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œå¯ä»¥å¯¹ JavaScript æ–‡ä»¶è¿›è¡Œè½¬ç ï¼Œç±»ä¼¼çš„æœ‰ ES6 è½¬ä¸º ES5 å…¼å®¹ä¸åŒçš„æµè§ˆå™¨ã€‚</p><p><code>babel.config.js</code>æ˜¯ babel çš„é…ç½®æ–‡ä»¶ï¼Œ<code>presets</code>å­—æ®µè®¾å®šè½¬ç è§„åˆ™ï¼Œæ­¤å¤„ <code>@vue/cli-plugin-babel/preset</code>å°±æ˜¯è§„åˆ™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [<span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>äº†è§£æ›´å¤šçš„Babelç›¸å…³é…ç½®å¯ä»¥è®¿é—®<a href="https://babel.docschina.org/docs/en/config-files/#project-wide-configuration">Babel é…ç½®æ–‡ä»¶</a></strong></p><h2 id="package-json"><a href="#package-json" class="headerlink" title=" package.json"></a><span id="package"> package.json</span></h2><p><code>package.json</code>æ–‡ä»¶æä¾›äº†å¾ˆå¤šé¡¹ç›®ç›¸å…³çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰è¿™ä¸ªé¡¹ç›®æ‰€éœ€è¦çš„å„ç§æ¨¡å—ï¼›ä»¥åŠé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®ï¼‰ï¼›è¿˜å¯ä»¥é…ç½®ä¸€äº›ç®€åŒ–<code>script</code>æ‰§è¡Œè„šæœ¬ã€‚é¡¹ç›®ä¸­jsonæ–‡ä»¶æ˜¯ä¸èƒ½æ·»åŠ æ³¨é‡Šçš„ï¼Œéœ€è¦åˆ é™¤ç›¸å…³æ³¨é‡Šå™¢</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vue-project&quot;</span>, <span class="comment">// é¡¹ç›®çš„åç§°</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.1.0&quot;</span>, <span class="comment">// é¡¹ç›®çš„ç‰ˆæœ¬å·  å¤§ç‰ˆæœ¬å·.å°ç‰ˆæœ¬å·.ä¿®è®¢ç‰ˆæœ¬å·[.æ—¥æœŸç‰ˆæœ¬å·]</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯¹å¤–å¼€å‘ï¼Œprivateä¸ºtrueè¡¨ç¤ºä¸å¯¹å¤–å¼€æ”¾</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// scripté…ç½®è„šæœ¬å¯¹è±¡ï¼Œè¡¨ç¤ºnpm run XXX</span></span><br><span class="line">    <span class="attr">&quot;serve&quot;</span>: <span class="string">&quot;vue-cli-service serve&quot;</span>, <span class="comment">// é…ç½®serveè„šæœ¬ï¼Œè¡¨ç¤ºnpm run serve ç­‰åŒäº vue-cli-service serve å‘½ä»¤</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;vue-cli-service build&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;vue-cli-service lint&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// ä¾èµ–çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™é‡Œä¸»è¦æ˜¯ç”Ÿäº§å’Œå¼€å‘ä¾èµ–,ä¸€èˆ¬ç”¨npm install XXX --save å®‰è£…çš„ä¾èµ–å°±ä¼šæ·»åŠ åˆ°è¿™é‡Œ</span></span><br><span class="line">    <span class="attr">&quot;core-js&quot;</span>: <span class="string">&quot;^3.6.5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue&quot;</span>: <span class="string">&quot;^2.6.11&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-router&quot;</span>: <span class="string">&quot;^3.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vuex&quot;</span>: <span class="string">&quot;^3.4.0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// å¼€å‘ä¾èµ–çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™é‡Œçš„ä¸»è¦æ˜¯å¼€å‘è¿‡ç¨‹çš„ä¾èµ–ï¼Œç”Ÿäº§ç¯å¢ƒä¸­ä¸ä¼šå­˜åœ¨,ä¸€èˆ¬ç”¨ npm install XXX --save-dev å®‰è£…çš„ä¾èµ–ä¼šæ·»åŠ åˆ°è¿™é‡Œ</span></span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-babel&quot;</span>: <span class="string">&quot;~4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-eslint&quot;</span>: <span class="string">&quot;~4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-router&quot;</span>: <span class="string">&quot;~4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-vuex&quot;</span>: <span class="string">&quot;~4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/cli-service&quot;</span>: <span class="string">&quot;~4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/eslint-config-prettier&quot;</span>: <span class="string">&quot;^6.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-eslint&quot;</span>: <span class="string">&quot;^10.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^6.7.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-prettier&quot;</span>: <span class="string">&quot;^3.3.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-vue&quot;</span>: <span class="string">&quot;^6.2.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;lint-staged&quot;</span>: <span class="string">&quot;^9.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;node-sass&quot;</span>: <span class="string">&quot;^4.12.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span>: <span class="string">&quot;^2.2.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sass-loader&quot;</span>: <span class="string">&quot;^8.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-template-compiler&quot;</span>: <span class="string">&quot;^2.6.11&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é¢å¤–çš„æ–‡ä»¶"><a href="#é¢å¤–çš„æ–‡ä»¶" class="headerlink" title="é¢å¤–çš„æ–‡ä»¶"></a>é¢å¤–çš„æ–‡ä»¶</h1><p>é™¤äº†ä¸Šè¿°<code>vue-cli</code>åˆ›å»ºé¡¹ç›®åé»˜è®¤ç”Ÿæˆçš„æ–‡ä»¶å¤–ï¼Œæˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿˜éœ€è¦å¾ˆå¤šé…ç½®æ–‡ä»¶ï¼Œä¸”éƒ½æ˜¯åœ¨æ ¹ç›®å½•ä¸­è‡ªå·±åˆ›å»ºçš„ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ªç›¸å…³æ–‡ä»¶</p><h2 id="vue-config-js"><a href="#vue-config-js" class="headerlink" title=" vue.config.js"></a><span id="vueconfig"> vue.config.js</span></h2><p>è¿™ä¸ªæ–‡ä»¶è¡¨ç¤º vue çš„é…ç½®æ–‡ä»¶ï¼Œåƒä¸€äº›ç®€å•çš„å‰ç«¯æœåŠ¡è¿è¡Œçš„ç«¯å£å·ï¼Œæ˜¯å¦è‡ªåŠ¨æ‰“å¼€ï¼Œä»£ç†åœ°å€ç­‰ã€‚ä¸‹é¢æ˜¯ä¸€äº›ç®€å•çš„é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>) <span class="comment">// å¯¼å…¥Nodeçš„pathæ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æå‡½æ•°ï¼Œåœ¨é…ç½®å¼•å…¥åˆ«åæ—¶ç”¨åˆ°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// vue.config.jsçš„ä¸»ä½“é…ç½®</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">publicPath</span>: <span class="string">&#x27;/&#x27;</span>, <span class="comment">// éƒ¨ç½²åº”ç”¨åŒ…æ—¶çš„åŸºæœ¬ URLã€‚ç”¨æ³•å’Œ webpack æœ¬èº«çš„ output.publicPath ä¸€è‡´ã€‚</span></span><br><span class="line">  <span class="attr">outputDir</span>: <span class="string">&#x27;dist&#x27;</span>, <span class="comment">// å½“è¿è¡Œ vue-cli-service build æ—¶ç”Ÿæˆçš„ç”Ÿäº§ç¯å¢ƒæ„å»ºæ–‡ä»¶çš„ç›®å½•ã€‚</span></span><br><span class="line">  <span class="attr">assetsDir</span>: <span class="string">&#x27;assets&#x27;</span>, <span class="comment">// æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº outputDir çš„) ç›®å½•ã€‚</span></span><br><span class="line">  <span class="attr">css</span>: &#123;</span><br><span class="line">    <span class="comment">// å¯¹cssçš„ä¸€äº›é…ç½®</span></span><br><span class="line">    <span class="attr">extract</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å°†ç»„ä»¶ä¸­çš„ CSS æå–è‡³ä¸€ä¸ªç‹¬ç«‹çš„ CSS æ–‡ä»¶ä¸­ (è€Œä¸æ˜¯åŠ¨æ€æ³¨å…¥åˆ° JavaScript ä¸­çš„ inline ä»£ç )ã€‚</span></span><br><span class="line">    <span class="attr">sourceMap</span>: <span class="literal">false</span> <span class="comment">// æ˜¯å¦ä¸º CSS å¼€å¯ source mapã€‚è®¾ç½®ä¸º true ä¹‹åå¯èƒ½ä¼šå½±å“æ„å»ºçš„æ€§èƒ½ã€‚</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">lintOnSave</span>: process.env.NODE_ENV === <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒä¸‹é€šè¿‡ eslint-loader åœ¨æ¯æ¬¡ä¿å­˜æ—¶ lint ä»£ç ã€‚è¿™ä¸ªå€¼ä¼šåœ¨ @vue/cli-plugin-eslint è¢«å®‰è£…ä¹‹åç”Ÿæ•ˆã€‚</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="comment">// æœåŠ¡ç›¸å…³çš„è®¾ç½®</span></span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="comment">// æŒ‡å®šä¸€ä¸ªä¸»æœºå</span></span><br><span class="line">    <span class="attr">port</span>: <span class="number">8000</span>, <span class="comment">// æŒ‡å®šä¸€ä¸ªç«¯å£å·</span></span><br><span class="line">    <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// è¿è¡ŒæˆåŠŸåæ˜¯å¦è‡ªåŠ¨æ‰“å¼€é¡µé¢</span></span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="comment">// ä»£ç†ç›¸å…³ã€‚å¦‚æœä½ çš„å‰ç«¯åº”ç”¨å’Œåç«¯ API æœåŠ¡å™¨æ²¡æœ‰è¿è¡Œåœ¨åŒä¸€ä¸ªä¸»æœºä¸Šï¼Œä½ éœ€è¦åœ¨å¼€å‘ç¯å¢ƒä¸‹å°† API è¯·æ±‚ä»£ç†åˆ° API æœåŠ¡å™¨</span></span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment">// å¯¹è¯·æ±‚æ¥å£ä¸­å‡ºç°çš„apiè¿›è¡Œä»£ç†</span></span><br><span class="line">        <span class="attr">target</span>: process.env.VUE_APP_PROXY_URL, <span class="comment">// ä»£ç†çš„ç›®æ ‡åœ°å€ï¼Œè¿™ä¸ªå–å€¼åœ¨åé¢çš„æ–‡ä»¶ä¼šè®²åˆ°</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦æ”¹å˜åŸŸåï¼Œ</span></span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¼€å¯webSocket</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="comment">// è·¯å¾„é‡å†™ï¼Œå¦‚æœé»˜è®¤ä¸é‡å†™è·¯å¾„ï¼Œé‚£ä¹ˆ`/api/users`ä¼šè¢«ä»£ç†åˆ°`targetè·¯å¾„/api/users`</span></span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// å¯¹apiè¿›è¡Œè·¯å¾„é‡å†™ï¼Œé‡å†™åï¼Œé‚£ä¹ˆ`/api/users`ä¼šè¢«ä»£ç†åˆ°`targetè·¯å¾„/users`</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// webpackç›¸å…³çš„é…ç½®ï¼Œå¯ä»¥è®¾ç½®pluginså’Œåˆ«åè§£æç­‰</span></span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="comment">// è§£æè®¾ç½®</span></span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">      <span class="comment">// åˆ«åé…ç½®ï¼Œç”¨æ¥åˆ›å»º import æˆ– require çš„åˆ«åï¼Œæ¥ç¡®ä¿æ¨¡å—å¼•å…¥å˜å¾—æ›´ç®€å•ã€‚</span></span><br><span class="line">      <span class="attr">alias</span>: &#123;</span><br><span class="line">        <span class="comment">// ç”¨&#x27;@&#x27;è¡¨ç¤ºsrcçš„è·¯å¾„ï¼Œ @/views/Home.vue ç­‰åŒäº src/views/Home.vue.</span></span><br><span class="line">        <span class="string">&#x27;@&#x27;</span>: resolve(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        <span class="comment">// åŒç†ï¼Œç”¨@components è¡¨ç¤º src/componentsç›®å½•</span></span><br><span class="line">        <span class="string">&#x27;@components&#x27;</span>: resolve(<span class="string">&#x27;src/components&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;@assets&#x27;</span>: resolve(<span class="string">&#x27;src/assets&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// é…ç½®webpackçš„plugins</span></span><br><span class="line">    <span class="attr">plugins</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å¦‚æœä½ ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ source mapï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸º false ä»¥åŠ é€Ÿç”Ÿäº§ç¯å¢ƒæ„å»ºã€‚</span></span><br><span class="line">  <span class="attr">productionSourceMap</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ›´å¤švueçš„é…ç½®å¯ä»¥è®¿é—® <a href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE">vue é…ç½®å‚è€ƒ</a></strong></p><h2 id="env-developmentã€-env-production-é…ç½®æ–‡ä»¶"><a href="#env-developmentã€-env-production-é…ç½®æ–‡ä»¶" class="headerlink" title=" .env.developmentã€.env.production é…ç½®æ–‡ä»¶"></a><span id="envconfig"> .env.developmentã€.env.production é…ç½®æ–‡ä»¶</span></h2><p>è¿™é‡Œå¯ä»¥è‡ªå·±åˆ›å»ºä»¥ä¸Šé…ç½®æ–‡ä»¶ï¼Œç”¨äºé…ç½®ä¸åŒç¯å¢ƒä¸‹çš„ç¯å¢ƒå˜é‡ï¼Œå…¶ä¸­</p><ul><li><code>.env.development</code>è¡¨ç¤ºå¼€å‘ç¯å¢ƒçš„ç¯å¢ƒå˜é‡</li><li><code>.env.production</code>è¡¨ç¤ºç”Ÿäº§ç¯å¢ƒçš„ç¯å¢ƒå˜é‡</li><li><code>.env.mock</code>è¡¨ç¤º mock è¿è¡ŒçŠ¶æ€ä¸‹çš„ç¯å¢ƒå˜é‡</li></ul><p>è¿™äº›ç¯å¢ƒå˜é‡å¯ä»¥åœ¨å…¨å±€ä½¿ç”¨ï¼Œä½¿ç”¨æ–¹æ³•å°±æ˜¯<code>process.env.XXXX</code>ã€‚å…¶ä¸­ xxxx è¡¨ç¤ºå˜é‡å</p><p>ç”±äºä¸Šé¢åœ¨<code>vue.config.js</code>é…ç½®æ–‡ä»¶ä¸­<code>proxy</code>ä»£ç†é…ç½®çš„å±æ€§<code>target</code>çš„å€¼ä½¿ç”¨äº†<code>process.env.VUE_APP_PROXY_URL</code>å˜é‡ã€‚æ‰€ä»¥æˆ‘åœ¨<code>env.development</code>æ–‡ä»¶é‡Œå®šä¹‰å¦‚ä¸‹å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VUE_APP_PROXY_ROOT = <span class="string">&#x27;http://192.168.2.25:6060/&#x27;</span></span><br></pre></td></tr></table></figure><p>äºæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ <code>/api/user</code> åœ°å€å‘é€è¯·æ±‚å°±ç­‰åŒäºå‘ <code>http://192.168.2.25:6060/user </code> åœ°å€å‘é€è¯·æ±‚</p><h2 id="prettierrcæ–‡ä»¶"><a href="#prettierrcæ–‡ä»¶" class="headerlink" title=" .prettierrcæ–‡ä»¶"></a><span id="prettier"> .prettierrcæ–‡ä»¶</span></h2><ul><li><code>Prettier</code>æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ä»£ç æ ¼å¼åŒ–æˆä½ æƒ³è¦çš„é£æ ¼å’Œè§„èŒƒã€‚</li></ul><p>å¼€å‘å‰ç«¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦æ±‚å¼€å‘äººå‘˜éƒ½åœ¨<code>VSCode</code>ä¸­è£…å…¥<code>Prettier</code>æ’ä»¶ï¼Œæ–¹ä¾¿æ ¼å¼åŒ–ã€‚ä¸ ESLint ä¸€æ ·ï¼Œä¸ºäº†ç»Ÿä¸€ä»£ç é£æ ¼å’Œè§„èŒƒï¼Œæ‰€ä»¥ Prettier ä¹Ÿæ˜¯åœ¨å›¢é˜Ÿå¼€å‘ä¸­é‡è¦çš„ä¸€å‘˜ã€‚</p><ul><li><code>.prettierrc</code>æ–‡ä»¶å°±æ˜¯é…ç½®ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç çš„æ–¹å¼ï¼ˆæ³¨æ„è¯¥æ–‡ä»¶ä¸­çš„æ³¨é‡Šéœ€è¦åˆ é™¤åæ‰ä¼šç”Ÿæ•ˆï¼‰</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;eslintIntegration&quot;</span>: <span class="literal">true</span>, <span class="comment">// eslinté›†æˆ</span></span><br><span class="line">  <span class="attr">&quot;stylelintIntegration&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ ·å¼åµŒå…¥</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ä½¿ç”¨å•å¼•å·</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span>: <span class="literal">false</span>, <span class="comment">// ç»“å°¾æ˜¯å¦ä¿ç•™åˆ†å·ï¼Œè®¾ç½®ä¸ºfalseè¡¨ç¤ºç»“å°¾ä¸ä¼šæœ‰åˆ†å·</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span>: <span class="string">&quot;none&quot;</span>, <span class="comment">// å¯¹è±¡ã€æ•°ç»„ç­‰ï¼Œæœ€åä¸€ä¸ªæ˜¯å¦ä¿ç•™é€—å·ï¼Œè®¾ç½®ä¸ºnoneè¡¨ç¤ºä¸ä¿ç•™é€—å·ï¼Œ es5è¡¨ç¤ºä¿ç•™es5çš„ç»“å°¾é€—å·</span></span><br><span class="line">  <span class="attr">&quot;arrowParens&quot;</span>: <span class="string">&quot;avoid&quot;</span>, <span class="comment">// ç®­å¤´å‡½æ•°ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°æ˜¯å¦ä¿ç•™æ‹¬å·ï¼Œaviodè¡¨ç¤ºä¸ä¿ç•™æ‹¬å·ï¼Œalwaysè¡¨ç¤ºä¿ç•™æ‹¬å·</span></span><br><span class="line">  <span class="attr">&quot;bracketSpacing&quot;</span>: <span class="literal">true</span>, <span class="comment">// å¯¹è±¡ä¸­çš„ç©ºæ ¼ é»˜è®¤true</span></span><br><span class="line">  <span class="attr">&quot;useTabs&quot;</span>: <span class="literal">false</span>, <span class="comment">// ä½¿ç”¨tabç¼©è¿›ï¼Œé»˜è®¤false</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span>: <span class="number">2</span> <span class="comment">// tabç¼©è¿›å¤§å°ï¼Œ2ä¸ªç©ºæ ¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ›´å¤šprettierçš„é…ç½®å†…å®¹è¯·è®¿é—®<a href="https://prettier.io/docs/en/options.html">Prettier é…ç½®</a></strong></p><h1 id="æ›´å¤šçš„é¡¹ç›®å†…å®¹å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹-github-åœ°å€"><a href="#æ›´å¤šçš„é¡¹ç›®å†…å®¹å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹-github-åœ°å€" class="headerlink" title="æ›´å¤šçš„é¡¹ç›®å†…å®¹å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ github åœ°å€"></a>æ›´å¤šçš„é¡¹ç›®å†…å®¹å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ github åœ°å€</h1><p><a href="https://github.com/He-Huang/vue-project-structure">https://github.com/He-Huang/vue-project-structure</a></p><h1 id="å‚è€ƒåœ°å€ï¼š"><a href="#å‚è€ƒåœ°å€ï¼š" class="headerlink" title="å‚è€ƒåœ°å€ï¼š"></a>å‚è€ƒåœ°å€ï¼š</h1><ol><li><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">vue è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®</a></li><li><a href="https://www.jianshu.com/p/a09a5a222a76">ESLint é…ç½®æ–‡ä»¶ .eslintrc ç¤ºä¾‹åŠè¯´æ˜</a></li><li><a href="https://eslint.bootcss.com/docs/user-guide/configuring">ESLint ä¸­æ–‡ç½‘</a> </li><li><a href="http://markdown.p2hp.com/basic-syntax/index.html">markdownåŸºæœ¬è¯­æ³•</a></li><li><a href="https://babel.docschina.org/docs/en/config-files/#project-wide-configuration">Babel é…ç½®æ–‡ä»¶</a></li><li><a href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE">vue é…ç½®å‚è€ƒ</a></li><li><a href="https://prettier.io/docs/en/options.html">Prettier é…ç½®</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¡¨æ ¼ä¸åˆ†é¡µæ¸²æŸ“å¤§é‡æ•°æ®å¡é¡¿çš„ä¼˜åŒ–æ–¹æ¡ˆ</title>
      <link href="/wangq1231/2021/08/05/%E2%96%92%D1%8D%E2%95%95%D1%91%E2%95%A9%C2%A4%E2%95%9B%E2%96%8C%E2%95%A3%C2%A4%E2%95%A2%D1%80%D1%84%E2%95%93%E2%95%9A%E2%95%9B%E2%94%90%D0%B8%E2%95%A2%E2%94%98%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%99%E2%94%BC%E2%95%97%D0%BF/"/>
      <url>/wangq1231/2021/08/05/%E2%96%92%D1%8D%E2%95%95%D1%91%E2%95%A9%C2%A4%E2%95%9B%E2%96%8C%E2%95%A3%C2%A4%E2%95%A2%D1%80%D1%84%E2%95%93%E2%95%9A%E2%95%9B%E2%94%90%D0%B8%E2%95%A2%E2%94%98%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%99%E2%94%BC%E2%95%97%D0%BF/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>åœ¨å¼€å‘é¡¹ç›®çš„è¿‡ç¨‹ä¸­é‡åˆ°éœ€æ±‚ï¼šè¡¨æ ¼æ¸²æŸ“å¤§é‡çš„æ•°æ®ï¼Œè¦æ±‚ä¸ä½¿ç”¨åˆ†é¡µã€‚å¹¶ä¸”è¦è¿è¡Œåœ¨ç¡¬ä»¶é…ç½®ç›¸å¯¹è¾ƒä½åŠæµè§ˆå™¨ç‰ˆæœ¬ä¹Ÿè¾ƒä½çš„æ”¿åºœç›¸å…³éƒ¨é—¨ä¸­ã€‚</p><p>ç»“æœï¼šæ­£å¸¸ä½¿ç”¨èš‚èšé‡‘æœçš„Tableç»„ä»¶æ¸²æŸ“çš„è¯ï¼Œåœ¨ä½é…ç½®ç”µè„‘å’Œä½ç‰ˆæœ¬æµè§ˆå™¨ä¸­æ¸²æŸ“éå¸¸å¡é¡¿ï¼Œç”šè‡³å¯¼è‡´é¡µé¢å¡æ­»ã€‚äºæ˜¯éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚é«˜é…ç½®ä¸€ç‚¹çš„ç”µè„‘ï¼Œæ¸²æŸ“ä¸ä¼šå¡æ­»ï¼Œä½†ä¹Ÿä¼šæœ‰äº”å…­ç§’å·¦å³çš„æ¸²æŸ“æ—¶é—´ã€‚</p></blockquote><h3 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h3><ol><li><p>ä¿è¯Tableç»„ä»¶ä¸­æ¸²æŸ“çš„æ•°æ®ï¼Œæ°¸è¿œåªæœ‰20æ¡(å¯ä»¥ä»»æ„å…¶ä»–æ¡æ•°éƒ½è¡Œ)ã€‚å½“æ»šåŠ¨æ¡æ»šåŠ¨æ—¶ï¼Œåˆ™æ¸²æŸ“ä¸åŒçš„20æ¡æ•°æ®ã€‚</p></li><li><p>åœ¨è¡¨æ ¼DOMç»“æ„ä¸­appendä¸€ä¸ª<code>trèŠ‚ç‚¹</code>ï¼Œè®¾ç½®é«˜åº¦ï¼Œç”¨äºæ’‘å¼€è¡¨æ ¼ç»“æ„ï¼Œä½¿æ¸²æŸ“20æ¡æ•°æ®çš„æ»šåŠ¨æ¡é«˜åº¦çœ‹èµ·æ¥å’Œæ¸²æŸ“æ‰€æœ‰æ•°æ®çš„æ»šåŠ¨æ¡é«˜åº¦ä¸€æ ·(éšç€æ»šåŠ¨æ¡æ»šåŠ¨ï¼Œè¿™ä¸ª<code>trèŠ‚ç‚¹</code>çš„é«˜åº¦è¦éšä¹‹å‡å°‘)</p></li><li><p>åŒæ ·ä¸ºäº†è§†è§‰æ•ˆæœï¼Œéœ€è¦è®¾ç½®è¡¨æ ¼DOMç»“æ„çš„<code>transform: translateY</code>å±æ€§ï¼Œä½¿å¾—è¡¨æ ¼æ»šåŠ¨æ—¶ï¼Œå…¶ä¸Šéƒ¨çš„é«˜åº¦ä¹Ÿèƒ½æ’‘å¼€</p><p><strong>å®ç°æ–¹æ³•</strong>ï¼š</p><ul><li>Vueä¸­å¯ä»¥ä½¿ç”¨computedè®¡ç®—å±æ€§ï¼Œå¯¹æ‰€æœ‰çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œåªå–20æ¡ã€‚</li><li>ç›‘å¬è¡¨æ ¼çš„æ»šåŠ¨äº‹ä»¶ï¼Œåœ¨äº‹ä»¶ä¸­æ”¹å˜å½“å‰çš„20æ¡æ•°æ®ï¼ŒåŒæ—¶æ”¹å˜<code>trèŠ‚ç‚¹</code>çš„é«˜åº¦ä»¥åŠè¡¨æ ¼çš„<code>transform: translateY</code>å±æ€§</li></ul></li></ol><p>ä»¥ä¸‹æ˜¯æˆ‘æŠ½ç¦»çš„ä¸€ä¸ªç®€å•ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div ref=&quot;tableWrap&quot;&gt;</span><br><span class="line">    &lt;a-table</span><br><span class="line">      ref=&quot;antTableRef&quot;</span><br><span class="line">      :rowKey=&quot;rowKey&quot;</span><br><span class="line">      :dataSource=&quot;filteredData&quot;</span><br><span class="line">      :columns=&quot;tableColumns&quot;</span><br><span class="line">      :pagination=&quot;false&quot;</span><br><span class="line">      :scroll=&quot;scroll&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;template</span><br><span class="line">        v-for=&quot;slotItem of slots&quot;</span><br><span class="line">        :slot=&quot;slotItem.name&quot;</span><br><span class="line">        slot-scope=&quot;text, record, index, column&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;template v-if=&quot;&#x27;customTitleCheck&#x27; === slotItem.name&quot;&gt;</span><br><span class="line">          &lt;a-checkbox</span><br><span class="line">            :key=&quot;slotItem.name&quot;</span><br><span class="line">            :disabled=&quot;disabledAll&quot;</span><br><span class="line">            :checked=&quot;checkedAll&quot;</span><br><span class="line">            :indeterminate=&quot;indeterminateAll&quot;</span><br><span class="line">            @change=&quot;handleCheckChangeAll&quot;</span><br><span class="line">          &gt;&lt;/a-checkbox&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;template v-else-if=&quot;&#x27;customTableCheck&#x27; === slotItem.name&quot;&gt;</span><br><span class="line">          &lt;a-checkbox</span><br><span class="line">            :key=&quot;slotItem.name&quot;</span><br><span class="line">            :checked=&quot;selectedRowKeys.includes(record[rowKey])&quot;</span><br><span class="line">            :disabled=&quot;handleCheckDisabled(record)&quot;</span><br><span class="line">            @change=&quot;e =&gt; handleCheckChange(e, record)&quot;</span><br><span class="line">          &gt;&lt;/a-checkbox&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;slot v-else :name=&quot;slotItem.name&quot; v-bind=&quot;&#123; text, record, index, column &#125;&quot;&gt;&lt;/slot&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/a-table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; Table &#125; from &#x27;ant-design-vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;TableRender&#x27;,</span><br><span class="line">  // æ‰©å±•antçš„Tableç»„ä»¶</span><br><span class="line">  extends: Table,</span><br><span class="line">  props: &#123;</span><br><span class="line">    rowKey: &#123;</span><br><span class="line">      type: [String, Function],</span><br><span class="line">      default() &#123;</span><br><span class="line">        return &#x27;id&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // è¡¨å¤´æ•°æ®</span><br><span class="line">    columns: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ˜¯å¦æ˜¾ç¤ºé€‰æ‹©æ¡†</span><br><span class="line">    showChecked: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    defaultCheckedKeys: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // å¤é€‰æ¡†ç¦ç”¨æ–¹æ³•</span><br><span class="line">    disbleCheckedFunc: &#123;</span><br><span class="line">      type: [Function, Boolean],</span><br><span class="line">      default() &#123;</span><br><span class="line">        return () =&gt; &#123;</span><br><span class="line">          return false</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    scroll: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    tableDatas: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ˜¾ç¤ºæ¡æ•°ï¼Œé»˜è®¤æ˜¾ç¤º20æ¡ï¼Œåªæ¸²æŸ“20ä¸ªtrDOM</span><br><span class="line">    showNum: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return 20</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æº¢å‡ºæ˜¾ç¤ºæ¡æ•°çš„æ˜¾ç¤ºæ•°é‡</span><br><span class="line">    spillDataNum: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return 20</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [],</span><br><span class="line">      currentStartIndex: 0,</span><br><span class="line">      currentEndIndex: this.showNum,</span><br><span class="line">      selectedRowKeys: this.defaultCheckedKeys,</span><br><span class="line">      disabledAll: false,</span><br><span class="line">      checkedAll: false,</span><br><span class="line">      canChooseLength: 0,</span><br><span class="line">      tableWrapRef: &#x27;&#x27;,</span><br><span class="line">      showRowNum: 0,</span><br><span class="line">      rowHeight: 40,</span><br><span class="line">      selectTbody: &#x27;&#x27;,</span><br><span class="line">      createElementTR: &#x27;&#x27;,</span><br><span class="line">      createElementTRHeight: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    tableDatas() &#123;</span><br><span class="line">      this.initScrollDOM()</span><br><span class="line">      // è®¾ç½®å…¨é€‰çš„ç¦ç”¨</span><br><span class="line">      this.disabledAll = true</span><br><span class="line">      this.tableDatas.forEach(item =&gt; &#123;</span><br><span class="line">        if (!this.handleCheckDisabled(item)) &#123;</span><br><span class="line">          this.canChooseLength++</span><br><span class="line">          this.disabledAll = false</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    filteredData() &#123;</span><br><span class="line">      let list = this.tableDatas.filter((item, index) =&gt; &#123;</span><br><span class="line">        if (index &lt; this.currentStartIndex) &#123;</span><br><span class="line">          return false</span><br><span class="line">        &#125; else if (index &gt; this.currentEndIndex) &#123;</span><br><span class="line">          return false</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          return true</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      return list</span><br><span class="line">    &#125;,</span><br><span class="line">    tableColumns() &#123;</span><br><span class="line">      let columns = this.columns</span><br><span class="line">      if (!this.showChecked) &#123;</span><br><span class="line">        return columns</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        columns.unshift(&#123;</span><br><span class="line">          width: 70,</span><br><span class="line">          scopedSlots: &#123;</span><br><span class="line">            title: &#x27;customTitleCheck&#x27;,</span><br><span class="line">            customRender: &#x27;customTableCheck&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        return columns</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ’æ§½</span><br><span class="line">    slots() &#123;</span><br><span class="line">      const slots = []</span><br><span class="line">      for (const column of this.columns) &#123;</span><br><span class="line">        const conf = &#123;&#125;</span><br><span class="line">        for (const k in column) &#123;</span><br><span class="line">          if (k !== &#x27;scopedSlots&#x27;) conf[k] = column[k]</span><br><span class="line">        &#125;</span><br><span class="line">        if (column.scopedSlots &amp;&amp; column.scopedSlots.customRender) &#123;</span><br><span class="line">          slots.push(&#123;</span><br><span class="line">            name: column.scopedSlots.customRender,</span><br><span class="line">            conf: conf</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        if (column.scopedSlots &amp;&amp; column.scopedSlots.title) &#123;</span><br><span class="line">          slots.push(&#123;</span><br><span class="line">            name: column.scopedSlots.title,</span><br><span class="line">            conf: conf</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        if (column.children) &#123;</span><br><span class="line">          const childrens = column.children</span><br><span class="line">          childrens.map(child =&gt; &#123;</span><br><span class="line">            if (child.scopedSlots) &#123;</span><br><span class="line">              childrens.valueKey = child.key</span><br><span class="line">              slots.push(&#123;</span><br><span class="line">                name: `$&#123;child.scopedSlots.customRender&#125;`,</span><br><span class="line">                conf: child</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return slots</span><br><span class="line">    &#125;,</span><br><span class="line">    selectedRow() &#123;</span><br><span class="line">      const rows = []</span><br><span class="line">      const selectedLength = this.selectedRowKeys.length</span><br><span class="line">      for (const table of this.tableDatas) &#123;</span><br><span class="line">        if (this.selectedRowKeys.includes(table[this.rowKey])) &#123;</span><br><span class="line">          rows.push(table)</span><br><span class="line">        &#125;</span><br><span class="line">        if (rows.length &gt;= selectedLength) &#123;</span><br><span class="line">          break</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return rows</span><br><span class="line">    &#125;,</span><br><span class="line">    indeterminateAll() &#123;</span><br><span class="line">      const length = this.selectedRowKeys.length</span><br><span class="line">      return length &gt; 0 &amp;&amp; length &lt; this.canChooseLength</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    initScrollDOM() &#123;</span><br><span class="line">      this.$nextTick(() =&gt; &#123;</span><br><span class="line">        this.tableRef = this.$refs.antTableRef</span><br><span class="line">        const el = this.tableRef.$el</span><br><span class="line">        const dataSize = this.tableDatas.length</span><br><span class="line">        const selectWrap = el.querySelector(&#x27;.ant-table-body&#x27;)</span><br><span class="line">        this.selectTbody = selectWrap.querySelector(&#x27;table tbody&#x27;)</span><br><span class="line">        const selectRow = selectWrap.querySelector(&#x27;table tr&#x27;)</span><br><span class="line">        if (!selectRow) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        this.rowHeight = selectRow.clientHeight</span><br><span class="line">        this.showRowNum = Math.round(selectWrap.clientHeight / this.rowHeight)</span><br><span class="line"></span><br><span class="line">        this.createElementTR = document.createElement(&#x27;tr&#x27;)</span><br><span class="line">        let createElementTRHeight =</span><br><span class="line">          (dataSize - this.showRowNum - this.spillDataNum) * this.rowHeight</span><br><span class="line">        this.createElementTR.setAttribute(&#x27;style&#x27;, `height: $&#123;createElementTRHeight&#125;px;`)</span><br><span class="line">        this.selectTbody.append(this.createElementTR)</span><br><span class="line"></span><br><span class="line">        selectWrap.addEventListener(&#x27;scroll&#x27;, e =&gt; &#123;</span><br><span class="line">          const target = e.target</span><br><span class="line">          let topPx = target.scrollTop - this.spillDataNum * this.rowHeight</span><br><span class="line">          let topNum = Math.round(topPx / this.rowHeight)</span><br><span class="line">          let minTopNum = dataSize - this.spillDataNum - this.showRowNum</span><br><span class="line">          if (topNum &gt; minTopNum) &#123;</span><br><span class="line">            topNum = minTopNum</span><br><span class="line">          &#125;</span><br><span class="line">          if (topNum &lt; 0) &#123;</span><br><span class="line">            topNum = 0</span><br><span class="line">            topPx = 0</span><br><span class="line">          &#125;</span><br><span class="line">          this.selectTbody.setAttribute(&#x27;style&#x27;, `transform: translateY($&#123;topPx&#125;px)`)</span><br><span class="line">          this.createElementTR.setAttribute(</span><br><span class="line">            &#x27;style&#x27;,</span><br><span class="line">            `height: $&#123;createElementTRHeight - topPx &gt; 0 ? createElementTRHeight - topPx : 0&#125;px;`</span><br><span class="line">          )</span><br><span class="line">          this.currentStartIndex = topNum</span><br><span class="line">          this.currentEndIndex = topNum + this.showRowNum + this.spillDataNum</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCheckDisabled(record) &#123;</span><br><span class="line">      return this.disbleCheckedFunc(record)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCheckChange(e, item) &#123;</span><br><span class="line">      const checked = e.target.checked</span><br><span class="line">      if (checked) &#123;</span><br><span class="line">        if (this.selectedRowKeys.includes(item[this.rowKey])) return</span><br><span class="line">        this.selectedRowKeys.push(item[this.rowKey])</span><br><span class="line">        item.checked = true</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        const keyIndex = this.selectedRowKeys.indexOf(item[this.rowKey])</span><br><span class="line">        this.selectedRowKeys.splice(keyIndex, 1)</span><br><span class="line">        item.checked = false</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&#x27;handleTableCheck&#x27;, this.selectedRowKeys, this.selectedRow)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCheckChangeAll(e) &#123;</span><br><span class="line">      const checked = e.target.checked</span><br><span class="line">      if (checked) &#123;</span><br><span class="line">        this.checkedAll = true</span><br><span class="line">        for (const data of this.tableDatas) &#123;</span><br><span class="line">          if (</span><br><span class="line">            !this.handleCheckDisabled(data) &amp;&amp;</span><br><span class="line">            !this.selectedRowKeys.includes(data[this.rowKey])</span><br><span class="line">          ) &#123;</span><br><span class="line">            this.selectedRowKeys.push(data[this.rowKey])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.checkedAll = false</span><br><span class="line">        this.selectedRowKeys = []</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&#x27;handleCheckChangeAll&#x27;, checked, this.selectedRowKeys, this.selectedRow)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯è¯¥ç»„ä»¶çš„ä½¿ç”¨ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;TableRender</span><br><span class="line">      :columns=&quot;columns&quot;</span><br><span class="line">      :tableDatas=&quot;tableDatas&quot;</span><br><span class="line">      :showChecked=&quot;true&quot;</span><br><span class="line">      :scroll=&quot;&#123; y: 400 &#125;&quot;</span><br><span class="line">      :defaultCheckedKeys=&quot;defaultCheckedKeys&quot;</span><br><span class="line">      :disbleCheckedFunc=&quot;disbleCheckedFunc&quot;</span><br><span class="line">      @handleTableCheck=&quot;handleTableCheck&quot;</span><br><span class="line">      @handleCheckChangeAll=&quot;handleCheckChangeAll&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;template slot=&quot;operate&quot;&gt;</span><br><span class="line">        &lt;a-button type=&quot;primary&quot;&gt;æŸ¥çœ‹&lt;/a-button&gt;</span><br><span class="line">        &lt;a-button type=&quot;danger&quot;&gt;åˆ é™¤&lt;/a-button&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/TableRender&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import TableRender from &#x27;../components/TableRender.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    TableRender</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableDatas: [],</span><br><span class="line">      currentStartIndex: 0,</span><br><span class="line">      currentEndIndex: 20,</span><br><span class="line">      columns: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;åºå·&#x27;,</span><br><span class="line">          dataIndex: &#x27;id&#x27;,</span><br><span class="line">          key: &#x27;id&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;å§“å&#x27;,</span><br><span class="line">          dataIndex: &#x27;name&#x27;,</span><br><span class="line">          key: &#x27;name&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;å¹´é¾„&#x27;,</span><br><span class="line">          dataIndex: &#x27;age&#x27;,</span><br><span class="line">          key: &#x27;age&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;æ€§åˆ«&#x27;,</span><br><span class="line">          dataIndex: &#x27;sex&#x27;,</span><br><span class="line">          key: &#x27;sex&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;æè¿°&#x27;,</span><br><span class="line">          dataIndex: &#x27;description&#x27;,</span><br><span class="line">          key: &#x27;description&#x27;,</span><br><span class="line">          width: 280</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#x27;æ“ä½œ&#x27;,</span><br><span class="line">          scopedSlots: &#123;</span><br><span class="line">            customRender: &#x27;operate&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      defaultCheckedKeys: [4, 8]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getTableData()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    disbleCheckedFunc(record) &#123;</span><br><span class="line">      return record.id % 4 === 0</span><br><span class="line">    &#125;,</span><br><span class="line">    getTableData() &#123;</span><br><span class="line">      let cont = 0</span><br><span class="line">      let tableDatas = []</span><br><span class="line">      while (cont &lt; 10000) &#123;</span><br><span class="line">        cont = cont + 1</span><br><span class="line">        let object = &#123;</span><br><span class="line">          name: &#x27;å¼ ä¸‰ä¸°&#x27; + cont,</span><br><span class="line">          age: cont,</span><br><span class="line">          sex: cont % 2 === 0 ? &#x27;ç”·&#x27; : &#x27;å¥³&#x27;,</span><br><span class="line">          description: &#x27;çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ&#x27;,</span><br><span class="line">          id: cont</span><br><span class="line">        &#125;</span><br><span class="line">        tableDatas.push(object)</span><br><span class="line">      &#125;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.tableDatas = tableDatas</span><br><span class="line">      &#125;, 0)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTableCheck(selectedRowKeys, selectedRow) &#123;</span><br><span class="line">      console.log(&#x27;é€‰ä¸­çš„keyï¼š&#x27;, selectedRowKeys)</span><br><span class="line">      console.log(&#x27;é€‰ä¸­çš„å¯¹è±¡:&#x27;, selectedRow)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCheckChangeAll(checked, selectedRowKeys, selectedRow) &#123;</span><br><span class="line">      console.log(checked)</span><br><span class="line">      console.log(&#x27;é€‰ä¸­çš„keyï¼š&#x27;, selectedRowKeys)</span><br><span class="line">      console.log(&#x27;é€‰ä¸­çš„å¯¹è±¡:&#x27;, selectedRow)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç»“æœå±•ç¤º"><a href="#ç»“æœå±•ç¤º" class="headerlink" title="ç»“æœå±•ç¤º"></a>ç»“æœå±•ç¤º</h3><p>å¯åœ¨ä»¥ä¸‹åœ°å€æŸ¥çœ‹æ•ˆæœ: </p><p><a href="http://hehuang.site/Components/#/">http://hehuang.site/Components/#/</a></p><p>å‚è€ƒåšå®¢ï¼š</p><p><a href="https://www.cnblogs.com/wiliam/p/14991509.html">https://www.cnblogs.com/wiliam/p/14991509.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodeè¿æ¥mysqlåˆ›å»ºç®€å•æœåŠ¡</title>
      <link href="/wangq1231/2021/07/10/node%E2%94%B4%D0%BC%E2%95%9C%E2%95%99mysql%E2%94%A4%E2%94%A4%E2%95%9C%D0%B8%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%96%E2%96%A0%E2%95%AC%D1%91/"/>
      <url>/wangq1231/2021/07/10/node%E2%94%B4%D0%BC%E2%95%9C%E2%95%99mysql%E2%94%A4%E2%94%A4%E2%95%9C%D0%B8%E2%95%9D%D0%84%E2%95%A1%D0%B5%E2%95%96%E2%96%A0%E2%95%AC%D1%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥mysql</span></span><br><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">let</span> port = <span class="number">3030</span> <span class="comment">// è®¾ç½®æœåŠ¡ç«¯å…è®¸çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¸€ä¸ªæ—¶é—´è½¬åŒ–å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DateToString</span>(<span class="params">date</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!date) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  <span class="keyword">let</span> year = date.getFullYear()</span><br><span class="line">  <span class="keyword">let</span> month = date.getMonth() + <span class="number">1</span></span><br><span class="line">  <span class="keyword">let</span> day = date.getDate()</span><br><span class="line">  <span class="keyword">return</span> year + <span class="string">&#x27;-&#x27;</span> + month + <span class="string">&#x27;-&#x27;</span> + day</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å…è®¸è·¨åŸŸè¯·æ±‚</span></span><br><span class="line">app.all(<span class="string">&#x27;*&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Origin, X-Requested-With, Content-Type, Accept&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;PUT,POST,GET,DELETE,OPTIONS&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;X-Powered-By&#x27;</span>, <span class="string">&#x27; 3.2.1&#x27;</span>)</span><br><span class="line">  res.header(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>)</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®mysqlç›¸å…³å‚æ•°</span></span><br><span class="line"><span class="keyword">var</span> connection = mysql.createConnection(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">  <span class="attr">port</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;todos&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å»ºç«‹æ•°æ®åº“è¿æ¥</span></span><br><span class="line">connection.connect()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢æ•°æ®ï¼ˆè¿™é‡Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨getè¯·æ±‚ï¼Œé€šè¿‡è·¯å¾„ä¼ å‚è·å–å‚æ•°ï¼‰</span></span><br><span class="line">app.get(<span class="string">&#x27;/addTodo&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> post = req.query</span><br><span class="line">  <span class="keyword">if</span> (!post.title || !post.done) &#123;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;è¯·ä¼ å…¥å‚æ•°&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ–°å¢æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> addSql = <span class="string">&#x27;insert into todoList(title,done,date) values(?,?,?)&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> addSqlParams = [post.title, post.done, DateToString(<span class="keyword">new</span> <span class="built_in">Date</span>())]</span><br><span class="line">  connection.query(addSql, addSqlParams, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        <span class="attr">code</span>: <span class="number">400</span>,</span><br><span class="line">        <span class="attr">message</span>: err.message,</span><br><span class="line">        <span class="attr">result</span>: err.message,</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;[INSERT ERROR] - &#x27;</span>, err.message)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;æ–°å¢æˆåŠŸ&#x27;</span>,</span><br><span class="line">      result,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡idè·å–æ•°æ®</span></span><br><span class="line">app.get(<span class="string">&#x27;/getTodo&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; id &#125; = req.query</span><br><span class="line">  <span class="built_in">console</span>.log(req)</span><br><span class="line">  <span class="keyword">let</span> querySql = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (!id) &#123;</span><br><span class="line">    querySql = <span class="string">&#x27;select * from todoList&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    querySql = <span class="string">&#x27;select * from todoList where id = ?&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  connection.query(querySql, id, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(id, <span class="string">&#x27;è·å–æ•°æ®&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        <span class="attr">code</span>: <span class="number">400</span>,</span><br><span class="line">        <span class="attr">message</span>: err.message,</span><br><span class="line">        <span class="attr">result</span>: err.message,</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;[INSERT ERROR] - &#x27;</span>, err.message)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;æŸ¥è¯¢æˆåŠŸ&#x27;</span>,</span><br><span class="line">      result,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†é¡µè·å–æ•°æ®</span></span><br><span class="line">app.get(<span class="string">&#x27;/getTodo/:current/:pageSize&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä»è¯·æ±‚è·¯å¾„ä¸­è·å–ç¬¬å‡ é¡µå’Œæ¯é¡µçš„æ¡æ•°</span></span><br><span class="line">  <span class="keyword">const</span> &#123; current, pageSize &#125; = req.params</span><br><span class="line">  <span class="keyword">let</span> total = <span class="number">0</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * current = 1, pageSize = 10 å°±æ˜¯å–å½“å‰æ•°æ®çš„ç¬¬ä¸€ä¸ªåæ¡ï¼›current = 2è¡¨ç¤ºå–ç¬¬äºŒä¸ªåæ¡ã€‚</span></span><br><span class="line"><span class="comment">   * sqlè¯­å¥çš„offset,limitï¼Œoffsetåç§»é‡ï¼Œå°±æ˜¯ä»æ•°æ®çš„ç¬¬å‡ æ¡å¼€å§‹ï¼Œlimitæ•°é‡ï¼Œå°±æ˜¯å–å¤šå°‘æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">   *    select * from todos (where id = ?) limit 10 offset 0ã€‚</span></span><br><span class="line"><span class="comment">   *    è¿™å¥è¯å°±æ˜¯ä»æ‰€æœ‰æ•°æ®ä¸­å–å‰10æ¡ï¼Œä»¥æ­¤ç±»æ¨ï¼ŒoffsetåŒ…æ‹¬è¿™æ¡æ•°æ®ï¼Œ0çš„è¯åŒ…æ‹¬ç¬¬0æ¡å°±æ˜¯ç¬¬ä¸€æ¡ï¼Œæ³¨æ„çš„æ˜¯whereæ¡ä»¶è¦æ”¾åœ¨ä¹‹å‰ï¼Œä¸ç„¶ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">let</span> offset = <span class="built_in">Number</span>(current - <span class="number">1</span>) * <span class="built_in">Number</span>(pageSize)</span><br><span class="line">  <span class="keyword">let</span> querySql = <span class="string">`select * from todoList limit <span class="subst">$&#123;pageSize&#125;</span> offset <span class="subst">$&#123;offset&#125;</span>`</span></span><br><span class="line">  <span class="comment">// è·å–totalå€¼</span></span><br><span class="line">  connection.query(<span class="string">&#x27;select count(*) from todolist&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, results</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    total = results[<span class="number">0</span>][<span class="string">&#x27;count(*)&#x27;</span>]</span><br><span class="line">  &#125;)</span><br><span class="line">  connection.query(querySql, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        <span class="attr">code</span>: <span class="number">400</span>,</span><br><span class="line">        <span class="attr">message</span>: err.message,</span><br><span class="line">        <span class="attr">result</span>: err.message,</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;[INSERT ERROR] - &#x27;</span>, err.message)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;æŸ¥è¯¢æˆåŠŸ&#x27;</span>,</span><br><span class="line">      <span class="attr">result</span>: &#123; <span class="attr">data</span>: result, <span class="attr">pageSize</span>: pageSize, <span class="attr">pageNum</span>: current, total &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="comment">// var modSql = &#x27;UPDATE todoList SET title = ?, done = ? WHERE id = ?&#x27;</span></span><br><span class="line"><span class="comment">// var modSqlParams = [&#x27;æ‹‰ç²‘ç²‘&#x27;, 1, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// connection.query(modSql, modSqlParams, function (err, result) &#123;</span></span><br><span class="line"><span class="comment">//   if (err) &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&#x27;[UPDATE ERROR] - &#x27;, err.message)</span></span><br><span class="line"><span class="comment">//     return</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;UPDATE affectedRows&#x27;, result.affectedRows)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ•°æ®</span></span><br><span class="line">app.get(<span class="string">&#x27;/delTodo&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; id &#125; = req.query</span><br><span class="line">  <span class="keyword">let</span> delSql = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (!id) &#123;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;è¯·ä¼ å…¥å‚æ•°&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    delSql = <span class="string">&#x27;delete from todoList where id = ?&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  connection.query(delSql, id, <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        <span class="attr">code</span>: <span class="number">400</span>,</span><br><span class="line">        <span class="attr">message</span>: err.message,</span><br><span class="line">        <span class="attr">data</span>: err.message,</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;[INSERT ERROR] - &#x27;</span>, err.message)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.send(&#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>,</span><br><span class="line">      result,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`æœåŠ¡è¿è¡Œåœ¨<span class="subst">$&#123;port&#125;</span>ç«¯å£`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSä¸­Mapå’ŒObjectçš„å¯¹æ¯”</title>
      <link href="/wangq1231/2021/06/22/JS%E2%95%A9%C2%A4%E2%95%9B%E2%96%8C%E2%95%9C%D1%81%E2%95%A3%E2%95%A3%E2%95%93%D0%BEMap/"/>
      <url>/wangq1231/2021/06/22/JS%E2%95%A9%C2%A4%E2%95%9B%E2%96%8C%E2%95%9C%D1%81%E2%95%A3%E2%95%A3%E2%95%93%D0%BEMap/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>åœ¨åšç®—æ³•é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å½“ç”¨æ•°å­—ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„é”®æ¥å­˜å‚¨æ•°æ®æ—¶ï¼Œåç»­å–å¯¹è±¡ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸ä¼šæ ¹æ®ä½ å­˜å…¥çš„é¡ºåºå–å‡ºæ•°æ®ã€‚</p><p>ç”±æ­¤åˆ¤æ–­å‡ºå¯¹è±¡ä¸­çš„é”®å…¶å®ä¸æ˜¯æ— åºçš„ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ Map æ•°æ®ç»“æ„æ¥ä»£æ›¿ã€‚</p></blockquote><h3 id="ä¸€ã€Map-ä»‹ç»"><a href="#ä¸€ã€Map-ä»‹ç»" class="headerlink" title="ä¸€ã€Map ä»‹ç»"></a>ä¸€ã€Map ä»‹ç»</h3><p>Map å’Œ Object ä¸€æ ·ç”¨æ¥å­˜å–é”®å€¼å¯¹å½¢å¼çš„æ•°æ®ã€‚ä¸è¿‡ Object å¯ä»¥ä½¿ç”¨å­—é¢é‡å’Œæ„é€ å‡½æ•°ä¸¤ç§æ–¹å¼åˆ›å»ºï¼Œè€Œ Map ç»“æ„å¿…é¡»ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„Mapå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> mapOne = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªMapå¯¹è±¡å¹¶èµ‹åˆå€¼ï¼Œå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„(æˆ–iterableå¯¹è±¡)ã€‚</span></span><br><span class="line"><span class="comment">// å…¶å…ƒç´ ä¸ºé”®å€¼å¯¹(ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œä¾‹å¦‚: [[ 1, &#x27;one&#x27; ],[ 2, &#x27;two&#x27; ]])ã€‚ æ¯ä¸ªé”®å€¼å¯¹éƒ½ä¼šæ·»åŠ åˆ°æ–°çš„ Map</span></span><br><span class="line"><span class="keyword">const</span> mapTwo = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, <span class="string">&#x27;one&#x27;</span>],</span><br><span class="line">  [<span class="literal">true</span>, <span class="string">&#x27;two&#x27;</span>],</span><br><span class="line">  [&#123; <span class="attr">a</span>: <span class="string">&#x27;1&#x27;</span> &#125;, <span class="string">&#x27;three&#x27;</span>],</span><br><span class="line">])</span><br></pre></td></tr></table></figure><p>æ­£å¦‚ä¸Šè¿°ç¬¬äºŒç§æ–¹å¼åˆ›å»º Mapï¼ŒMap çš„é”®å¯ä»¥ä¸ºä»»æ„æ•°æ®ç»“æ„ã€‚</p><h3 id="äºŒã€Map-å’Œ-Object-çš„å¯¹æ¯”"><a href="#äºŒã€Map-å’Œ-Object-çš„å¯¹æ¯”" class="headerlink" title="äºŒã€Map å’Œ Object çš„å¯¹æ¯”"></a>äºŒã€Map å’Œ Object çš„å¯¹æ¯”</h3><table><thead><tr><th></th><th>Map</th><th>Object</th></tr></thead><tbody><tr><td>åˆ›å»ºæ–¹å¼</td><td><code>const myMap = new Map()</code></td><td><code>const obj = &#123;&#125;</code> æˆ– <code>const myObj = new Object()</code></td></tr><tr><td>é”®çš„ç±»å‹</td><td>ä¸€ä¸ª <code>Map</code>çš„é”®å¯ä»¥æ˜¯<strong>ä»»æ„å€¼</strong>ï¼ŒåŒ…æ‹¬å‡½æ•°ã€å¯¹è±¡æˆ–ä»»æ„åŸºæœ¬ç±»å‹ã€‚</td><td>ä¸€ä¸ª<code>Object</code> çš„é”®å¿…é¡»æ˜¯ä¸€ä¸ª <code>String</code>æˆ–æ˜¯<code>Symbol</code></td></tr><tr><td>é”®çš„é¡ºåº</td><td><code>Map</code> ä¸­çš„ key æ˜¯æœ‰åºçš„ã€‚å› æ­¤ï¼Œå½“è¿­ä»£çš„æ—¶å€™ï¼Œä¸€ä¸ª <code>Map</code> å¯¹è±¡ä»¥æ’å…¥çš„é¡ºåºè¿”å›é”®å€¼ã€‚</td><td>ä¸€ä¸ª <code>Object</code> çš„é”®æ˜¯æ— åºçš„</td></tr><tr><td>è·å–ä¸€ä¸ªé”®(key)çš„å€¼</td><td><code>let value = myMap.get(key)</code></td><td><code>let value = obj.key</code> æˆ– <code>let value = obj[key]</code></td></tr><tr><td>å¾€å¯¹è±¡ä¸­æ–°å¢ä¸€ä¸ªé”®å€¼å¯¹</td><td><code>myMap.set(key, value)</code></td><td><code>obj.key = value</code> æˆ– <code>obj[key] = value</code></td></tr><tr><td>åˆ é™¤å¯¹è±¡ä¸­çš„é”®å€¼å¯¹</td><td><code>myMap.delete(key)</code></td><td><code>delete obj.key</code> æˆ– <code>delete obj[key]</code></td></tr><tr><td>å¯¹è±¡çš„ Size</td><td><code>let size = myMap.size</code></td><td><code>let size = 0; for (const key in obj) &#123; size++ &#125;</code></td></tr><tr><td>éå†å¯¹è±¡</td><td>å¯ç›´æ¥ç”¨ forEachã€forã€forinã€forof è¿›è¡Œéå†</td><td>åªèƒ½ç”¨ forin è¿›è¡Œéå†</td></tr><tr><td>æ€§èƒ½</td><td>åœ¨é¢‘ç¹å¢åˆ é”®å€¼å¯¹çš„åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ã€‚</td><td>åœ¨é¢‘ç¹æ·»åŠ å’Œåˆ é™¤é”®å€¼å¯¹çš„åœºæ™¯ä¸‹æœªä½œå‡ºä¼˜åŒ–ã€‚</td></tr></tbody></table><h3 id="ä¸‰ã€æœ¬æ¬¡ä½¿ç”¨çš„åœºæ™¯"><a href="#ä¸‰ã€æœ¬æ¬¡ä½¿ç”¨çš„åœºæ™¯" class="headerlink" title="ä¸‰ã€æœ¬æ¬¡ä½¿ç”¨çš„åœºæ™¯"></a>ä¸‰ã€æœ¬æ¬¡ä½¿ç”¨çš„åœºæ™¯</h3><p>åœ¨ç®—æ³•é¢˜ä¸­ï¼Œæˆ‘éœ€è¦ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å­˜å‚¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ä¸­å…ƒç´ ä¸ºé”®ï¼Œå‡ºç°çš„æ¬¡æ•°ä¸ºå€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å¦‚ï¼š</span></span><br><span class="line">arr = [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="comment">// å­˜å‚¨ä¸º</span></span><br><span class="line">obj = &#123;</span><br><span class="line">  <span class="number">3</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="number">2</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰å¦ä¸€ä¸ªéœ€æ±‚æ˜¯ï¼Œæˆ‘åç»­éœ€è¦æ ¹æ®å­˜è¿›å¯¹è±¡çš„é¡ºåºæ¥ç§»é™¤é”®å€¼å¯¹ï¼Œåˆå› ä¸ºè¿™é‡Œçš„é”®æ˜¯æ•°å­—ï¼ŒJS è¿è¡Œç¯å¢ƒä¸­ï¼Œé»˜è®¤åˆé‡æ–°æ ¹æ®æ•°å­—çš„å¤§å°æ’åˆ—äº†å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾ï¼Œäºæ˜¯å¾ˆéš¾æ ¹æ®å­˜å…¥çš„é¡ºåºæ¥è¿›è¡Œåˆ é™¤ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ Map ç»“æ„</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/js-map/image-20210622232356850.png" alt="image-20210622232356850"></p><p>ä½¿ç”¨ Map å­˜å‚¨è¯¥å†…å®¹åï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/js-map/image-20210622232716729.png" alt="image-20210622232716729"></p><h3 id="å››ã€æ¨èä½¿ç”¨-Map-çš„åœºæ™¯"><a href="#å››ã€æ¨èä½¿ç”¨-Map-çš„åœºæ™¯" class="headerlink" title="å››ã€æ¨èä½¿ç”¨ Map çš„åœºæ™¯"></a>å››ã€æ¨èä½¿ç”¨ Map çš„åœºæ™¯</h3><ol><li>åœ¨å­˜å–å¯¹è±¡æ—¶ï¼Œéœ€è¦æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨ Map</li><li>åœ¨éœ€è¦é¢‘ç¹å¢åˆ å¯¹è±¡ä¸­çš„é”®å€¼å¯¹æ—¶ï¼Œæœ€å¥½ä½¿ç”¨ Map</li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŸ¥ç¼ºè¡¥æ¼ä¹‹async await</title>
      <link href="/wangq1231/2021/06/19/%E2%96%93%D1%89%E2%95%9A%E2%96%92%E2%96%93%E2%95%A3%E2%94%AC%D0%B9%E2%95%93%D0%BEasync%20await/"/>
      <url>/wangq1231/2021/06/19/%E2%96%93%D1%89%E2%95%9A%E2%96%92%E2%96%93%E2%95%A3%E2%94%AC%D0%B9%E2%95%93%D0%BEasync%20await/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ—¶æœ‰é‡åˆ°å¤šä¸ªè¯·æ±‚æ—¶ï¼Œåä¸€ä¸ªè¯·æ±‚éœ€è¦ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚æ‹¿åˆ°çš„ç»“æœè¿›è¡Œè¯·æ±‚ã€‚ä¸ºå¤„ç†è¿™ç§æƒ…å†µï¼Œä¸‹é¢å¯¹ ES6 ä¸­<code>Promise</code>æ–¹æ³•å’Œ<code>async</code>å’Œ<code>await</code>å…³é”®å­—è¿›è¡Œæ€»ç»“</p></blockquote><h3 id="ä¸€ã€Promise-æ–¹æ³•ä½¿ç”¨"><a href="#ä¸€ã€Promise-æ–¹æ³•ä½¿ç”¨" class="headerlink" title="ä¸€ã€Promise æ–¹æ³•ä½¿ç”¨"></a>ä¸€ã€Promise æ–¹æ³•ä½¿ç”¨</h3><p>åœ¨ç¼–å†™ vue ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬çš„è¯·æ±‚å¤§å¤šéƒ½å†™åœ¨ methods å¯¹è±¡ä¸­ï¼Œè¦æƒ³å°†è¯·æ±‚å°è£…æˆç‹¬ç«‹çš„æ–¹æ³•ï¼Œé€šå¸¸ä¼šä½¿ç”¨å¦‚ä¸‹å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">testGet</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/1&#x27;</span>)</span><br><span class="line">    .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.status === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>, res)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;è¯·æ±‚å¤±è´¥&#x27;</span>, err)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™æ ·åœ¨å…¶ä»–æ–¹æ³•å†…éœ€è¦è°ƒç”¨è¯¥æ¥å£åˆ™ç›´æ¥è°ƒç”¨è¯¥ testGet æ–¹æ³•å³å¯ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœéœ€è¦å½“å‰è¯·æ±‚çš„ç»“æœä½œä¸ºå¦ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°ï¼Œé‚£ä¹ˆæ˜¾ç„¶è¿™ä¸ªæ–¹æ³•å°±ä¸èƒ½è¿™æ ·å†™ï¼Œå› ä¸ºè¿™æ ·å°±æ— æ³•åŒæ­¥çš„æ‹¿åˆ°å½“å‰è¯·æ±‚çš„ç»“æœ</p><p>äºæ˜¯å¯ä»¥ä½¿ç”¨<code>Promise</code>å°†ä»¥ä¸Šæ–¹æ³•æ”¹å†™ï¼Œ<code>Promise</code>å¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ<code>Promise</code>å®ä¾‹ã€‚å°†ä¸Šé¢çš„è¯·æ±‚æ–¹æ³•ç”¨ Promise æ„é€ å‡½æ•°æ”¹é€ åå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="title">testGet</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      that</span><br><span class="line">        .$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/1&#x27;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> (res.status === <span class="number">200</span>) &#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>, res)</span><br><span class="line">             resolve(res)</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;è¯·æ±‚å¤±è´¥&#x27;</span>, err)</span><br><span class="line">           reject(err)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œåœ¨å…¶ä»–æ–¹æ³•ä¸­ï¼Œæƒ³è¦è·å–è¯¥æ¥å£çš„è¿”å›å€¼æ¥ä½œä¸ºå‚æ•°ç»§ç»­è¯·æ±‚æ—¶å°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="title">useTestGet</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.testGet().then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> queryData = res.data</span><br><span class="line">    <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;http://jsonplaceholder.typicode.com/posts&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: queryData,</span><br><span class="line">    &#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™æ ·å†™åŠŸèƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯å¯è¯»æ€§è¾ƒå·®ï¼Œè€Œä¸”å½“è¯·æ±‚æ•°è¿‡å¤šæ—¶ï¼Œä¸”éƒ½éœ€è¦ä¸€ä¸ªå…ˆåé¡ºåºï¼Œè¿™å°±ä¼šå½¢æˆä¼ è¯´ä¸­çš„å›è°ƒåœ°ç‹±ï¼Œå›è°ƒåœ°ç‹±å¤§æ¦‚å°±é•¿å¦‚ä¸‹çš„æ ·å­å§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">testPromise</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/1&#x27;</span>)</span><br><span class="line">    .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;comment1æ‹¿åˆ°äº†&#x27;</span>, res)</span><br><span class="line">  &#125;)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/2&#x27;</span>)</span><br><span class="line">      .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;comment2æ‹¿åˆ°äº†&#x27;</span>, res)</span><br><span class="line">    &#125;)</span><br><span class="line">      .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/3&#x27;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;comment3æ‹¿åˆ°äº†&#x27;</span>, res)</span><br><span class="line">      &#125;)</span><br><span class="line">        .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/4&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;comment4æ‹¿åˆ°äº†&#x27;</span>, res)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¦è§£å†³å›è°ƒåœ°ç‹±ï¼Œä¹Ÿä¸ºäº†ä½¿ä»£ç æ›´å…·å¯è¯»æ€§ï¼ŒES2017 æ¨å‡º<code>async</code>å’Œ<code>await</code>å…³é”®å­—</p><h3 id="äºŒã€async-å’Œ-await"><a href="#äºŒã€async-å’Œ-await" class="headerlink" title="äºŒã€async å’Œ await"></a>äºŒã€async å’Œ await</h3><p><code>async</code>å­—é¢æ„æ€å°±æ˜¯â€œå¼‚æ­¥â€ï¼Œè¯¥å…³é”®å­—ç”¨åœ¨ä¸€ä¸ªå‡½æ•°çš„å®šä¹‰å‰é¢ï¼Œç”¨äºè¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ˜¯å¼‚æ­¥æ“ä½œï¼Œè¿™ä¸ªå‡½æ•°çš„è¿”å›ç»“æœå°†æ˜¯ä¸€ä¸ª<code>Promise</code>å¯¹è±¡ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;hello async&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = testAsync()</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// æ§åˆ¶å°è¾“å‡º Promise &#123;&lt;fulfilled&gt;: &quot;hello async&quot;&#125;</span></span><br></pre></td></tr></table></figure><p><code>await</code>å­—é¢æ„æ€ç­‰å¾…ï¼Œç­‰å¾…çš„å°±æ˜¯å¼‚æ­¥å‡½æ•°çš„æ‰§è¡Œç»“æœï¼Œè¿™ä¸ªæ—¶å€™ä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰å¾…ç€ <code>Promise</code> å¯¹è±¡çš„ <code>resolve</code>ï¼Œç„¶åå¾—åˆ° <code>resolve</code> çš„å€¼ï¼Œä½œä¸º <code>await</code> è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç æ‰§è¡Œåˆ°<code>await</code>æ—¶ï¼Œåœ¨æ²¡æœ‰æ‹¿åˆ°ç»“æœä¹‹å‰ï¼Œæ˜¯ä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç çš„ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;1såæ‰§è¡Œçš„ä»£ç &#x27;</span>)</span><br><span class="line">      resolve(<span class="number">1</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> getData()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;awaitä¹‹åçš„ä»£ç ...&#x27;</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;awaitçš„ç»“æœ&#x27;</span>, data)</span><br><span class="line">&#125;</span><br><span class="line">testAsync()</span><br><span class="line"><span class="comment">// æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹</span></span><br><span class="line"><span class="comment">// 1såæ‰§è¡Œçš„ä»£ç </span></span><br><span class="line"><span class="comment">// awaitä¹‹åçš„ä»£ç ...</span></span><br><span class="line"><span class="comment">// awaitçš„ç»“æœ 1</span></span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œæ³¨æ„<code>await</code>å…³é”®å­—ä¸€å®šæ˜¯åœ¨<code>async</code>å®šä¹‰çš„å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„ï¼Œå‡ºäº†<code>async</code>å®šä¹‰çš„å‡½æ•°ï¼Œä½¿ç”¨<code>await</code>æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿæ˜¯ä¸è¢«å…è®¸çš„ã€‚</strong></p><p>é€šè¿‡ä»¥ä¸Šä»£ç çš„è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼ŒtestAsync æ–¹æ³•åªæœ‰åœ¨<code>await</code> ä¹‹åçš„ Promise æ‰§è¡Œå®Œ resolve ä¹‹åï¼Œæ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œé‚£ä¸¤è¡Œæ‰“å°è¯­å¥ã€‚</p><p>ä¸ºäº†è§£å†³ä¸Šé¢è¯´åˆ°çš„å›è°ƒåœ°ç‹±ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>async</code>å®šä¹‰å¼‚æ­¥å‡½æ•°ï¼Œç»“åˆ<code>await</code>ç­‰å¾…å¼‚æ­¥æ‰§è¡Œç»“æœï¼Œç„¶ååŒæ­¥è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œäºæ˜¯æ”¹å†™å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">testAsync</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getComment1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      that.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/1&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getComment2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      that.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/2&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getComment3</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      that.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/3&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getComment4</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      that.$axios(<span class="string">&#x27;https://jsonplaceholder.typicode.com/comments/4&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> comment1 = <span class="keyword">await</span> getComment1()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;comment1æ‹¿åˆ°äº†&#x27;</span>, comment1)</span><br><span class="line">  <span class="keyword">const</span> comment2 = <span class="keyword">await</span> getComment2()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;comment2æ‹¿åˆ°äº†&#x27;</span>, comment2)</span><br><span class="line">  <span class="keyword">const</span> comment3 = <span class="keyword">await</span> getComment3()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;comment3æ‹¿åˆ°äº†&#x27;</span>, comment3)</span><br><span class="line">  <span class="keyword">const</span> comment4 = <span class="keyword">await</span> getComment4()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;comment4æ‹¿åˆ°äº†&#x27;</span>, comment4)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œå°±è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå½“æœ‰å¤šä¸ªè¯·æ±‚æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ async å’Œ await å†™å‡ºé«˜å¯è¯»æ€§çš„ä»£ç äº†ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š</p><p><a href="https://segmentfault.com/a/1190000007535316">https://segmentfault.com/a/1190000007535316</a></p><p><a href="https://www.jianshu.com/p/b4fd76c61dc9">https://www.jianshu.com/p/b4fd76c61dc9</a></p><p><a href="https://es6.ruanyifeng.com/#docs/promise">https://es6.ruanyifeng.com/#docs/promise</a></p>]]></content>
      
      
      <categories>
          
          <category> æŸ¥ç¼ºè¡¥æ¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŸ¥ç¼ºè¡¥æ¼ä¹‹æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/wangq1231/2021/06/06/%E2%96%93%D1%89%E2%95%9A%E2%96%92%E2%96%93%E2%95%A3%E2%94%AC%D0%B9%E2%95%93%D0%BE%E2%95%92%C2%A4%E2%95%98%D0%84%E2%96%92%D1%8D%E2%94%A4%D1%8F%E2%95%A9%E2%95%9C/"/>
      <url>/wangq1231/2021/06/06/%E2%96%93%D1%89%E2%95%9A%E2%96%92%E2%96%93%E2%95%A3%E2%94%AC%D0%B9%E2%95%93%D0%BE%E2%95%92%C2%A4%E2%95%98%D0%84%E2%96%92%D1%8D%E2%94%A4%D1%8F%E2%95%A9%E2%95%9C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>é¦–å…ˆè¦æ˜ç™½æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ</p><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚ç®€å•çš„è¯´å°±æ˜¯æ¯”å¦‚ä½ æƒ³çŸ¥é“ä¸€ä¸²æ•°å­—æ˜¯å¦æ˜¯æ­£ç¡®çš„æ‰‹æœºå·ã€‚å°±éœ€è¦ç”¨åˆ°æ­£åˆ™è¡¨è¾¾å¼ã€‚ç”±äºä¹‹å‰ä¸€ç›´å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„çŸ¥è¯†æ¯”è¾ƒè–„å¼±ï¼Œæ‰€ä»¥åœ¨æ­¤è¿›è¡ŒæŸ¥ç¼ºè¡¥æ¼</p></blockquote><h3 id="ä¸€ã€åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼"><a href="#ä¸€ã€åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="ä¸€ã€åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼"></a>ä¸€ã€åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</h3><p>åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><h4 id="å­—é¢é‡åˆ›å»ºï¼›"><a href="#å­—é¢é‡åˆ›å»ºï¼›" class="headerlink" title="å­—é¢é‡åˆ›å»ºï¼›"></a>å­—é¢é‡åˆ›å»ºï¼›</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> regTest = <span class="regexp">/[a-z]/</span></span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»º"><a href="#ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»º" class="headerlink" title="ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»º"></a>ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»º</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> regTest = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;[a-z]&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±ä½¿ç”¨ç¬¬ä¸€ç§ç®€å•å­—é¢é‡çš„æ–¹å¼æ¥ç†Ÿæ‚‰æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³çŸ¥è¯†ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹æ³•æœ‰å¾ˆå¤šä¾‹å¦‚ exex()ã€test()ã€match()ç­‰ã€‚è¿™é‡Œä¸»è¦ç†Ÿæ‚‰æ­£åˆ™çš„ç¼–å†™ï¼Œæ–¹æ³•å…ˆä¸åšä»‹ç»ã€‚èƒ½çœ‹æ‡‚ä¸‹é¢çš„åŒ¹é…æ–¹æ³•å°±è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> helloReg = <span class="regexp">/Hello/</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line">helloReg.test(str) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="äºŒã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"><a href="#äºŒã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦" class="headerlink" title="äºŒã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"></a>äºŒã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦</h3><p>ä¿®é¥°ç¬¦æ˜¯åœ¨å­—é¢é‡çš„ç»“å°¾åŠ ä¸Šçš„å‚æ•°ã€‚æˆ–æ˜¯ç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ç¬¬äºŒä¸ªå‚æ•°ã€‚å¦‚:<code>new RegExp(&#39;[a-z]&#39;, i);</code></p><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">i</td><td align="left">æ‰§è¡Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…ã€‚</td></tr><tr><td align="left">g</td><td align="left">æ‰§è¡Œå…¨å±€åŒ¹é…ï¼ˆæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…è€Œéåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ååœæ­¢ï¼‰ã€‚</td></tr><tr><td align="left">m</td><td align="left">æ‰§è¡Œå¤šè¡ŒåŒ¹é…ã€‚</td></tr></tbody></table><h3 id="ä¸‰ã€æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦"><a href="#ä¸‰ã€æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ä¸‰ã€æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦"></a>ä¸‰ã€æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦</h3><h4 id="æ–­è¨€ç±»"><a href="#æ–­è¨€ç±»" class="headerlink" title="æ–­è¨€ç±»"></a>æ–­è¨€ç±»</h4><p>è¡¨ç¤ºä¸€ä¸ªåŒ¹é…åœ¨æŸäº›æ¡ä»¶ä¸‹å‘ç”Ÿã€‚æ–­è¨€åŒ…å«å…ˆè¡Œæ–­è¨€ã€åè¡Œæ–­è¨€å’Œæ¡ä»¶è¡¨è¾¾å¼ã€‚</p><table><thead><tr><th>ç‰¹æ®Šå­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>^</td><td>åŒ¹é…è¾“å…¥çš„å¼€å¤´ã€‚ï¼ˆæˆ–å¯¹åé¢çš„æ ¡éªŒå–åï¼‰</td></tr><tr><td>$</td><td>åŒ¹é…è¾“å…¥çš„ç»“æŸã€‚</td></tr></tbody></table><h4 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h4><p>åŒºåˆ†ä¸åŒç±»å‹çš„å­—ç¬¦ï¼Œä¾‹å¦‚åŒºåˆ†å­—æ¯å’Œæ•°å­—ã€‚</p><table><thead><tr><th>ç‰¹æ®Šå­—ç¬¦</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td>.</td><td align="center">é»˜è®¤åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>/.n/</code> å°†ä¼šåŒ¹é… â€œnay, an apple is on the treeâ€ ä¸­çš„ â€˜anâ€™ å’Œ â€˜onâ€™ï¼Œä½†æ˜¯ä¸ä¼šåŒ¹é… â€˜nayâ€™ã€‚</td></tr><tr><td>\b</td><td align="center">åŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œï¼Œå³åŒ¹é…ä¸¤è¾¹ä¸­çš„ä¸€è¾¹æ²¡æœ‰å…¶ä»–å…ƒç´ æˆ–è€…ç©ºæ ¼ã€‚ä¾‹å¦‚ï¼š/123\b/åŒ¹é…â€™123 456â€™ä¸­çš„â€™123â€™</td></tr><tr><td>\B</td><td align="center">åŒ¹é…éå•è¯è¾¹ç•Œï¼Œä¾‹å¦‚<code>/\Bpple/</code>åŒ¹é…â€appleâ€ä¸­çš„â€œppleâ€</td></tr><tr><td>\d</td><td align="center">åŒ¹é…ä»»ä½•æ•°å­—(é˜¿æ‹‰ä¼¯æ•°å­—)ã€‚ ç›¸å½“äº <code>[0-9]</code>. ä¾‹å¦‚, <code>/\d/</code> æˆ– <code>/[0-9]/</code> åŒ¹é… â€œB2is the suite numberâ€ä¸­çš„â€œ2â€ã€‚</td></tr><tr><td>\D</td><td align="center">åŒ¹é…ä»»ä½•éæ•°å­—(é˜¿æ‹‰ä¼¯æ•°å­—)çš„å­—ç¬¦ã€‚ç›¸å½“äº<code>[^0-9]</code>. ä¾‹å¦‚, <code>/\D/</code> or <code>/[^0-9]/</code> åœ¨ â€œB2 is the suite numberâ€ ä¸­ åŒ¹é… â€œBâ€.</td></tr><tr><td>\n</td><td align="center">åŒ¹é…æ¢è¡Œç¬¦ã€‚ä¾‹å¦‚<code>/\n/g</code>åŒ¹é…â€I am a boy. \n â€œä¸­çš„æ¢è¡Œç¬¦</td></tr><tr><td>\w</td><td align="center">åŒ¹é…åŸºæœ¬æ‹‰ä¸å­—æ¯ä¸­çš„ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ã€‚ç›¸å½“äº <code>[A-Za-z0-9_]</code>.</td></tr><tr><td>\W</td><td align="center">åŒ¹é…ä»»ä½•ä¸æ˜¯æ¥è‡ªåŸºæœ¬æ‹‰ä¸å­—æ¯çš„å•è¯å­—ç¬¦ã€‚ç›¸å½“äº <code>[^A-Za-z0-9_]</code>.</td></tr><tr><td>\s</td><td align="center">åŒ¹é…ç©ºç™½å­—ç¬¦ã€‚ä¾‹å¦‚<code>/\s/g</code>åŒ¹é…â€I am a boyâ€ä¸­çš„æ‰€æœ‰ç©ºæ ¼</td></tr><tr><td>\S</td><td align="center">åŒ¹é…éç©ºç™½å­—ç¬¦ã€‚ä¾‹å¦‚<code>/\S/g</code>åŒ¹é…â€I am a boyâ€œä¸­çš„æ‰€æœ‰å­—æ¯</td></tr></tbody></table><h4 id="é‡è¯ç±»"><a href="#é‡è¯ç±»" class="headerlink" title="é‡è¯ç±»"></a>é‡è¯ç±»</h4><p>é‡è¯è¡¨ç¤ºè¦åŒ¹é…çš„å­—ç¬¦æˆ–è¡¨è¾¾å¼çš„æ•°é‡ã€‚</p><table><thead><tr><th>ç‰¹æ®Šå­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>x*</td><td>å°†å‰é¢çš„é¡¹â€œxâ€åŒ¹é… 0 æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚ç­‰ä»·äº <code>&#123;0,&#125;</code>ä¾‹å¦‚/bo*/åŒ¹é…â€œA ghost booooedâ€ä¸­çš„â€œbooooâ€</td></tr><tr><td>x+</td><td>å°†å‰ä¸€é¡¹â€œxâ€åŒ¹é… 1 æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚ç­‰ä»·äº<code>&#123;1,&#125;</code>ã€‚ä¾‹å¦‚ï¼Œ/a+/åŒ¹é…â€œcandyâ€ä¸­çš„â€œaâ€å’Œâ€œcaaaaaaandyâ€ä¸­çš„â€œaâ€ã€‚</td></tr><tr><td><em>x</em>?</td><td>å°†å‰é¢çš„é¡¹â€œxâ€åŒ¹é… 0 æˆ– 1 æ¬¡ã€‚ç­‰ä»·äº <code>&#123;0,1&#125;</code>ã€‚</td></tr><tr><td><em>x</em>{<em>n</em>}</td><td>å…¶ä¸­â€œnâ€æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸å‰ä¸€é¡¹â€œxâ€çš„ n æ¬¡åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œ<code>/a&#123;2&#125;/ </code>ä¸åŒ¹é…â€œcandyâ€ä¸­çš„â€œaâ€ï¼Œä½†å®ƒåŒ¹é…â€œcaandyâ€ä¸­çš„æ‰€æœ‰â€œaâ€ï¼Œä»¥åŠâ€œcaaandyâ€ä¸­çš„å‰ä¸¤ä¸ªâ€œaâ€ã€‚</td></tr><tr><td><em>x</em>{<em>n</em>,}</td><td>å…¶ä¸­ï¼Œâ€œnâ€æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸å‰ä¸€é¡¹â€œxâ€è‡³å°‘åŒ¹é…â€œnâ€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>/a&#123;2ï¼Œ&#125;/</code>ä¸åŒ¹é…â€œcandyâ€ä¸­çš„â€œaâ€ï¼Œä½†åŒ¹é…â€œcaandyâ€å’Œâ€œcaaaaaaandyâ€ä¸­çš„æ‰€æœ‰ aã€‚</td></tr><tr><td><em>x</em>{<em>n</em>,<em>m</em>}</td><td>å…¶ä¸­ï¼Œâ€œnâ€æ˜¯ 0 æˆ–ä¸€ä¸ªæ­£æ•´æ•°ï¼Œâ€œmâ€æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸” m &gt; n è‡³å°‘ä¸å‰ä¸€é¡¹â€œxâ€åŒ¹é…ï¼Œæœ€å¤šä¸â€œmâ€åŒ¹é…ã€‚</td></tr><tr><td>?=n</td><td>åŒ¹é…ä»»ä½•å…¶åç´§æ¥æŒ‡å®šå­—ç¬¦ä¸² n çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚<code>/is(?= all)/g </code>åŒ¹é… â€œThere is allâ€ ä¸­çš„ â€œis allâ€</td></tr><tr><td>?!n</td><td>åŒ¹é…ä»»ä½•å…¶åæ²¡æœ‰ç´§æ¥æŒ‡å®šå­—ç¬¦ä¸² n çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚<code>/is(?! all)/gi </code>åŒ¹é… â€œIs there all?â€ ä¸­çš„ â€œIsâ€œ</td></tr></tbody></table><h4 id="æ‹¬å·ç±»"><a href="#æ‹¬å·ç±»" class="headerlink" title="æ‹¬å·ç±»"></a>æ‹¬å·ç±»</h4><table><thead><tr><th>æ‹¬å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>()</td><td>å°æ‹¬å·ç”¨äºå¯¹å­—ç¬¦æˆ–å…ƒå­—ç¬¦è¿›è¡Œåˆ†ç»„ä»¥åŠè¡¨ç¤ºå¯é€‰æ‹©æ€§ã€‚å¦‚(A\d){1,3}å’Œ(red|green)</td></tr><tr><td>[]</td><td>æ–¹æ‹¬å·ç”¨äºæŸ¥æ‰¾æŸä¸ªèŒƒå›´å†…çš„å­—ç¬¦ã€‚ä¾‹å¦‚<code>[0-9]ã€[a-z]ã€[A-D]</code></td></tr><tr><td>{}</td><td>å¤§æ‹¬å·ç”¨äºæ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚å¦‚<code>n&#123;1,9&#125;</code>åŒ¹é… X è‡³ Y ä¸ª n çš„åºåˆ—çš„å­—ç¬¦ä¸²ã€‚</td></tr></tbody></table><h3 id="å››ã€å®ç°å‡ ä¸ªå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"><a href="#å››ã€å®ç°å‡ ä¸ªå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å››ã€å®ç°å‡ ä¸ªå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"></a>å››ã€å®ç°å‡ ä¸ªå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼</h3><h4 id="æ‰‹æœºå·"><a href="#æ‰‹æœºå·" class="headerlink" title="æ‰‹æœºå·"></a>æ‰‹æœºå·</h4><p>æ‰‹æœºå·çš„æ ¡éªŒåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>â‘ 11 ä½æ•°å­—ï¼Œä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘ï¼›å¾—åˆ°å¦‚ä¸‹<code>/\d&#123;11&#125;/</code></p><p>â‘¡ ç¬¬ä¸€ä½æ•°å­—å¿…é¡»ä¸º 1ï¼Œç¬¬äºŒä½ä¸º 3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9 ä¸­çš„ä¸€ä¸ªï¼›å¾—åˆ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^<span class="number">1</span>[<span class="number">3</span>-<span class="number">9</span>]&#123;<span class="number">1</span>&#125;\d&#123;<span class="number">9</span>&#125;$/</span><br></pre></td></tr></table></figure><p>â‘¢ æ³¨æ„ä¸è¦å¿˜äº†ç”¨ä¸Š<code>^</code>åŒ¹é…å¼€å§‹å’Œ<code>$</code>åŒ¹é…ç»“å°¾ã€‚ä¸ç„¶è¶…è¿‡ 11 ä½çš„ä¹Ÿä¼šè¢«æ ¡éªŒæˆåŠŸ</p><h4 id="èº«ä»½è¯å·"><a href="#èº«ä»½è¯å·" class="headerlink" title="èº«ä»½è¯å·"></a>èº«ä»½è¯å·</h4><p>èº«ä»½è¯å·çš„æ ¡éªŒåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>â‘  åœ°åŒºçš„å‰ä¸¤ä½ä¸ºçœçº§ï¼›ç¬¬ä¸€ä½ä¸º 1-9ï¼Œç¬¬äºŒä½ä¸º 0-9ï¼›ä¸‰å››ä½ä¸ºå¸‚çº§ï¼Œäº”å…­ä½ä¸ºå¿çº§ã€‚å¾—åˆ°<code>[1-9]&#123;1&#125;\d&#123;5&#125;</code></p><p>â‘¡ å‡ºç”Ÿå¹´æœˆæ—¥ä¸€å…± 8 ä½ï¼›å¹´ä»½ä» 18XX å¼€å§‹ï¼Œåˆ°ç›®å‰ 20XX(çœ‹åˆ°ç½‘ä¸Šå¾ˆå¤šæ˜¯æ ¡éªŒåˆ° 3XXXï¼Œè¿™é‡Œä»¥æˆ‘ä¸ªäººçš„ç†è§£å…ˆæ ¡éªŒåˆ° 20XX)ï¼›å¾—åˆ°å¦‚ä¸‹<code>(18|19|20)\d&#123;2&#125;</code>ã€‚</p><p>æœˆä»½ 01~12ï¼›<code>((0[1-9])|(10|11|12))</code>ã€‚</p><p>æ—¥æœŸ 01~31ï¼›<code>((0[1-9])|1\d&#123;1&#125;|2\d&#123;1&#125;|3[01])</code>ã€‚</p><p>â‘¢ é¡ºåºç ï¼›<code>\d&#123;3&#125;</code>ï¼Œæ ¡éªŒç <code>(\d|X|x)</code></p><p>â‘£ æœ€åè®²ä¸Šé¢æ‰€æœ‰çš„æ£€éªŒç»“åˆå¾—åˆ°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^[<span class="number">1</span>-<span class="number">9</span>]&#123;<span class="number">1</span>&#125;\d&#123;<span class="number">5</span>&#125;(<span class="number">18</span>|<span class="number">19</span>|<span class="number">20</span>)\d&#123;<span class="number">2</span>&#125;((<span class="number">0</span>[<span class="number">1</span>-<span class="number">9</span>])|(<span class="number">10</span>|<span class="number">11</span>|<span class="number">12</span>))((<span class="number">0</span>[<span class="number">1</span>-<span class="number">9</span>])|<span class="number">1</span>\d&#123;<span class="number">1</span>&#125;|<span class="number">2</span>\d&#123;<span class="number">1</span>&#125;|<span class="number">3</span>[<span class="number">01</span>])\d&#123;<span class="number">3</span>&#125;(\d|X|x)$/</span><br></pre></td></tr></table></figure><p>å½“ç„¶å…‰é æ­£åˆ™çš„æ ¡éªŒä¸å¤Ÿå®Œå–„ï¼Œæ¯”å¦‚ 2 æœˆä»½åªæœ‰ 28 å¤©çš„æƒ…å†µï¼Œæˆ–è€… 29 å¤©çš„æƒ…å†µã€‚è¿™é‡Œæ²¡æœ‰åšåˆ°æ§åˆ¶ã€‚æ›´å®Œå–„çš„æ ¡éªŒéœ€è¦ç¼–å†™ä¸€ä¸ªæ–¹æ³•æ¥å®ç°ã€‚</p><h4 id="é‚®ç®±"><a href="#é‚®ç®±" class="headerlink" title="é‚®ç®±"></a>é‚®ç®±</h4><p>é‚®ç®±çš„æ ¡éªŒåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>â‘  åªå…è®¸è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€è‹±æ–‡å¥å·ã€ä»¥åŠä¸­åˆ’çº¿ï¼›<code>([a-zA-Z0-9._-])+</code></p><p>â‘¡@ç¬¦å·ï¼›<code>@</code></p><p>â‘¢ åŸŸåï¼šä¸€èˆ¬åŸŸåçš„è§„å¾‹ä¸ºâ€œ[N çº§åŸŸå.][ä¸‰çº§åŸŸå.]äºŒçº§åŸŸå.é¡¶çº§åŸŸåâ€ï¼Œæ¯”å¦‚â€œ qq.com â€ã€â€œ <a href="http://www.qq.com/">www.qq.com</a> â€ã€â€œ mp.weixin.qq.com â€ã€â€œ 12-34.com.cn â€ï¼Œåˆ†æå¯å¾—åŸŸåç±»ä¼¼â€œ <code>**</code> <code>.**</code> <code>.**</code> <code>.**</code> â€ç»„æˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`**`</span> å¯è¡¨ç¤ºä¸ºï¼š([a-zA-Z0-9_-])+</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`.**`</span> å¯è¡¨ç¤ºä¸ºï¼š(.[a-zA-Z0-9_-]&#123;<span class="number">2</span>,<span class="number">3</span>&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`**.**.**.**`</span> å¾—åˆ°ï¼š([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]&#123;<span class="number">2</span>,<span class="number">3</span>&#125;))&#123;<span class="number">1</span>,<span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure><p>â‘£ è®²ä¸Šè¿°ä¸Šä¸ªç»“åˆå¾—åˆ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/^([a-zA-Z0-<span class="number">9.</span>_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]&#123;<span class="number">2</span>,<span class="number">3</span>&#125;))&#123;<span class="number">1</span>,<span class="number">3</span>&#125;$/</span><br><span class="line"><span class="comment">// æ ¹æ®ç‰¹æ®Šå­—ç¬¦ \w ç›¸å½“äº `[A-Za-z0-9_]`ã€‚äºæ˜¯å¯ä»¥ç”¨ä»¥ä¸‹æ­£åˆ™ä»£æ›¿ä¸Šè¡Œ</span></span><br><span class="line"><span class="regexp">/^[\w.-]+@[\w-]+(.[\w-]&#123;2,3&#125;)&#123;1,3&#125;$/</span></span><br></pre></td></tr></table></figure><h4 id="å¼ºå¯†ç -å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œé•¿åº¦åœ¨-8-16-ä¹‹é—´"><a href="#å¼ºå¯†ç -å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œé•¿åº¦åœ¨-8-16-ä¹‹é—´" class="headerlink" title="å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œé•¿åº¦åœ¨ 8-16 ä¹‹é—´)"></a>å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œé•¿åº¦åœ¨ 8-16 ä¹‹é—´)</h4><p>å¼ºå¯†ç æ ¡éªŒåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>â‘  é•¿åº¦ 8-16 ä½{8,16}</p><p>â‘¡ åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—[a-zA-Z0-9]{8,16}</p><p>â‘¢ ç¡®ä¿åŒæ—¶å«æœ‰å­—æ¯å’Œæ•°å­—ï¼Ÿ</p><p>è¿™é‡Œä½¿ç”¨<code>(?=.*\d)(?=.*[a-z])(?=.*[A-Z])</code> æ¥åŒ¹é…å½“å‰å¼å­åŒæ—¶å«æœ‰å¤§å°å†™å­—æ¯å’Œæ•°å­—ã€‚å…¶ä¸­ <code> (?=)</code> æ˜¯ç”¨æ¥é¢„æµ‹åç»­çš„å†…å®¹ä¸å½“å‰è¡¨è¾¾å¼åŒ¹é…ã€‚<strong>å‚è§ç¬¬ä¸‰ç‚¹çš„é‡è¯ç±»å€’æ•°ç¬¬äºŒä¸ª</strong>ã€‚é¢„æµ‹å…ˆè¡Œä¸å ç”¨å­—ç¬¦ï¼Œå³å‘ç”ŸåŒ¹é…åï¼Œä¸‹ä¸€åŒ¹é…çš„æœç´¢ç´§éšä¸Šä¸€åŒ¹é…ä¹‹åï¼Œè€Œä¸æ˜¯åœ¨ç»„æˆé¢„æµ‹å…ˆè¡Œçš„å­—ç¬¦åã€‚è¿™é‡Œä½¿ç”¨äº†ä¸‰ä¸ªé¢„æµ‹å…ˆè¡Œ<code>(?=)(?=)(?=)</code>ä¹Ÿå°±æ˜¯è¯´éœ€è¦åŒæ—¶æ»¡è¶³ä¸‰ä¸ªåŒ¹é…æ¡ä»¶ã€‚</p><p>â‘£ æœ€ç»ˆå¾—å‡ºç»“æœ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-<span class="number">9</span>]&#123;<span class="number">8</span>,<span class="number">16</span>&#125;/</span><br></pre></td></tr></table></figure><h3 id="æ›´å¤šå†…å®¹å¾…ç»­â€¦â€¦"><a href="#æ›´å¤šå†…å®¹å¾…ç»­â€¦â€¦" class="headerlink" title="æ›´å¤šå†…å®¹å¾…ç»­â€¦â€¦"></a>æ›´å¤šå†…å®¹å¾…ç»­â€¦â€¦</h3>]]></content>
      
      
      <categories>
          
          <category> æŸ¥ç¼ºè¡¥æ¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSè¯»å–ç”¨æˆ·å‘½ä»¤è¡Œçš„è¾“å…¥</title>
      <link href="/wangq1231/2021/06/05/JS%E2%95%A2%E2%94%B4%E2%95%9A%D0%B1%E2%95%99%E2%94%9C%E2%95%97%D0%B7%E2%95%90%D0%B8%E2%95%A3%C2%A4%E2%94%9C%E2%84%96%E2%94%B4%D1%8E%E2%95%A8%E2%95%A8%E2%95%A9%D1%84%E2%95%9A%D1%8B%E2%95%A1%E2%94%80%E2%95%A8%E2%94%BC%E2%95%A7%D0%B2/"/>
      <url>/wangq1231/2021/06/05/JS%E2%95%A2%E2%94%B4%E2%95%9A%D0%B1%E2%95%99%E2%94%9C%E2%95%97%D0%B7%E2%95%90%D0%B8%E2%95%A3%C2%A4%E2%94%9C%E2%84%96%E2%94%B4%D1%8E%E2%95%A8%E2%95%A8%E2%95%A9%D1%84%E2%95%9A%D1%8B%E2%95%A1%E2%94%80%E2%95%A8%E2%94%BC%E2%95%A7%D0%B2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>è¿™é˜µå­åœ¨çœ‹ç‰›å®¢ç½‘ä¸Šçœ‹ä¸€äº›ç¼–ç¨‹é¢˜ï¼Œå‘ç°æœ‰ä¸€éƒ¨åˆ†çš„ç¼–ç¨‹é¢˜æ˜¯éœ€è¦è¯»å–ç”¨æˆ·è¾“å…¥ï¼Œå¹¶è¾“å‡ºç»“æœçš„ã€‚åœ¨æˆ‘å¼€å‘å‰ç«¯ä»¥æ¥ï¼Œä½¿ç”¨ JS è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹å¥½åƒä»æ²¡ç”¨è¿‡ã€‚æ‰€ä»¥ä¸€å¼€å§‹çš„æˆ‘ä¸€å¤´é›¾æ°´ã€‚ç½‘ä¸Šæœ‰ä»‹ç»è¯´ Node çš„æ–¹æ³• readline å¯ä»¥é€è¡Œè¯»å–ç”¨æˆ·è¾“å…¥ä¿¡æ¯ã€‚äºæ˜¯ä¾¿åœ¨æ­¤å¯¹ readline æ–¹æ³•è¿›è¡Œæ€»ç»“</p></blockquote><h3 id="readline-ä½¿ç”¨"><a href="#readline-ä½¿ç”¨" class="headerlink" title="readline ä½¿ç”¨"></a>readline ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.å¼•å…¥readlineæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> readline = <span class="built_in">require</span>(<span class="string">&#x27;readline&#x27;</span>)</span><br><span class="line"><span class="comment">// 2.åˆ›å»º Interface ç±»çš„å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> rl = readline.createInterface(&#123;</span><br><span class="line">  <span class="attr">input</span>: process.stdin, <span class="comment">// è¾“å…¥çš„æµ</span></span><br><span class="line">  <span class="attr">output</span>: process.stdout, <span class="comment">// è¾“å‡ºçš„æµ</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç›‘å¬lineäº‹ä»¶ï¼Œè¯»å–ç”¨æˆ·è¾“å…¥çš„ä¸€è¡Œå†…å®¹(ç”¨æˆ·æ•²å›è½¦é”®ä¹‹å‰çš„æ‰€æœ‰å†…å®¹)</span></span><br><span class="line">rl.on(<span class="string">&#x27;line&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// inputä¾¿æ˜¯ç”¨æˆ·è¾“å…¥çš„ä¸€è¡Œå†…å®¹</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`æ¥æ”¶åˆ°ï¼š<span class="subst">$&#123;input&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·è¾“å…¥çš„å†…å®¹é€šè¿‡ä¸Šè¿°ä»£ç ä¾¿å¯ä»¥è·å–åˆ°äº†ã€‚è€Œåœ¨ç¼–ç¨‹é¢˜ä¸­è¿˜éœ€è¦å¾—åˆ°è¾“å‡ºï¼Œé€šå¸¸æƒ…å†µä¸‹ console.log()åœ¨æ§åˆ¶å°æ‰“å°çš„ç»“æœä¹Ÿå°±æ˜¯è¾“å‡ºçš„ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸Šé¢çš„ä»£ç ä¸­ console.log()å†…æ”¾ç½®ä½ å®ç°çš„å‡½æ•°ä»£ç ã€‚å°†ç”¨æˆ·è¾“å…¥ä½œä¸ºå‚æ•°ä¼ é€’å°±å¯ä»¥äº†ã€‚<br>è¿™é‡Œè´´ä¸Šæˆ‘å®ç°çš„ä¸€é“æœ€å°å…¬å€æ•°çš„æ•°å­¦é¢˜æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> readline = <span class="built_in">require</span>(<span class="string">&#x27;readline&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rl = readline.createInterface(&#123;</span><br><span class="line">  <span class="attr">input</span>: process.stdin,</span><br><span class="line">  <span class="attr">output</span>: process.stdout,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">rl.on(<span class="string">&#x27;line&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">line</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> nums = line.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(getMinNum(<span class="built_in">parseInt</span>(nums[<span class="number">0</span>]), <span class="built_in">parseInt</span>(nums[<span class="number">1</span>])))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡num1å’Œnum2ï¼Œè¿”å›num1å’Œnum2çš„æœ€å°å…¬å€æ•°</span></span><br><span class="line"><span class="comment"> * ä¾‹ï¼š5 7  è¾“å‡º35</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> <span class="variable">num1</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> <span class="variable">num2</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> getMinNum = <span class="function"><span class="keyword">function</span> (<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> aIn = [],</span><br><span class="line">    bIn = [],</span><br><span class="line">    maxIn = <span class="number">0</span>,</span><br><span class="line">    maxNum = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(num1)); i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num1 % i === <span class="number">0</span>) &#123;</span><br><span class="line">      aIn.push(i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(num2)); j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num2 % j === <span class="number">0</span>) &#123;</span><br><span class="line">      bIn.push(j)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = <span class="built_in">Math</span>.min(aIn.length, bIn.length)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> p = <span class="number">0</span>; p &lt; length; p++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (aIn[p] === bIn[p]) &#123;</span><br><span class="line">      maxIn = aIn[p]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  maxNum = (num1 / maxIn) * (num2 / maxIn) * maxIn</span><br><span class="line">  <span class="keyword">return</span> maxNum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¯»å–ç”¨æˆ·è¾“å…¥å†…å®¹çš„è¿‡ç¨‹ä¸­ï¼Œç¨‹åºä¸ä¼šåœæ­¢ï¼Œä¹Ÿå°±æ˜¯åœ¨å‘½ä»¤è¡Œé‡Œä¸€ç›´ç›‘å¬ç”¨æˆ·çš„è¾“å…¥ã€‚æƒ³è¦å…³é—­ç›‘å¬ç”¨æˆ·çš„è¾“å…¥ï¼Œå¯ä»¥ä½¿ç”¨ rl çš„ close æ–¹æ³•:</p><p><code>rl.close()</code></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPä¸HTTPSçš„ä»‹ç»</title>
      <link href="/wangq1231/2021/05/24/HTTP%E2%95%99%D1%8BHTTPS%E2%95%A1%E2%94%80%E2%95%9C%D1%89%E2%95%94%E2%96%84/"/>
      <url>/wangq1231/2021/05/24/HTTP%E2%95%99%D1%8BHTTPS%E2%95%A1%E2%94%80%E2%95%9C%D1%89%E2%95%94%E2%96%84/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h3 id="HTTP-åè®®"><a href="#HTTP-åè®®" class="headerlink" title="HTTP åè®®"></a>HTTP åè®®</h3><h4 id="ä¸€ã€ä»€ä¹ˆæ˜¯-HTTP-åè®®ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-HTTP-åè®®ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ HTTP åè®®ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ HTTP åè®®ï¼Ÿ</h4><ul><li><p>HTTP æ˜¯ä¸€ä¸ªç”¨åœ¨è®¡ç®—æœºä¸–ç•Œé‡Œçš„åè®®ã€‚å®ƒä½¿ç”¨è®¡ç®—æœºèƒ½å¤Ÿç†è§£çš„è¯­è¨€ç¡®ç«‹äº†ä¸€ç§è®¡ç®—æœºä¹‹é—´äº¤æµé€šä¿¡çš„è§„èŒƒï¼ˆä¸¤ä¸ªä»¥ä¸Šçš„å‚ä¸è€…ï¼‰ï¼Œä»¥åŠç›¸å…³çš„å„ç§æ§åˆ¶å’Œé”™è¯¯å¤„ç†æ–¹å¼ï¼ˆè¡Œä¸ºçº¦å®šå’Œè§„èŒƒï¼‰ã€‚</p></li><li><p>HTTP æ˜¯ä¸€ä¸ªåœ¨è®¡ç®—æœºä¸–ç•Œé‡Œä¸“é—¨åœ¨ã€Œä¸¤ç‚¹ã€ä¹‹é—´ã€Œä¼ è¾“ã€æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ã€Œè¶…æ–‡æœ¬ã€æ•°æ®çš„ã€Œçº¦å®šå’Œè§„èŒƒã€ã€‚</p></li></ul><h4 id="äºŒã€HTTP-å¸¸è§çš„çŠ¶æ€ç "><a href="#äºŒã€HTTP-å¸¸è§çš„çŠ¶æ€ç " class="headerlink" title="äºŒã€HTTP å¸¸è§çš„çŠ¶æ€ç "></a>äºŒã€HTTP å¸¸è§çš„çŠ¶æ€ç </h4><ol><li><p> 1XX ç±»çŠ¶æ€ç å±äºæç¤ºä¿¡æ¯ï¼Œæ˜¯åè®®å¤„ç†ä¸­çš„ä¸€ç§ä¸­é—´çŠ¶æ€ï¼Œå®é™…ç”¨åˆ°çš„æ¯”è¾ƒå°‘ã€‚</p></li><li><p>2XX ç±»çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€æ„¿æ„çœ‹åˆ°çš„çŠ¶æ€ã€‚</p><ul><li><strong>ã€Œ200 OKã€æ˜¯æœ€å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºä¸€åˆ‡æ­£å¸¸ã€‚å¦‚æœæ˜¯é HEAD è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”å¤´éƒ½ä¼šæœ‰ body æ•°æ®ã€‚</strong></li><li>ã€Œ204 No Contentã€ä¹Ÿæ˜¯å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œä¸ 200 OK åŸºæœ¬ç›¸åŒï¼Œä½†å“åº”å¤´æ²¡æœ‰ body æ•°æ®ã€‚</li><li>ã€Œ206 Partial Contentã€æ˜¯åº”ç”¨äº HTTP åˆ†å—ä¸‹è½½æˆ–æ–­ç”µç»­ä¼ ï¼Œè¡¨ç¤ºå“åº”è¿”å›çš„ body æ•°æ®å¹¶ä¸æ˜¯èµ„æºçš„å…¨éƒ¨ï¼Œè€Œæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœåŠ¡å™¨å¤„ç†æˆåŠŸçš„çŠ¶æ€ã€‚</li></ul></li><li><p>3XX ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå‘ç”Ÿäº†å˜åŠ¨ï¼Œéœ€è¦å®¢æˆ·ç«¯ç”¨æ–°çš„ URL é‡æ–°å‘é€è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯é‡å®šå‘</p><ul><li>ã€Œ301 Moved Permanentlyã€è¡¨ç¤ºæ°¸ä¹…é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨äº†ï¼Œéœ€æ”¹ç”¨æ–°çš„ URL å†æ¬¡è®¿é—®ã€‚</li><li>ã€Œ302 Moved Temporaryã€è¡¨ç¤ºä¸´æ—¶é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºè¿˜åœ¨ï¼Œä½†æš‚æ—¶éœ€è¦ç”¨å¦ä¸€ä¸ª URL æ¥è®¿é—®ã€‚</li><li><strong>301 å’Œ 302 éƒ½ä¼šåœ¨å“åº”å¤´é‡Œä½¿ç”¨å­—æ®µ Locationï¼ŒæŒ‡æ˜åç»­è¦è·³è½¬çš„ URLï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡å®šå‘æ–°çš„ URLã€‚</strong></li><li>ã€Œ304 Not Modifiedã€ä¸å…·æœ‰è·³è½¬çš„å«ä¹‰ï¼Œè¡¨ç¤ºèµ„æºæœªä¿®æ”¹ï¼Œé‡å®šå‘å·²å­˜åœ¨çš„ç¼“å†²æ–‡ä»¶ï¼Œä¹Ÿç§°ç¼“å­˜é‡å®šå‘ï¼Œç”¨äºç¼“å­˜æ§åˆ¶ã€‚</li></ul></li><li><p>4XX ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„æŠ¥æ–‡æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œé”™è¯¯ç </p><ul><li>ã€Œ400 Bad Requestã€è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„æŠ¥æ–‡æœ‰é”™è¯¯ï¼Œä½†åªæ˜¯ä¸ªç¬¼ç»Ÿçš„é”™è¯¯ã€‚</li><li>ã€Œ403 Forbiddenã€è¡¨ç¤ºæœåŠ¡å™¨ç¦æ­¢è®¿é—®èµ„æºï¼Œå¹¶ä¸æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å‡ºé”™ã€‚</li><li><strong>ã€Œ404 Not Foundã€è¡¨ç¤ºè¯·æ±‚çš„èµ„æºåœ¨æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨æˆ–æœªæ‰¾åˆ°ï¼Œæ‰€ä»¥æ— æ³•æä¾›ç»™å®¢æˆ·ç«¯ã€‚</strong></li></ul></li><li><p>5XX ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡æ­£ç¡®ï¼Œä½†æ˜¯æœåŠ¡å™¨å¤„ç†æ—¶å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ï¼Œå±äºæœåŠ¡ç«¯çš„é”™è¯¯ç </p><ul><li><p>ã€Œ500 Internal Server Errorã€ä¸ 400 ç±»å‹ï¼Œæ˜¯ä¸ªç¬¼ç»Ÿé€šç”¨çš„é”™è¯¯ç ï¼ŒæœåŠ¡å™¨å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ã€‚</p></li><li><p>ã€Œ501 Not Implementedã€è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„åŠŸèƒ½è¿˜ä¸æ”¯æŒï¼Œç±»ä¼¼â€œå³å°†å¼€ä¸šï¼Œæ•¬è¯·æœŸå¾…â€çš„æ„æ€ã€‚</p></li><li><p><strong>ã€Œ502 Bad Gatewayã€é€šå¸¸æ˜¯æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†æ—¶è¿”å›çš„é”™è¯¯ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è‡ªèº«å·¥ä½œæ­£å¸¸ï¼Œè®¿é—®åç«¯æœåŠ¡å™¨å‘ç”Ÿäº†é”™è¯¯ã€‚</strong></p></li><li><p><strong>ã€Œ503 Service Unavailableã€è¡¨ç¤ºæœåŠ¡å™¨å½“å‰å¾ˆå¿™ï¼Œæš‚æ—¶æ— æ³•å“åº”æœåŠ¡å™¨ï¼Œç±»ä¼¼â€œç½‘ç»œæœåŠ¡æ­£å¿™ï¼Œè¯·ç¨åé‡è¯•â€çš„æ„æ€ã€‚</strong></p></li></ul></li></ol><h4 id="ä¸‰ã€HTTP-å¸¸è§çš„å­—æ®µ"><a href="#ä¸‰ã€HTTP-å¸¸è§çš„å­—æ®µ" class="headerlink" title="ä¸‰ã€HTTP å¸¸è§çš„å­—æ®µ"></a>ä¸‰ã€HTTP å¸¸è§çš„å­—æ®µ</h4><ol><li><p>Host å­—æ®µï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œç”¨æ¥æŒ‡å®šæœåŠ¡ç«¯çš„åŸŸå</p></li><li><p>Content-Length å­—æ®µï¼ŒæœåŠ¡å™¨åœ¨è¿”å›æ•°æ®æ—¶ï¼Œä¼šæœ‰ Content-Length å­—æ®µï¼Œè¡¨æ˜æœ¬æ¬¡å›åº”çš„æ•°æ®é•¿åº¦ã€‚</p></li><li><p>Content-Type å­—æ®µï¼Œç”¨äºæœåŠ¡å™¨å›åº”å®¢æˆ·ç«¯æ—¶ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å½“å‰æ•°æ®æ˜¯ä»€ä¹ˆæ ¼å¼çš„ã€‚</p><ul><li>Content-Type: application/json; charset=utf-8</li><li>Content-Type: text/html; charset=utf-8</li><li>å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ Accept å­—æ®µå£°æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›æ•°æ®æ ¼å¼ã€‚</li><li>Accept: _ / _ è¡¨ç¤ºå¯ä»¥æ¥å—ä»»æ„æ ¼å¼çš„æ•°æ®</li></ul></li><li><p>Connection å­—æ®µï¼Œå¸¸ç”¨äºå®¢æˆ·ç«¯è¦æ±‚æœåŠ¡ç«¯ä½¿ç”¨ TCP æŒä¹…è¿æ¥ï¼Œä»¥ä¾¿å…¶ä»–è¯·æ±‚å¤ç”¨ã€‚</p><ul><li>Connection: keep-alive</li></ul></li><li><p>Content-Encoding å­—æ®µ</p><ul><li><p>Content-Encoding å­—æ®µè¯´æ˜æ•°æ®çš„å‹ç¼©æ–¹æ³•ã€‚è¡¨ç¤ºæœåŠ¡å™¨è¿”å›çš„æ•°æ®ä½¿ç”¨äº†ä»€ä¹ˆå‹ç¼©æ ¼å¼</p></li><li><p>Content-Encoding: gzip. è¡¨ç¤ºæœåŠ¡å™¨è¿”å›çš„æ•°æ®é‡‡ç”¨äº† gzip æ–¹å¼å‹ç¼©ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯éœ€è¦ç”¨æ­¤æ–¹å¼è§£å‹ã€‚</p></li><li><p>å®¢æˆ·ç«¯åœ¨è¯·æ±‚æ—¶ï¼Œç”¨ Accept-Encoding å­—æ®µè¯´æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›å‹ç¼©æ–¹æ³•ã€‚</p></li><li><p>Accept-Encoding: gzip, deflate</p></li></ul></li></ol><h4 id="å››ã€HTTP-1-1-çš„æ€§èƒ½"><a href="#å››ã€HTTP-1-1-çš„æ€§èƒ½" class="headerlink" title="å››ã€HTTP/1.1 çš„æ€§èƒ½"></a>å››ã€HTTP/1.1 çš„æ€§èƒ½</h4><ul><li>HTTP åè®®æ˜¯åŸºäº TCP/IPï¼Œå¹¶ä¸”ä½¿ç”¨äº†ã€Œè¯·æ±‚ - åº”ç­”ã€çš„é€šä¿¡æ¨¡å¼ï¼Œæ‰€ä»¥æ€§èƒ½çš„å…³é”®å°±åœ¨è¿™ä¸¤ç‚¹é‡Œã€‚</li><li>é•¿è¿æ¥<ol><li>æ—©æœŸ HTTP/1.0 æ€§èƒ½ä¸Šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯æ¯å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½è¦æ–°å»ºç«‹ä¸€æ¬¡ TCP è¿æ¥(ä¸‰æ¬¡æ¡æ‰‹)ï¼Œè€Œä¸”æ˜¯ä¸²è¡Œé€šä¿¡ï¼Œåšäº†æ— ç•çš„è¿æ¥å»ºç«‹å’Œæ–­å¼€ï¼Œå¢åŠ äº†é€šä¿¡å¼€é”€ã€‚</li><li>ä¸ºäº†è§£å†³ä¸Šè¿° TCP è¿æ¥é—®é¢˜ï¼ŒHTTP/1.1 æå‡ºäº†é•¿è¿æ¥çš„é€šä¿¡æ–¹å¼ï¼Œä¹Ÿå«æŒä¹…è¿æ¥ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºå‡å°‘äº† TCP è¿æ¥çš„é‡å¤å»ºç«‹å’Œæ–­å¼€æ‰€é€ æˆçš„é¢å¤–å¼€é”€ï¼Œå‡è½»äº†æœåŠ¡å™¨ç«¯çš„è´Ÿè½½ã€‚</li><li>æŒä¹…è¿æ¥çš„ç‰¹ç‚¹æ˜¯ï¼Œåªè¦ä»»æ„ä¸€ç«¯æ²¡æœ‰æ˜ç¡®æå‡ºæ–­å¼€è¿æ¥ï¼Œåˆ™ä¿æŒ TCP è¿æ¥çŠ¶æ€ã€‚<img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/https1.jpg"></li></ol></li></ul><h4 id="äº”ã€HTTP-ä¸-HTTPS-çš„åŒºåˆ«"><a href="#äº”ã€HTTP-ä¸-HTTPS-çš„åŒºåˆ«" class="headerlink" title="äº”ã€HTTP ä¸ HTTPS çš„åŒºåˆ«"></a>äº”ã€HTTP ä¸ HTTPS çš„åŒºåˆ«</h4><ol><li><p>HTTP æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œå­˜åœ¨å®‰å…¨é£é™©çš„é—®é¢˜ã€‚HTTPS åˆ™è§£å†³ HTTP ä¸å®‰å…¨çš„ç¼ºé™·ï¼Œåœ¨ TCP å’Œ HTTP ç½‘ç»œå±‚ä¹‹é—´åŠ å…¥äº† SSL/TLS å®‰å…¨åè®®ï¼Œä½¿å¾—æŠ¥æ–‡èƒ½å¤ŸåŠ å¯†ä¼ è¾“ã€‚</p></li><li><p>HTTP è¿æ¥å»ºç«‹ç›¸å¯¹ç®€å•ï¼Œ TCP ä¸‰æ¬¡æ¡æ‰‹ä¹‹åä¾¿å¯è¿›è¡Œ HTTP çš„æŠ¥æ–‡ä¼ è¾“ã€‚è€Œ HTTPS åœ¨ TCP ä¸‰æ¬¡æ¡æ‰‹ä¹‹åï¼Œè¿˜éœ€è¿›è¡Œ SSL/TLS çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œæ‰å¯è¿›å…¥åŠ å¯†æŠ¥æ–‡ä¼ è¾“ã€‚</p></li><li><p>HTTP çš„ç«¯å£å·æ˜¯ 80ï¼ŒHTTPS çš„ç«¯å£å·æ˜¯ 443ã€‚</p></li><li><p>HTTPS åè®®éœ€è¦å‘ CAï¼ˆè¯ä¹¦æƒå¨æœºæ„ï¼‰ç”³è¯·æ•°å­—è¯ä¹¦ï¼Œæ¥ä¿è¯æœåŠ¡å™¨çš„èº«ä»½æ˜¯å¯ä¿¡çš„ã€‚</p></li></ol><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/https.jpg"><br>â€‹ HTTP ä¸ HTTPS çš„åŒºåˆ«</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/https2.jpg"><br>â€‹ HTTP/1.1 ä¸ HTTPS ä¸ HTTP/2 çš„åŒºåˆ«</p><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="/assets/blogImg/https3.jpg"><br>â€‹ HTTP/1.1 ä¸ HTTPS ä¸ HTTP/2 ä¸ HTTP/3 çš„åŒºåˆ«</p>]]></content>
      
      
      <categories>
          
          <category> HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå®ç°ç™»å½•åŠŸèƒ½çš„åŠ å¯†ä¸è§£å¯†</title>
      <link href="/wangq1231/2021/05/08/%E2%95%AB%D0%B2%E2%96%93%D1%81%E2%95%99%D1%8B%E2%95%A1%E2%95%9F%E2%94%AC%E2%95%9D%E2%95%A1%E2%94%80%E2%95%9D%E2%95%99%E2%94%9C%E2%96%84%E2%95%99%D1%8B%E2%95%9C%D1%82%E2%94%9C%E2%96%84/"/>
      <url>/wangq1231/2021/05/08/%E2%95%AB%D0%B2%E2%96%93%D1%81%E2%95%99%D1%8B%E2%95%A1%E2%95%9F%E2%94%AC%E2%95%9D%E2%95%A1%E2%94%80%E2%95%9D%E2%95%99%E2%94%9C%E2%96%84%E2%95%99%D1%8B%E2%95%9C%D1%82%E2%94%9C%E2%96%84/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><br><h3 id="åŠ å¯†ç®—æ³•ï¼š-MD5"><a href="#åŠ å¯†ç®—æ³•ï¼š-MD5" class="headerlink" title="åŠ å¯†ç®—æ³•ï¼š MD5"></a>åŠ å¯†ç®—æ³•ï¼š MD5</h3><h3 id="ç”¨åˆ°çš„-java-å·¥å…·ç±»ï¼š-DigestUtilsåœ°å€"><a href="#ç”¨åˆ°çš„-java-å·¥å…·ç±»ï¼š-DigestUtilsåœ°å€" class="headerlink" title="ç”¨åˆ°çš„ java å·¥å…·ç±»ï¼š DigestUtilsåœ°å€"></a>ç”¨åˆ°çš„ java å·¥å…·ç±»ï¼š DigestUtils<a href="http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html">åœ°å€</a></h3><h3 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h3><h4 id="é¦–å…ˆåœ¨-SpringBoot-çš„-pom-xml-æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–"><a href="#é¦–å…ˆåœ¨-SpringBoot-çš„-pom-xml-æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–" class="headerlink" title="é¦–å…ˆåœ¨ SpringBoot çš„ pom.xml æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–"></a>é¦–å…ˆåœ¨ SpringBoot çš„ pom.xml æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- MD5åŠ å¯†ä¾èµ– --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;commons-codec&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="ç„¶åæ·»åŠ ä¸€ä¸ªå·¥å…·ç±»-MD5Utils-class-å†…å®¹å¦‚ä¸‹"><a href="#ç„¶åæ·»åŠ ä¸€ä¸ªå·¥å…·ç±»-MD5Utils-class-å†…å®¹å¦‚ä¸‹" class="headerlink" title="ç„¶åæ·»åŠ ä¸€ä¸ªå·¥å…·ç±» MD5Utils.class å†…å®¹å¦‚ä¸‹"></a>ç„¶åæ·»åŠ ä¸€ä¸ªå·¥å…·ç±» MD5Utils.class å†…å®¹å¦‚ä¸‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import org.apache.commons.codec.digest.DigestUtils;</span><br><span class="line"></span><br><span class="line">public class MD5Utils &#123;</span><br><span class="line">    public static String md5(String src) &#123;</span><br><span class="line">        return DigestUtils.md5Hex(src);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static final String salt = &quot;1a2b3c4d&quot;;</span><br><span class="line"></span><br><span class="line">    public static String inputPassToFormPass(String inputPass) &#123;</span><br><span class="line">        String str = inputPass + salt;</span><br><span class="line">        return md5(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //ç¼–å†™ä¸»ç±»è¿›è¡Œæµ‹è¯•</span><br><span class="line">    public static void main(String args[]) &#123;</span><br><span class="line">        String s = &quot;aabbcc&quot;;</span><br><span class="line">        System.out.println(&quot;åŠ å¯†å‰ï¼š&quot; + s);</span><br><span class="line">        System.out.println(&quot;åŠ å¯†åï¼š&quot;+MD5Utils.inputPassToFormPass(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æœ€ååœ¨æ³¨å†Œæ—¶ï¼Œå¯¹å¯†ç è¿›è¡ŒåŠ å¯†"><a href="#æœ€ååœ¨æ³¨å†Œæ—¶ï¼Œå¯¹å¯†ç è¿›è¡ŒåŠ å¯†" class="headerlink" title="æœ€ååœ¨æ³¨å†Œæ—¶ï¼Œå¯¹å¯†ç è¿›è¡ŒåŠ å¯†"></a>æœ€ååœ¨æ³¨å†Œæ—¶ï¼Œå¯¹å¯†ç è¿›è¡ŒåŠ å¯†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user.setPassword(MD5Utils.inputPassToFormPass(user.getPassword()));</span><br></pre></td></tr></table></figure><h4 id="ç™»å½•æ—¶äº¦æ˜¯å¦‚æ­¤å³å¯"><a href="#ç™»å½•æ—¶äº¦æ˜¯å¦‚æ­¤å³å¯" class="headerlink" title="ç™»å½•æ—¶äº¦æ˜¯å¦‚æ­¤å³å¯"></a>ç™»å½•æ—¶äº¦æ˜¯å¦‚æ­¤å³å¯</h4>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> MD5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡¹ç›®é—®é¢˜æ€»ç»“(æŒç»­æ›´æ–°)</title>
      <link href="/wangq1231/2021/03/16/%E2%95%A7%D1%8E%E2%94%80%E2%94%90%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%AB%E2%96%84%E2%95%9C%D1%81-%E2%94%82%E2%95%93%E2%95%A8%C2%B0%E2%95%95%E2%84%96%E2%95%A8%E2%94%AC/"/>
      <url>/wangq1231/2021/03/16/%E2%95%A7%D1%8E%E2%94%80%E2%94%90%E2%95%AC%E2%95%A9%E2%95%A0%D1%82%E2%95%AB%E2%96%84%E2%95%9C%D1%81-%E2%94%82%E2%95%93%E2%95%A8%C2%B0%E2%95%95%E2%84%96%E2%95%A8%E2%94%AC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><br><h2 id="2021-03-16-æ›´æ–°"><a href="#2021-03-16-æ›´æ–°" class="headerlink" title="2021-03-16 æ›´æ–°"></a>2021-03-16 æ›´æ–°</h2><h3 id="1-æ—‹è½¬å…ƒç´ é‡åˆ°çš„é—®é¢˜"><a href="#1-æ—‹è½¬å…ƒç´ é‡åˆ°çš„é—®é¢˜" class="headerlink" title="1.æ—‹è½¬å…ƒç´ é‡åˆ°çš„é—®é¢˜"></a>1.æ—‹è½¬å…ƒç´ é‡åˆ°çš„é—®é¢˜</h3><p>æƒ³è¦æŸå—å…ƒç´ å®ç°æ—‹è½¬ï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨ css çš„ transform å±æ€§è®¾ç½®<code>rotate(è§’åº¦deg)</code>å³å¯ã€‚å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // ä½¿ç”¨<span class="attribute">transform</span>æ—‹è½¬</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">30deg</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">30deg</span>); <span class="comment">/* IE 9 */</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">30deg</span>); <span class="comment">/* Safari and Chrome */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ—‹è½¬åå‘ç°æ•ˆæœå¹¶ä¸æ˜¯æœŸå¾…çš„é‚£æ ·ï¼Œä¹Ÿè®¸å°±éœ€è¦ç”¨åˆ°æˆ‘æ¥ä¸‹æ¥è¯´çš„å±æ€§æ¥è§£å†³ã€‚</p><span id="more"></span><p>rotate æ—‹è½¬å±æ€§é»˜è®¤éƒ½æ˜¯ä»¥è‡ªèº«å…ƒç´ çš„ä¸­å¿ƒä¸ºåœ†å¿ƒæ¥æ—‹è½¬ï¼Œå¦‚ä¸‹å›¾ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›å®ƒä¸æ˜¯å›´ç»•è‡ªèº«å…ƒç´ çš„ä¸­å¿ƒæ—‹è½¬ï¼Œè¿™æ—¶å°±éœ€è¦ transform-origin å±æ€§æ¥ä¿®æ”¹æ—‹è½¬åœ†å¿ƒï¼ˆè¿™é‡Œåªä»‹ç» transform-origin ä¸¤ä¸ªå‚æ•° 2d å¹³é¢çš„æ—‹è½¬ç”¨æ³•ã€‚3 ä¸ªå‚æ•°çš„ 3d ç”¨æ³•æš‚ä¸è€ƒè™‘ï¼‰<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/2021031609450581.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘ä»¬å¸Œæœ›é»„è‰²åŒºåŸŸæ—‹è½¬ 90 åº¦åä¸ç™½è‰²åŒºåŸŸé‡å ï¼Œå°±éœ€è¦å¯¹æ—‹è½¬ä¸­å¿ƒè¿›è¡Œè®¾ç½®ã€‚å°†åœ†å¿ƒè®¾åœ¨å¦‚ä¸‹ä½ç½®åå°±å¯ä»¥è¾¾åˆ°æ•ˆæœ<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210316094521551.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* transform-originçš„ä½¿ç”¨è¯­æ³• */</span></span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">90deg</span>)</span><br><span class="line">transform-origin: x-axis y-axis;</span><br><span class="line">-ms-<span class="attribute">transform-origin</span>: x-axis y-axis;</span><br><span class="line">-webkit-<span class="attribute">transform-origin</span>: x-axis y-axis;</span><br><span class="line">-moz-<span class="attribute">transform-origin</span>: x-axis y-axis;</span><br><span class="line">// å¯å–çš„å€¼</span><br><span class="line">x-axisï¼š <span class="attribute">left</span>ã€centerã€<span class="attribute">right</span>ã€lengthã€%</span><br><span class="line">y-axisï¼š <span class="attribute">top</span>ã€centerã€<span class="attribute">bottom</span>ã€lengthã€%</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šé¢çš„å®ä¾‹æ¥è¯´ï¼Œåªéœ€è¦è®¾ç½®é»„è‰²åŒºåŸŸçš„æ ·å¼å†…å®¹å¦‚ä¸‹å³å¯è¾¾åˆ°æƒ³è¦çš„ç»“æœ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">90deg</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">90deg</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">90deg</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: å¤–éƒ¨divå®½åº¦çš„ä¸€åŠ <span class="number">50%</span>;</span><br><span class="line">  -ms-<span class="attribute">transform-origin</span>: å¤–éƒ¨divå®½åº¦çš„ä¸€åŠ <span class="number">50%</span>;</span><br><span class="line">  -webkit-<span class="attribute">transform-origin</span>: å¤–éƒ¨divå®½åº¦çš„ä¸€åŠ <span class="number">50%</span>;</span><br><span class="line">  -moz-<span class="attribute">transform-origin</span>: å¤–éƒ¨divå®½åº¦çš„ä¸€åŠ <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h3 id="2-ç§»åŠ¨ç«¯è®¾å¤‡æ¨ªç«–å±åˆ‡æ¢æ—¶å­—ä½“å¤§å°çš„é—®é¢˜"><a href="#2-ç§»åŠ¨ç«¯è®¾å¤‡æ¨ªç«–å±åˆ‡æ¢æ—¶å­—ä½“å¤§å°çš„é—®é¢˜" class="headerlink" title="2.ç§»åŠ¨ç«¯è®¾å¤‡æ¨ªç«–å±åˆ‡æ¢æ—¶å­—ä½“å¤§å°çš„é—®é¢˜"></a>2.ç§»åŠ¨ç«¯è®¾å¤‡æ¨ªç«–å±åˆ‡æ¢æ—¶å­—ä½“å¤§å°çš„é—®é¢˜</h3><p>åšç§»åŠ¨ç«¯çš„é¡¹ç›®æ—¶ï¼Œå‘æ¨ªç«–å±åˆ‡æ¢æµè§ˆå™¨ä¼šé»˜è®¤æ”¹å˜ html å…ƒç´ çš„ font-size å±æ€§ï¼Œå¯¼è‡´æ¨ªå±æ—¶çš„å­—ä½“ä¼šæ¯”ç«–å±æ—¶çš„å­—ä½“çœ‹èµ·æ¥æ›´å¤§ã€‚</p><p>ä»”ç»†å¯¹æ¯”å‘ç°ï¼Œ<strong>åœ¨æ¨ªå±æ—¶å­—ä½“çš„å¤§å°å’Œç«–å±æ—¶å­—ä½“çš„å¤§å°æ¯”ä¾‹ç­‰äºç§»åŠ¨è®¾å¤‡çš„å±å¹•é«˜åº¦æ¯”ä¸Šå®½åº¦ã€‚ç®€è¨€ä¹‹ï¼Œå¦‚æœç§»åŠ¨è®¾å¤‡çš„é«˜åº¦æ˜¯å®½åº¦çš„ä¸¤å€ï¼Œé‚£ä¹ˆæ¨ªå±æ—¶çš„å­—ä½“å°±ä¼šæ˜¯ç«–å±æ—¶çš„å­—ä½“çš„ä¸¤å€å¤§å°ã€‚</strong> è¿™æ ·çš„ç”¨æˆ·ä½“éªŒç›¸å¯¹è¾ƒå·®ï¼Œäºæ˜¯ä¾¿æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>åœ¨ç½‘ä¸Šæœäº†è§£å†³æ–¹æ¡ˆã€‚å¤§å¤šçœ‹åˆ°çš„éƒ½æ˜¯è¯´ç»™ body æ·»åŠ å¦‚ä¸‹æ ·å¼:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  -webkit-text-size-adjust: none;</span><br><span class="line">  -moz-text-size-adjust: none;</span><br><span class="line">  -ms-text-size-adjust: none;</span><br><span class="line">  text-size-adjust: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ MDN å®˜ç½‘æŸ¥æ‰¾äº†è¯¥ text-size-adjust å±æ€§ï¼Œå®˜ç½‘ä»‹ç»ä¸ºï¼š<img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210316101926446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘åœ¨å½“å‰é¡¹ç›®å°è¯•è¯¥è§£å†³åŠæ³•åå‘ç°å¹¶ä¸èƒ½ç”Ÿæ•ˆï¼Œæ¨ªå±æ—¶çš„å­—ä½“è¿˜æ˜¯ä¼šæ¯”ç«–å±æ—¶å­—ä½“æ›´å¤§ã€‚</p><p>äºæ˜¯æˆ‘æƒ³æˆ–è®¸å¯ä»¥ç»™ html å…ƒç´ æ·»åŠ ä¸€ä¸ªå›ºå®šå¤§å°çš„ font-size å€¼ï¼Œè®©å®ƒæ¨ªå±æ—¶ä¹Ÿå’Œç«–å±ä¸€æ ·å¤§å°ã€‚ä½†æˆ‘è®¾ç½®åå‘ç°ï¼Œåœ¨ä»£ç é‡Œå†™çš„æ˜¯ <code>font-size: 37.5px</code> ä½†æ˜¯åˆ°æµè§ˆå™¨æ‰“å¼€åä¼šå˜æˆ <code>font-size: 1rem</code> å¹¶ä¸”å­—ä½“çœ‹èµ·æ¥æ¯”ç«–å±æ—¶è¿˜è¦å°ã€‚</p><p>ä¸ºäº†å¼„æ¸…æ¥š rem å’Œ px çš„åŒºåˆ«ã€‚çœ‹äº†ç½‘ä¸Šçš„ä»‹ç»åï¼Œå¤§è‡´æ€»ç»“ä¸ºå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>pxæ˜¯ç»å¯¹å•ä½ï¼Œä»£è¡¨åƒç´ ã€‚</span><br><span class="line"><span class="number">2.</span>remæ˜¯ç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„æ˜¯æ ¹å…ƒç´ çš„å¤§å°ã€‚ä¹Ÿå°±æ˜¯htmlå…ƒç´ çš„å¤§å°</span><br><span class="line"><span class="number">3.</span>é»˜è®¤æƒ…å†µä¸‹htmlçš„å­—ä½“å¤§å° 1rem = 16px</span><br><span class="line">æ›´å¤šçš„å†…å®¹å¯ä»¥æŸ¥çœ‹ (http:<span class="comment">//caibaojian.com/rem-and-px.html)</span></span><br></pre></td></tr></table></figure><p>è®¾ç½®å›ºå®š px æ˜¯è¡Œä¸é€šäº†ã€‚ä½†æ˜¯æˆ‘ä»¬ä»ä»¥ä¸ŠçŸ¥é“ï¼Œæ¨ªå±æ—¶é»˜è®¤è½¬æ¢ä¸º 1rem ä»£è¡¨çš„æ˜¯ 16pxã€‚ç«–å±æ—¶æ˜¯ 37.5pxã€‚é‚£ä¹ˆåªéœ€è¦è®¾ç½®æ¨ªå±æ—¶ html çš„ font-size ä¸º <code>37.5/16 = 2.34 rem</code> å³å¯ã€‚</p><h4 id="æ‹“å±•å­—ä½“å¤§å°å•ä½"><a href="#æ‹“å±•å­—ä½“å¤§å°å•ä½" class="headerlink" title="æ‹“å±•å­—ä½“å¤§å°å•ä½ %"></a>æ‹“å±•å­—ä½“å¤§å°å•ä½ %</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯16pxã€‚æ‰€æœ‰æœªç»è°ƒæ•´çš„æµè§ˆå™¨éƒ½ç¬¦åˆ: 1em=16pxã€‚</span><br><span class="line">é‚£ä¹ˆ12px=<span class="number">0.</span>75em,10px=<span class="number">0.</span>625emã€‚ä¸ºäº†ç®€åŒ–font-sizeçš„æ¢ç®—ï¼Œéœ€è¦åœ¨cssä¸­</span><br><span class="line">çš„bodyé€‰æ‹©å™¨ä¸­å£°æ˜font-size=<span class="number">62.5</span>%ï¼Œè¿™å°±ä½¿emå€¼å˜ä¸º 16px*<span class="number">62.5</span>%=10px,</span><br><span class="line">è¿™æ ·12px=<span class="number">1.</span>2em, 10px=1em, ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„pxæ•°å€¼é™¤ä»¥<span class="number">10</span>ï¼Œ</span><br><span class="line">ç„¶åæ¢ä¸Šemä½œä¸ºå•ä½å°±è¡Œäº†ã€‚</span><br></pre></td></tr></table></figure><p>ä»ä»¥ä¸Šä¿¡æ¯å¯ä»¥çŸ¥é“å­—ä½“çš„å¤§å°å…³ç³»ï¼š <code>16px = 100%</code> é‚£ä¹ˆæˆ‘æƒ³è¦è®¾ç½®å­—ä½“å¤§å°ä¸º 37.5pxã€‚åªéœ€è¦çŸ¥é“ 37.5px å’Œ 16px çš„æ¯”å€¼ï¼Œç„¶åå°†è¿™ä¸ªæ¯”å€¼è®¾ç½®ä¸º html çš„ font-size çš„ç™¾åˆ†æ¯”å¤§å°ï¼Œé‚£ä¹ˆæ¨ªå±æ—¶çš„å­—ä½“å¤§å°å°±å’Œç«–å±æ—¶å­—ä½“å¤§å°ä¸€æ ·ä¸º 37.5px äº†ã€‚æ±‚è§£å¾—å‡º<code> 37.5/16 = 2.34375</code>ï¼›å°±çº¦ç­‰äº 234.38%ã€‚è®¾ç½®åæ¨ªå±æ—¶çš„å­—ä½“å’Œç«–å±æ—¶çš„å­—ä½“çœ‹èµ·æ¥ç›¸å·®æ— å‡ ã€‚</p><p>è‡³æ­¤ï¼Œé€šè¿‡ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥è§£å†³å½“å‰é—®é¢˜ã€‚</p><h3 id="3-js-ä¸­æ•°ç»„çš„-map-æ–¹æ³•"><a href="#3-js-ä¸­æ•°ç»„çš„-map-æ–¹æ³•" class="headerlink" title="3.js ä¸­æ•°ç»„çš„ map æ–¹æ³•"></a>3.js ä¸­æ•°ç»„çš„ map æ–¹æ³•</h3><h4 id="åº”ç”¨åœºæ™¯ä¸€ï¼š"><a href="#åº”ç”¨åœºæ™¯ä¸€ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ä¸€ï¼š"></a>åº”ç”¨åœºæ™¯ä¸€ï¼š</h4><p>ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæƒ³è¦å°†è¯¥å¯¹è±¡ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§å•ç‹¬æŠ½å‡ºæ¥ç»„æˆæ–°çš„æ•°ç»„ã€‚ä½¿ç”¨ map æ–¹æ³•</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [</span><br><span class="line">  &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">10</span>, <span class="attr">c</span>: <span class="number">4</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">20</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">30</span>, <span class="attr">c</span>: <span class="number">6</span> &#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> abs = array.map(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: e.a,</span><br><span class="line">    <span class="attr">b</span>: e.b,</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// abs   [&#123;a: 1, b: 10&#125;, &#123;a: 2, b: 20&#125;, &#123;a: 3, b: 30&#125;]</span></span><br></pre></td></tr></table></figure><h4 id="åº”ç”¨åœºæ™¯äºŒï¼š"><a href="#åº”ç”¨åœºæ™¯äºŒï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯äºŒï¼š"></a>åº”ç”¨åœºæ™¯äºŒï¼š</h4><p>ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæƒ³è¦å°†è¯¥å¯¹è±¡ä¸­çš„ç¬¬ä¸€ä¸ªé”®å€¼å¯¹çš„å€¼å˜æˆæ–°æ•°ç»„å¯¹è±¡ä¸­çš„é”®ï¼Œç¬¬äºŒä¸ªé”®å€¼å¯¹çš„å€¼å˜æˆæ–°æ•°ç»„å¯¹è±¡ä¸­çš„å€¼ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [</span><br><span class="line">  &#123; <span class="attr">aaa</span>: <span class="string">&#x27;name&#x27;</span>, <span class="attr">bbb</span>: <span class="string">&#x27;Jhon&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">aaa</span>: <span class="string">&#x27;age&#x27;</span>, <span class="attr">bbb</span>: <span class="string">&#x27;20&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">aaa</span>: <span class="string">&#x27;sex&#x27;</span>, <span class="attr">bbb</span>: <span class="string">&#x27;male&#x27;</span> &#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> abs = array.map(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">  obj[e.aaa] = e.bbb</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// abs  [&#123;name: &quot;Jhon&quot;&#125;, &#123;age: &quot;20&quot;&#125;, &#123;sex: &quot;male&quot;&#125;]</span></span><br></pre></td></tr></table></figure><p>æ›´å¤š map çš„ç”¨æ³•å¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.prototype.map</a></p><p>æ›´å¤šå†…å®¹å¾…æ›´æ–°â€¦</p><h2 id="2021-03-22-æ›´æ–°"><a href="#2021-03-22-æ›´æ–°" class="headerlink" title="2021-03-22 æ›´æ–°"></a>2021-03-22 æ›´æ–°</h2><h3 id="1-ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šä¸‹æ»‘åŠ¨é—®é¢˜"><a href="#1-ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šä¸‹æ»‘åŠ¨é—®é¢˜" class="headerlink" title="1.ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šä¸‹æ»‘åŠ¨é—®é¢˜"></a>1.ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šä¸‹æ»‘åŠ¨é—®é¢˜</h3><p>åœ¨å¼€å‘ç§»åŠ¨ç«¯çš„æ—¶å€™ï¼Œä¸Šä¸‹æ»‘åŠ¨å±å¹•ä¼šå¯¼è‡´æ•´ä¸ªé¡µé¢è·Ÿç€æ‰‹æŒ‡ä¸Šä¸‹æ»‘åŠ¨ã€‚ï¼ˆä¾‹å¦‚ä¸‹æ‹‰åˆ°é¡¶éƒ¨æ—¶ï¼Œç»§ç»­ä¸‹æ‹‰ï¼Œé¡µé¢ä¼šè¢«ç»§ç»­ä¸‹æ‹‰è€Œé¡¶éƒ¨æ˜¾ç¤ºç©ºç™½ï¼‰è™½è¯´è¿™ä¸ªæ•ˆæœå¹¶ä¸å½±å“ç”¨æˆ·ä½“éªŒï¼Œä½†æ˜¯åœ¨å¼€å‘ä¸€ä¸ªä¸‹æ‹‰åŠŸèƒ½çš„æ—¶å€™ï¼Œå‘ç°å½±å“å¾ˆå¤§ã€‚äºæ˜¯å°±è¦è§£å†³è¯¥é—®é¢˜</p><p>è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.body.addEventListener(</span><br><span class="line"><span class="string">&quot;touchmove&quot;</span>,</span><br><span class="line">func,</span><br><span class="line">&#123; <span class="attr">passive</span>: <span class="literal">false</span> &#125;</span><br><span class="line">); <span class="comment">// passiveè®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤º listener æ°¸è¿œä¸ä¼šè°ƒç”¨ preventDefault()ã€‚è¿™é‡Œè®¾ç½®ä¸ºfalseã€‚ç”¨æ¥å…¼å®¹ioså’ŒAndroidéƒ½å¯ä»¥ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure><p>é˜»æ­¢é»˜è®¤äº‹ä»¶åä¼šè®©æ•´ä¸ªé¡µé¢å†…çš„æ»šåŠ¨äº‹ä»¶éƒ½æ— æ³•åŠ è½½ã€‚è¿™ä¸ªå¤„ç†æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ç§»é™¤è¿™ä¸ªé˜»æ­¢é»˜è®¤äº‹ä»¶çš„ç›‘å¬å³å¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.body.removeEventListener(</span><br><span class="line"><span class="string">&quot;touchmove&quot;</span>,</span><br><span class="line">func,</span><br><span class="line">&#123; <span class="attr">passive</span>: <span class="literal">false</span> &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="2-vue-é¡¹ç›®ä¸­-img-çš„-src-å±æ€§è®¾ç½®"><a href="#2-vue-é¡¹ç›®ä¸­-img-çš„-src-å±æ€§è®¾ç½®" class="headerlink" title="2.vue é¡¹ç›®ä¸­ img çš„ src å±æ€§è®¾ç½®"></a>2.vue é¡¹ç›®ä¸­ img çš„ src å±æ€§è®¾ç½®</h3><p>åœ¨ vue é¡¹ç›®ä¸­ï¼Œè®¾ç½® v-for å¾ªç¯æ˜¾ç¤ºå¤šä¸ªå›¾ç‰‡ï¼Œæ¯ä¸ªå›¾ç‰‡çš„ src éƒ½æ˜¯å½“å‰é¡¹ç›®çš„ asserts æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚é€šå¸¸é»˜è®¤éƒ½æ˜¯ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ¥æ˜¾ç¤ºå›¾ç‰‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../../asserts/images/logo.png&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å½“æˆ‘ä»¬å°† src å±æ€§çš„å€¼è®¾ç½®ä¸º data ä¸­çš„å˜é‡åï¼Œè¿™æ ·å¼•ç”¨å°±ä¼šæ— æ³•åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;img :src=&quot;imgSrc&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      imgSrc: &#x27;../../asserts/images/logo.png&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š</p><blockquote><p>1.æŠŠå›¾ç‰‡æ”¾åœ¨ src åŒçº§çš„ static æ–‡ä»¶å¤¹ä¸‹ã€‚ 2.æŠŠå›¾ç‰‡æ”¾åœ¨ cdn ä¸Šï¼ŒæŠŠç½‘ç»œåœ°å€å­˜åœ¨ imgUrl é‡Œï¼Œç„¶åç›´æ¥<img :src="imgUrl">å»å±•ç¤ºã€‚ 3.å›¾ç‰‡æ”¾åœ¨ assets æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ data é‡Œé¢ require è¿›å›¾ç‰‡</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™ä¸Šçº¿éƒ¨ç½²æµç¨‹</title>
      <link href="/wangq1231/2021/03/02/%E2%95%90%C2%B0%E2%95%92%E2%95%9B%E2%95%94%E2%95%A7%E2%95%A7%E2%96%80%E2%96%93%E2%94%90%E2%95%A9%D0%81%E2%94%B4%D1%9E%E2%94%82%E2%95%A0/"/>
      <url>/wangq1231/2021/03/02/%E2%95%90%C2%B0%E2%95%92%E2%95%9B%E2%95%94%E2%95%A7%E2%95%A7%E2%96%80%E2%96%93%E2%94%90%E2%95%A9%D0%81%E2%94%B4%D1%9E%E2%94%82%E2%95%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><br><h3 id="1-æœåŠ¡å™¨è´­ä¹°"><a href="#1-æœåŠ¡å™¨è´­ä¹°" class="headerlink" title="1.æœåŠ¡å™¨è´­ä¹°"></a>1.æœåŠ¡å™¨è´­ä¹°</h3><p>å›½å†…æœåŠ¡å™¨ï¼š <a href="https://www.aliyun.com/product/ecs">é˜¿é‡Œäº‘ ECS(Elastic Compute Service)</a>ï¼Œ <a href="https://buy.cloud.tencent.com/cvm">è…¾è®¯äº‘ CVM(Cloud Virtual Machine)</a>ç­‰</p><p>å›½å¤–æœåŠ¡å™¨ï¼š<a href="https://www.vultr.com/">æ—¥æœ¬[Vultr]</a>ï¼Œç¾å›½ Linodeï¼Œè°·æ­Œäº‘ï¼Œå¾®è½¯ Azureï¼Œäºšé©¬é€Š AWS ç­‰</p><p>è¿™ä¸€æ­¥éœ€è¦åˆ›å»ºå¥½æœåŠ¡å™¨å®ä¾‹ï¼Œåˆ†é…å¥½å…¬ç½‘ IP åœ°å€ã€‚</p><h3 id="2-åŸŸåè´­ä¹°"><a href="#2-åŸŸåè´­ä¹°" class="headerlink" title="2.åŸŸåè´­ä¹°"></a>2.åŸŸåè´­ä¹°</h3><p>å›½å†…ï¼šé˜¿é‡Œã€è…¾è®¯ç­‰</p><p>å›½å¤–ï¼šGodaddy</p><h3 id="3-åŸŸåè§£æ-é…ç½®-DNS"><a href="#3-åŸŸåè§£æ-é…ç½®-DNS" class="headerlink" title="3.åŸŸåè§£æ(é…ç½® DNS)"></a>3.åŸŸåè§£æ(é…ç½® DNS)</h3><p>æ³¨å†Œå¥½åŸŸååéœ€è¦å°†åŸŸåæ˜ å°„åˆ°è‡ªå·±æœåŠ¡å™¨å¯¹åº”çš„ ip åœ°å€ï¼Œè¿™æ ·åˆ«äººæ‰èƒ½é€šè¿‡åŸŸåè®¿é—®åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚</p><p>è¿™ä¸ªæ­¥éª¤å«åšåŸŸåè§£æï¼Œé€šè¿‡åŸŸåæœåŠ¡å•†æä¾›çš„åå°å°±å¯ä»¥æ“ä½œï¼Œä¸€èˆ¬åŸŸåè§£æä¼šæœ‰å»¶è¿Ÿï¼Œä¸æ˜¯åŠæ—¶ç”Ÿæ•ˆçš„ã€‚</p><span id="more"></span><h3 id="4-æœåŠ¡å™¨ç¯å¢ƒæ­å»º"><a href="#4-æœåŠ¡å™¨ç¯å¢ƒæ­å»º" class="headerlink" title="4.æœåŠ¡å™¨ç¯å¢ƒæ­å»º"></a>4.æœåŠ¡å™¨ç¯å¢ƒæ­å»º</h3><p><strong>è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯CentOSæ“ä½œç³»ç»Ÿï¼ˆå…¶ä»–ç³»ç»Ÿå‘½ä»¤ä¸åŒï¼‰</strong></p><p>é…ç½®æœåŠ¡å™¨ï¼Œ Mac ç³»ç»Ÿä¸‹ç›´æ¥ä½¿ç”¨ç»ˆç«¯å°± ok</p><p>windows ç³»ç»Ÿä¸‹éœ€è¦ç”¨åˆ° git bashï¼Œæˆ–è€…åˆ«çš„å·¥å…·(Putty)</p><p>éœ€è¦ç”¨åˆ°çš„ Linux ç³»ç»Ÿæ“ä½œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¿œç¨‹è¿æ¥å‘½ä»¤</span></span><br><span class="line">ssh root@åŸŸå</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å±•ç¤ºå½“å‰æ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line">pwd</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ‡æ¢æ–‡ä»¶å¤¹ç›®å½•</span></span><br><span class="line">cd ç›®å½•</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å±•ç¤ºå½“å‰æ–‡ä»¶å¤¹ä¸­å†…å®¹</span></span><br><span class="line">ls</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¼–è¾‘æ–‡ä»¶</span></span><br><span class="line">vim æ–‡ä»¶è·¯å¾„</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¼ è¾“æ–‡ä»¶</span></span><br><span class="line">scp æœ¬åœ°æ–‡ä»¶è·¯å¾„ root@åŸŸå:è¿œç¨‹è·¯å¾„</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹æ–‡ä»¶å‘½ä»¤</span></span><br><span class="line">unzipjs</span><br></pre></td></tr></table></figure><h4 id="4-1-å®‰è£…-CentOS-å¼€å‘äººå‘˜ç›¸å…³åŒ…"><a href="#4-1-å®‰è£…-CentOS-å¼€å‘äººå‘˜ç›¸å…³åŒ…" class="headerlink" title="4.1 å®‰è£… CentOS å¼€å‘äººå‘˜ç›¸å…³åŒ…"></a>4.1 å®‰è£… CentOS å¼€å‘äººå‘˜ç›¸å…³åŒ…</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall <span class="string">&#x27;Development tools&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="4-2-é…ç½®å…å¯†ç™»å½•"><a href="#4-2-é…ç½®å…å¯†ç™»å½•" class="headerlink" title="4.2 é…ç½®å…å¯†ç™»å½•"></a>4.2 é…ç½®å…å¯†ç™»å½•</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨è‡ªå·±ç”µè„‘ä¸Š ç”Ÿæˆæœ¬åœ° å¯†é’¥å¯¹</span></span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆçš„ä½ç½®</span></span><br><span class="line"><span class="comment"># windows åœ¨ C:\users\ä½ çš„ç”¨æˆ·å\.ssh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ª .ssh æ–‡ä»¶å¤¹</span></span><br><span class="line">mkdir .ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> .ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">touch authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæœ¬åœ°ç”µè„‘ç”Ÿæˆçš„å¯†é’¥å¯¹ä¸­ id_rsa_pub æ–‡ä»¶ä¸­çš„å†…å®¹æ”¾åˆ° authorized_keys æ–‡ä»¶ä¸­å»</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDP0Ur7rojMdFqTDUQx56QuxeNbqbeCO6lQz9t3KZAWjjJhSG5v1TMhElunJg7HJtovIGlTDwrco9U36gF/nJ+66Gwzeme4eSwUYAu8D7XjFEfFvUPHwtSUDZKV9jtPPsoujUM9LnxvJ09buU0+xpOCE6LAR7e3vPRmrlolQc88b/JbH2A4lsXGIhGNNK/Z6M5LagD8KTNePLv7jc3kA2GZdUUze1wIVBjO21BTK90hfVbEGL0WREVh9RKR33jl7L5s8mnBbLJbsuk/Jk0C5ZNSKKCpFfDBsDQWYodyw1wI7gdpWuV8cH0CYz4xTRuOcIOv7sUjx9gbW09eNZnNOkDxpTvzPuP9CqKFSBma1xtnhhJYdw6b+xnoVPthUKhWzvp9ElQUtAGK+Xzauk5CxHyESZGGoA/YZQZ0U0rmoTrvG5JvnYOclDFMAIfe/pBJR5Ue6tlfBSMBWaHs61b334kAAUbtgF8TW9owH6lSZYsz2mS8nPF6a47bIwZwwsXmoWM= hua&#x27;wei@LAPTOP-4NR7HM4G&quot;</span> &gt;&gt; authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€€å‡ºæœåŠ¡å™¨ï¼Œä¸‹æ¬¡å°±å…å¯†ç™»å½•</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><h4 id="4-3-å®‰è£…-nginx"><a href="#4-3-å®‰è£…-nginx" class="headerlink" title="4.3 å®‰è£… nginx"></a>4.3 å®‰è£… nginx</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ nginx æº</span></span><br><span class="line">sudo yum install epel-release</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…nginx</span></span><br><span class="line">sudo yum install nginx</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨nginx</span></span><br><span class="line">sudo systemctl start nginx</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®é˜²ç«å¢™è§„åˆ™</span></span><br><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=http</span><br><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure><h4 id="4-4-å®‰è£…-JDKï¼ˆåç«¯æ˜¯-java-è¿è¡Œçš„ï¼‰"><a href="#4-4-å®‰è£…-JDKï¼ˆåç«¯æ˜¯-java-è¿è¡Œçš„ï¼‰" class="headerlink" title="4.4 å®‰è£… JDKï¼ˆåç«¯æ˜¯ java è¿è¡Œçš„ï¼‰"></a>4.4 å®‰è£… JDKï¼ˆåç«¯æ˜¯ java è¿è¡Œçš„ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. åœ¨ä½ çš„æœ¬åœ°Windowsç³»ç»Ÿä¸­ä¸‹è½½ Linuxç³»ç»Ÿä¸‹çš„jdkï¼Œjdkä¸‹è½½å®˜ç½‘https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.htmlã€‚</span></span><br><span class="line">ä¸‹è½½ä½ éœ€è¦çš„jdkç‰ˆæœ¬ï¼Œæˆ‘ç”¨çš„æ˜¯ jdk-8u221-linux-x64.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.ä¸‹è½½å®Œæˆåå°†å®‰è£…åŒ…ä¸Šä¼ æœåŠ¡å™¨</span></span><br><span class="line">ä½¿ç”¨winscpä¸Šä¼ æ–‡ä»¶è‡³ /usr/java</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.è§£å‹æ–‡ä»¶</span></span><br><span class="line">tar -zxvf /usr/java/jdk-8u221-linux-x64.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 4.é…ç½®path</span></span><br><span class="line">cd /etc</span><br><span class="line">vim profile</span><br><span class="line">åœ¨profileæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_221   # jdkè§£å‹åçš„è·¯å¾„</span><br><span class="line">export CLASSPATH=$JAVA_HOME/lib/</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export PATH JAVA_HOME CLASSPATH</span><br><span class="line"><span class="meta">#</span><span class="bash"> 5.æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">java -version</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-5-å®‰è£…-MySQLï¼ˆæ•°æ®åº“ï¼‰"><a href="#4-5-å®‰è£…-MySQLï¼ˆæ•°æ®åº“ï¼‰" class="headerlink" title="4.5 å®‰è£… MySQLï¼ˆæ•°æ®åº“ï¼‰"></a>4.5 å®‰è£… MySQLï¼ˆæ•°æ®åº“ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½å¹¶å®‰è£…MySQL æº</span></span><br><span class="line">wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span><br><span class="line">sudo yum localinstall mysql80-community-release-el7-3.noarch.rpm</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> éªŒè¯ä»“åº“æ˜¯å¦æ·»åŠ æˆåŠŸ</span></span><br><span class="line">yum repolist enabled | grep &quot;mysql.*-community.*&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…MySQL</span></span><br><span class="line">sudo yum install mysql-community-server -y</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä¸Šä¸€æ­¥æŠ¥é”™ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å®‰è£…Mysqlå‘½ä»¤</span></span><br><span class="line">sudo yum module disable mysql</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹é…ç½® lower_case_table_names=1</span></span><br><span class="line">éœ€è¦å…ˆä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œ</span><br><span class="line">vi /etc/my.cnf</span><br><span class="line">[mysqld]  ä¸‹å¢åŠ </span><br><span class="line">lower_case_table_names=1</span><br><span class="line">æ³¨ï¼šå¦‚æœä¸åŠ è¿™ä¸€è¡Œï¼Œmysqlä¼šåŒºåˆ†æ•°æ®åº“è¡¨çš„å¤§å°å†™ã€‚ 0ä»£è¡¨åŒºåˆ†å¤§å°å†™ï¼Œ1ä»£è¡¨ä¸åŒºåˆ†å¤§å°å†™ã€‚</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨MySQL</span></span><br><span class="line">systemctl start mysqld</span><br><span class="line"></span><br><span class="line">systemctl enable mysqld</span><br><span class="line">systemctl status mysqld</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰¾åˆ°é»˜è®¤å¯†ç </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> MySQLå®‰è£…å®Œæ¯•åä¼šè®¾ç½®ä¸€ä¸ªé»˜è®¤å¯†ç ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°é»˜è®¤å¯†ç </span></span><br><span class="line">grep &#x27;temporary password&#x27; /var/log/mysqld.log</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿æ¥åˆ°MySQLæ•°æ®åº“ï¼Œä¿®æ”¹å¯†ç </span></span><br><span class="line">mysql -uroot -p</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹æ•°æ®åº“å¯†ç  å¯†ç è¦æ±‚æœ‰å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—</span></span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;Hehuang++0724&#x27;;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…è®¸è¿œç¨‹è¿æ¥</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> use mysql;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> select host,user,authentication_string,plugin from user;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> update user <span class="built_in">set</span> host=<span class="string">&#x27;%&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> flush privileges;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨ï¼šå¦‚æœæœåŠ¡å™¨é˜²ç«å¢™æœªå¼€ï¼Œè®°å¾—å¼€æ”¾mysqlçš„ç«¯å£ã€‚å¦å¤–å®‰å…¨ç»„ä¹Ÿéœ€è¦å¼€æ”¾mysqlç«¯å£ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="5-ä¸Šä¼ ç½‘ç«™èµ„æº"><a href="#5-ä¸Šä¼ ç½‘ç«™èµ„æº" class="headerlink" title="5.ä¸Šä¼ ç½‘ç«™èµ„æº"></a>5.ä¸Šä¼ ç½‘ç«™èµ„æº</h3><p>å¯ä»¥ä½¿ç”¨ scp å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥å®‰è£… FTP(winSCPã€vsftpd)å·¥å…·ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> scp å‘½ä»¤è¿è¡Œåœ¨æœ¬åœ°ç”µè„‘</span></span><br><span class="line">scp æœ¬åœ°æ–‡ä»¶ root@åŸŸå:è¿œç¨‹è·¯å¾„</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æœåŠ¡å™¨åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">mkdir /home/nginx</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŠŠç½‘é¡µæ–‡ä»¶ç§»åŠ¨åˆ°åˆ›å»ºå¥½çš„æ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line">mv ./dist.zip /home/nginx/</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">cd /home/nginx</span><br><span class="line">unzip ./dist.zip</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹æ–‡ä»¶å¤¹åå­—</span></span><br><span class="line">mv dist æ–‡ä»¶å¤¹å</span><br></pre></td></tr></table></figure><h3 id="6-é…ç½®-nginx"><a href="#6-é…ç½®-nginx" class="headerlink" title="6.é…ç½® nginx"></a>6.é…ç½® nginx</h3><p>åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ exam.conf ï¼ˆé…ç½® nginx æœåŠ¡ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx/conf.d</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºé…ç½®æ–‡ä»¶</span></span><br><span class="line">touch exam.conf</span><br><span class="line">vim exam.conf</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰ié”® è¿›å…¥ç¼–è¾‘æ¨¡å¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å…¥å¦‚ä¸‹é…ç½®å†…å®¹</span></span><br><span class="line">server &#123;</span><br><span class="line">listen 80;</span><br><span class="line">server_name www.yourdomain.com; # æœåŠ¡å™¨åœ°å€/åŸŸååœ°å€</span><br><span class="line">location / &#123;</span><br><span class="line">root /home/nginx/exam; # é™æ€é¡µé¢æ–‡ä»¶çš„è·¯å¾„</span><br><span class="line">index index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿å­˜é€€å‡º</span></span><br><span class="line">:wq</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡æ–°å¯åŠ¨nginxæœåŠ¡</span></span><br><span class="line">sudo systemctl reload nginx</span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ– ä»¥ä¸‹å‘½ä»¤</span></span><br><span class="line">nginx -s reload</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹nginxçŠ¶æ€</span></span><br><span class="line">sudo systemctl status nginx</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢nginxæœåŠ¡</span></span><br><span class="line">sudo systemctl stop nginx</span><br></pre></td></tr></table></figure><h3 id="7-æ¥å£é¡¹ç›®éƒ¨ç½²-java-é¡¹ç›®"><a href="#7-æ¥å£é¡¹ç›®éƒ¨ç½²-java-é¡¹ç›®" class="headerlink" title="7. æ¥å£é¡¹ç›®éƒ¨ç½²(java é¡¹ç›®)"></a>7. æ¥å£é¡¹ç›®éƒ¨ç½²(java é¡¹ç›®)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨jaråŒ…</span></span><br><span class="line">java -jar /home/java/exam.jar  # å…³é—­åå°±åœæ­¢è¿è¡Œäº†</span><br><span class="line">nohup java -jar /home/java/exam.jar &gt;exam.log 2&gt;&amp;1 &amp;  # åå°ä¸åœæ­¢è¿è¡Œ</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">cat exam.log</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­é˜²ç«å¢™æ‰èƒ½è®¿é—®springbooté¡¹ç›® æŸ¥çœ‹å…¶é˜²ç«å¢™çš„çŠ¶æ€ï¼š</span></span><br><span class="line">systemctl status firewalld.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­åå°±å¯ä»¥æ­£å¸¸è®¿é—®é¡µé¢</span></span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯é˜²ç«å¢™</span></span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure><h3 id="Node-ä½œä¸ºæœåŠ¡ç«¯ï¼š"><a href="#Node-ä½œä¸ºæœåŠ¡ç«¯ï¼š" class="headerlink" title="Node ä½œä¸ºæœåŠ¡ç«¯ï¼š"></a>Node ä½œä¸ºæœåŠ¡ç«¯ï¼š</h3><h3 id="8-å®‰è£…-Node-js-ï¼ˆåç«¯æ˜¯-Node-è¿è¡Œçš„ï¼‰"><a href="#8-å®‰è£…-Node-js-ï¼ˆåç«¯æ˜¯-Node-è¿è¡Œçš„ï¼‰" class="headerlink" title="8.å®‰è£… Node.js ï¼ˆåç«¯æ˜¯ Node è¿è¡Œçš„ï¼‰"></a>8.å®‰è£… Node.js ï¼ˆåç«¯æ˜¯ Node è¿è¡Œçš„ï¼‰</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> yumè‡ªå¸¦æºä¸­æ²¡æœ‰Node.jsï¼Œæ‰€ä»¥é¦–å…ˆè¦è·å–Node.jsèµ„æº</span></span><br><span class="line">curl --silent --location https://rpm.nodesource.com/setup_14.x |bash -</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…Node.js</span></span><br><span class="line">yum install -y nodejs</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…å®Œæˆåä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ</span></span><br><span class="line">node -v</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…pm2 å¯åŠ¨node.jsé¡¹ç›®</span></span><br><span class="line">pm2 start æ–‡ä»¶å/id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢</span></span><br><span class="line">pm2 stop æ–‡ä»¶å/id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»pm2åˆ—è¡¨ åˆ é™¤</span></span><br><span class="line">pm2 delete æ–‡ä»¶å/id</span><br></pre></td></tr></table></figure><h3 id="9-Node-é¡¹ç›®éƒ¨ç½²æ­¥éª¤ï¼ˆNode-é¡¹ç›®ï¼‰"><a href="#9-Node-é¡¹ç›®éƒ¨ç½²æ­¥éª¤ï¼ˆNode-é¡¹ç›®ï¼‰" class="headerlink" title="9.Node é¡¹ç›®éƒ¨ç½²æ­¥éª¤ï¼ˆNode é¡¹ç›®ï¼‰"></a>9.Node é¡¹ç›®éƒ¨ç½²æ­¥éª¤ï¼ˆNode é¡¹ç›®ï¼‰</h3><p>1.ä¿®æ”¹é…ç½®é¡¹æ–‡ä»¶ä¸­çš„ mysql æ•°æ®åº“å¯†ç ä¸ºæœåŠ¡å™¨ä¸­æ•°æ®åº“çš„å¯†ç  2.ä¸Šä¼ é¡¹ç›®å‹ç¼©æ–‡ä»¶åˆ°æœåŠ¡å™¨ 3.å†æœåŠ¡å™¨ä¸Šè§£å‹é¡¹ç›®æ–‡ä»¶åˆ° /home/nginx/hlj 4.ä¸ºé¡¹ç›®å®‰è£…ä¾èµ– npm i 5.ä¿®æ”¹ mysql æ•°æ®åº“ å¯†ç è§„åˆ™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;Hehuang++0724&#x27; PASSWORD EXPIRE NEVER;</span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;Hehuang++0724&#x27;;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æ˜¯å¦ä»¥åŠä¿®æ”¹æˆåŠŸ</span></span><br><span class="line">select user,host plugin from user where user=&#x27;root&#x27;;</span><br></pre></td></tr></table></figure><p>6.åˆ›å»ºæ–°çš„æ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç™»å½•æ•°æ®å£æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">create database æ•°æ®åº“åç§°</span><br></pre></td></tr></table></figure><p>7.åœ¨ä¹‹å‰çš„ nginx é…ç½®æ–‡ä»¶ä¸­æ·»åŠ åå‘ä»£ç†çš„é…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ^~ /api/ &#123;</span><br><span class="line">rewrite ^/api/(.*)$ /$1 break;</span><br><span class="line">proxy_pass http://127.0.0.1:3000; # æœåŠ¡ç«¯é…ç½®çš„é»˜è®¤ç«¯å£</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.æ–°å¢ä¸€ä¸ªæœåŠ¡ç«¯é…ç½®æ–‡ä»¶</p><p>admin.conf</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx/conf.d</span><br><span class="line">touch admin.conf</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">server &#123;</span><br><span class="line">listen 80;</span><br><span class="line">server_name admin.hehuang724.cn; # åŸŸåå‰åŠ admin</span><br><span class="line">location / &#123;</span><br><span class="line">proxy_pass http://127.0.0.1:3000;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="éƒ¨ç½²è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#éƒ¨ç½²è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="éƒ¨ç½²è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜ï¼š"></a>éƒ¨ç½²è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜ï¼š</h2><h3 id="1-linux-ä¸Šéƒ¨ç½²-springboot-é¡¹ç›®å¯åŠ¨æˆåŠŸæœ¬åœ°æ— æ³•è®¿é—®"><a href="#1-linux-ä¸Šéƒ¨ç½²-springboot-é¡¹ç›®å¯åŠ¨æˆåŠŸæœ¬åœ°æ— æ³•è®¿é—®" class="headerlink" title="1.linux ä¸Šéƒ¨ç½² springboot é¡¹ç›®å¯åŠ¨æˆåŠŸæœ¬åœ°æ— æ³•è®¿é—®"></a>1.linux ä¸Šéƒ¨ç½² springboot é¡¹ç›®å¯åŠ¨æˆåŠŸæœ¬åœ°æ— æ³•è®¿é—®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­é˜²ç«å¢™æ‰èƒ½è®¿é—®springbooté¡¹ç›®</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç³»ç»Ÿæ˜¯centos8 ,æŸ¥çœ‹å…¶é˜²ç«å¢™çš„çŠ¶æ€ï¼š</span></span><br><span class="line">systemctl status firewalld.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­åå°±å¯ä»¥æ­£å¸¸è®¿é—®é¡µé¢</span></span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯é˜²ç«å¢™</span></span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure><h3 id="2-linux-æœåŠ¡å™¨-mysql-åŒºåˆ†è¡¨åå¤§å°å†™è§£å†³åŠæ³•"><a href="#2-linux-æœåŠ¡å™¨-mysql-åŒºåˆ†è¡¨åå¤§å°å†™è§£å†³åŠæ³•" class="headerlink" title="2.linux æœåŠ¡å™¨ mysql åŒºåˆ†è¡¨åå¤§å°å†™è§£å†³åŠæ³•"></a>2.linux æœåŠ¡å™¨ mysql åŒºåˆ†è¡¨åå¤§å°å†™è§£å†³åŠæ³•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">åœ¨mysqlå®‰è£…ç›®å½•(/etc/my.cnf)ä¸­çš„my.cnfæ–‡ä»¶ä¸­[mysqld]ä¸‹é¢æ·»åŠ ä¸€è¡Œé…ç½®ï¼Œ lower_case_table_names=1</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯mysqlæœåŠ¡</span></span><br><span class="line">service mysql restart</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯mysqlæœåŠ¡å‘ç°æŠ¥é”™ï¼ŒåŸå› æ˜¯åªæœ‰åœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½® lower_case_table_names=1æ‰æœ‰æ•ˆ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å†³åŠæ³•ï¼šå¸è½½mysqlï¼ŒæŒ‰ä¸‹æ“ä½œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸è½½å®Œmysqlåï¼Œé‡æ–°å®‰è£…ï¼Œå®‰è£…å®Œæˆåï¼Œé¦–å…ˆç«‹é©¬ä¿®æ”¹é…ç½®æ–‡ä»¶</span></span><br><span class="line">vi /etc/my.cnf</span><br><span class="line">[mysqld]  ä¸‹å¢åŠ </span><br><span class="line">lower_case_table_names=1</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®å®Œåé‡å¯mysql</span></span><br><span class="line">systemctl start mysqld</span><br><span class="line">systemctl enable mysqld</span><br><span class="line">systemctl status mysqld</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> éšåæŒ‰ä¸Šé¢çš„æ“ä½œé‡æ–°ä¿®æ”¹æ•°æ®åº“å¯†ç </span></span><br></pre></td></tr></table></figure><h3 id="3-å¸è½½-mysql"><a href="#3-å¸è½½-mysql" class="headerlink" title="3.å¸è½½ mysql"></a>3.å¸è½½ mysql</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">1ã€å…³é—­mysql</span><br><span class="line">service mysqld stop</span><br><span class="line"></span><br><span class="line">2ã€æŸ¥çœ‹å®‰è£…çš„mysql</span><br><span class="line">rpm -qa|grep -i mysql</span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; [root@vultrguest ~]<span class="comment"># rpm -qa|grep -i mysql</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql-community-libs-8.0.23-1.el7.x86_64</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql80-community-release-el7-1.noarch</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql-community-client-8.0.23-1.el7.x86_64</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql-community-common-8.0.23-1.el7.x86_64</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql-community-server-8.0.23-1.el7.x86_64</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; mysql-community-client-plugins-8.0.23-1.el7.x86_64</span></span><br><span class="line"></span><br><span class="line">3ã€å¸è½½mysql</span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql-community-libs-8.0.23-1.el7.x86_64 --nodeps</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql80-community-release-el7-1.noarch --nodeps</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql-community-client-8.0.23-1.el7.x86_64  --nodeps</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql-community-common-8.0.23-1.el7.x86_64 --nodeps</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql-community-server-8.0.23-1.el7.x86_64 --nodeps</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; rpm -ev mysql-community-client-plugins-8.0.23-1.el7.x86_64 --nodeps</span></span><br><span class="line"></span><br><span class="line">4ã€æ‰¾å‡ºå¹¶åˆ é™¤mysqlç›¸å…³ç›®å½•</span><br><span class="line">find / -name mysql</span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; [root@vultrguest ~]<span class="comment"># find / -name mysql</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; /var/lib/mysql</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; /var/lib/mysql/mysql</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; /usr/bin/mysql</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; /usr/lib64/mysql</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&gt; /etc/logrotate.d/mysql</span></span><br><span class="line">rm -rf /var/lib/mysql</span><br><span class="line">rm -rf /var/lib/mysql/mysql</span><br><span class="line">rm -rf /usr/bin/mysql</span><br><span class="line">rm -rf /usr/lib64/mysql</span><br><span class="line">rm -rf /etc/logrotate.d/mysql</span><br><span class="line"></span><br><span class="line">5ã€åˆ é™¤my.cnf</span><br><span class="line">rm -rf /etc/my.cnf</span><br><span class="line"></span><br><span class="line">6ã€æ£€æŸ¥å¸è½½æƒ…å†µ</span><br><span class="line">rpm -qa|grep -i mysql</span><br><span class="line">æ˜¾ç¤ºä¸ºç©ºï¼Œå¸è½½å®Œæ¯•ã€‚</span><br><span class="line">å¸è½½å®Œæˆåå‚è€ƒä»¥ä¸‹åšå®¢è¿›è¡Œé‡æ–°å®‰è£…mysqlå¹¶é…ç½®ä¸åŒºåˆ†å¤§å°å†™ï¼š</span><br><span class="line">https://blog.csdn.net/qq_35845339/article/details/106547742</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_35845339/article/details/106547742">Linux ä¸‹å®‰è£… mysql8(å¹¶è®¾ç½®ä¸åŒºåˆ†æ•°æ®åº“è¡¨å¤§å°å†™)</a></p><h3 id="4-nginx-è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜"><a href="#4-nginx-è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜" class="headerlink" title="4.nginx è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜"></a>4.nginx è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen 80;</span><br><span class="line">server_name www.yourdomain.com;    <span class="comment"># æœåŠ¡å™¨åŸŸåæˆ–å…¬ç½‘ipåœ°å€</span></span><br><span class="line">location / &#123;</span><br><span class="line">root /usr/share/nginx/exam;</span><br><span class="line">index index.html index.htm;</span><br><span class="line"><span class="comment"># æ·»åŠ è¯·æ±‚å¤´</span></span><br><span class="line">add_header <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span> *;</span><br><span class="line">add_header <span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span> <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">add_header <span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="string">&#x27;GET, POST, OPTIONS&#x27;</span>;</span><br><span class="line">add_header <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="string">&#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># é…ç½®æ¥å£</span></span><br><span class="line">location /api &#123;</span><br><span class="line">include uwsgi_params;</span><br><span class="line"><span class="comment"># ä»£ç†è·¯å¾„&#x27;/api&#x27;åˆ°æœ¬åœ°3033ç«¯å£ä¸‹(æœåŠ¡å¯åŠ¨åœ¨3033ç«¯å£)</span></span><br><span class="line">proxy_pass  http://localhost:3033/api;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="æ³¨æ„-è®¾ç½®-proxy-pass-æœ‰å¯èƒ½è®¿é—®å½“å‰åŸŸåé¡µé¢ä¼šæç¤º-502BadGate"><a href="#æ³¨æ„-è®¾ç½®-proxy-pass-æœ‰å¯èƒ½è®¿é—®å½“å‰åŸŸåé¡µé¢ä¼šæç¤º-502BadGate" class="headerlink" title="æ³¨æ„: è®¾ç½® proxy_pass æœ‰å¯èƒ½è®¿é—®å½“å‰åŸŸåé¡µé¢ä¼šæç¤º 502BadGate"></a>æ³¨æ„: è®¾ç½® proxy_pass æœ‰å¯èƒ½è®¿é—®å½“å‰åŸŸåé¡µé¢ä¼šæç¤º 502BadGate</h3><h4 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a>è§£å†³åŠæ³•ï¼š</h4><p>æŸ¥çœ‹ç³»ç»Ÿ httpd é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getsebool -a | grep httpd</span><br></pre></td></tr></table></figure><p>è®¾ç½® httpd å¯ä»¥è¿æ¥åˆ°ç½‘ç»œï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsebool httpd_can_network_connect on -P</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–ï¼š"><a href="#å…¶ä»–ï¼š" class="headerlink" title="å…¶ä»–ï¼š"></a>å…¶ä»–ï¼š</h2><h3 id="1-Linux-ç›¸å…³å‘½ä»¤ï¼š"><a href="#1-Linux-ç›¸å…³å‘½ä»¤ï¼š" class="headerlink" title="1.Linux ç›¸å…³å‘½ä»¤ï¼š"></a>1.Linux ç›¸å…³å‘½ä»¤ï¼š</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç«¯å£è¿›ç¨‹ç›¸å…³</span></span><br><span class="line">netstat -anp  # æŸ¥çœ‹ç«¯å£ä¿¡æ¯</span><br><span class="line">netstat -anp | grep 3306  # æŸ¥çœ‹ç«¯å£ä¿¡æ¯ï¼Œè¿‡æ»¤3306ç«¯å£</span><br><span class="line">sudo kill -9 pidå·  # æ€æ­»pidå¯¹åº”è¿›ç¨‹</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> springbootç›¸å…³</span></span><br><span class="line">nohup java -jar /home/java/exam.jar &gt;exam.log 2&gt;&amp;1 &amp;  # éœ€ä¿®æ”¹jaråŒ…çš„è·¯å¾„</span><br><span class="line"><span class="meta">#</span><span class="bash"> nohupï¼šä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤ï¼Œé€€å‡ºå¸æˆ·ä¹‹åç»§ç»­è¿è¡Œç›¸åº”çš„è¿›ç¨‹ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> exam.logï¼šæ˜¯nohupæŠŠ<span class="built_in">command</span>çš„è¾“å‡ºé‡å®šå‘åˆ°å½“å‰ç›®å½•çš„æŒ‡å®šçš„â€œæ—¥å¿—æ–‡ä»¶å.<span class="built_in">log</span>â€æ–‡ä»¶ä¸­ï¼Œå³è¾“å‡ºå†…å®¹ä¸æ‰“å°åˆ°å±å¹•ä¸Šï¼Œè€Œæ˜¯è¾“å‡ºåˆ°<span class="string">&quot;exam.log&quot;</span>æ–‡ä»¶ä¸­ã€‚ä¸æŒ‡å®šæ–‡ä»¶åä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºnohup.outï¼Œå¦‚æœå½“å‰ç›®å½•çš„ nohup.out æ–‡ä»¶ä¸å¯å†™ï¼Œè¾“å‡ºé‡å®šå‘åˆ° <span class="variable">$HOME</span>/nohup.out æ–‡ä»¶ä¸­ã€‚å¦‚æœæ²¡æœ‰æ–‡ä»¶èƒ½åˆ›å»ºæˆ–æ‰“å¼€ä»¥ç”¨äºè¿½åŠ ï¼Œé‚£ä¹ˆ Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ä¸å¯è°ƒç”¨ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2&gt;&amp;1ï¼š2å°±æ˜¯æ ‡å‡†é”™è¯¯ï¼Œ1æ˜¯æ ‡å‡†è¾“å‡ºï¼Œè¯¥å‘½ä»¤ç›¸å½“äºæŠŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºä¹ˆã€‚è¿™é‡Œ&amp;ç›¸å½“äºæ ‡å‡†é”™è¯¯ç­‰æ•ˆäºæ ‡å‡†è¾“å‡ºï¼Œå³æŠŠæ ‡å‡†é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºåŒæ—¶è¾“å‡ºåˆ°æŒ‡å®šçš„â€œexam.logâ€æ–‡ä»¶ä¸­ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æœ€åçš„&amp;ï¼šè®©è¯¥ä½œä¸šåœ¨åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mysqlç›¸å…³</span></span><br><span class="line">whereis mysql # æ˜¾ç¤ºmysqlçš„å®‰è£…å’Œæ–‡ä»¶ç›®å½•ç­‰</span><br><span class="line">systemctl start mysqld # å¯åŠ¨mysqlæœåŠ¡</span><br><span class="line">systemctl enable mysqld # å¼€å¯mysqlæœåŠ¡</span><br><span class="line">systemctl status mysqld # æ˜¾ç¤ºmysqlçš„çŠ¶æ€</span><br></pre></td></tr></table></figure><p>æœ¬äººå°†æ¯•ä¸šè®¾è®¡åœ¨çº¿è€ƒè¯•ç³»ç»Ÿå·²éƒ¨ç½²åˆ°ä»¥ä¸‹åœ°å€ï¼š</p><p><a href="http://119.23.79.161:8088/">åœ¨çº¿è€ƒè¯•ç³»ç»Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿æ¥æœåŠ¡å™¨</title>
      <link href="/wangq1231/2021/03/02/%E2%94%B4%D0%BC%E2%95%9C%E2%95%99%E2%95%96%E2%96%A0%E2%95%AC%D1%91%E2%95%9E%D1%9E/"/>
      <url>/wangq1231/2021/03/02/%E2%94%B4%D0%BC%E2%95%9C%E2%95%99%E2%95%96%E2%96%A0%E2%95%AC%D1%91%E2%95%9E%D1%9E/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><p>ç”±äºé˜¿é‡Œäº‘çš„æ´»åŠ¨ï¼Œæˆ‘é¢†å–äº†ä¸€æ¬¾äº‘æœåŠ¡å™¨å¯ä»¥å…è´¹ä½¿ç”¨ä¸€ä¸ªæœˆã€‚å¦‚ä¸‹å›¾<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223140024246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘ç›®å‰æ˜¯ä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜ï¼Œé¢†å–äº†è¿™ä¸ªæœåŠ¡å™¨æƒ³ç€æ˜¯ç”¨æ¥æ­å»ºè‡ªå·±çš„ç½‘ç«™ï¼Œç”±äºåœ¨è¿™ä¹‹å‰ä¹Ÿæ²¡æœ‰ linux çš„ç›¸å…³å­¦ä¹ ç»å†ï¼Œåœ¨é¢†å–è¯¥æœåŠ¡å™¨åè¿›è¡Œäº†ä¸€ç³»åˆ—çš„æ“ä½œåæ‰å°†é™æ€ç½‘é¡µä¸Šä¼ åˆ°æœåŠ¡å™¨å¹¶é€šè¿‡å…¬ç½‘ ip è®¿é—®å¯ä»¥æ˜¾ç¤ºå‡ºæ¥ã€‚ä¾¿åœ¨æ­¤å¤„è®°å½•ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚</p><span id="more"></span><h2 id="ä¸€ã€é¢†å–æœåŠ¡å™¨"><a href="#ä¸€ã€é¢†å–æœåŠ¡å™¨" class="headerlink" title="ä¸€ã€é¢†å–æœåŠ¡å™¨"></a>ä¸€ã€é¢†å–æœåŠ¡å™¨</h2><ol><li> åœ¨é¢†å–æœåŠ¡å™¨åé¦–å…ˆé€‰æ‹©çš„æ˜¯æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯<code>Ubuntuæ“ä½œç³»ç»Ÿ</code>ï¼Œç‰ˆæœ¬æ˜¯<code>14.04 64ä½</code>ã€‚</li><li>å®Œæˆä»¥ä¸Šé€‰æ‹©åï¼Œç›´æ¥ç‚¹å‡»è´­ä¹°å°±å¯ä»¥äº†ã€‚è´­ä¹°å®Œæˆåæ‰“å¼€æ§åˆ¶å°ï¼Œåœ¨å·¦ä¾§èœå•æ é‡Œæ‰“å¼€<code>å®ä¾‹ä¸é•œåƒ â€”â€”&gt; å®ä¾‹</code>ï¼Œç„¶åå°†æœåŠ¡å™¨çš„å¯†ç è¿›è¡Œé‡ç½®<br> <img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223141413830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>é‡ç½®å®Œæˆåï¼Œè¿›è¡Œè¿œç¨‹è¿æ¥ã€‚åœ¨è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ç¬¬ä¸€ä¸ª Workbench è¿œç¨‹è¿æ¥ã€‚ç„¶ååœ¨å¯†ç æ è¾“å…¥åˆšåˆšé‡ç½®çš„å¯†ç ï¼Œè¿›è¡Œç™»å½•ã€‚ç™»å½•æˆåŠŸåå°±è¿›å…¥äº†å‘½ä»¤çª—å£ã€‚åœ¨å‘½ä»¤çª—å£è¾“å…¥ç›¸å…³å‘½ä»¤å°±å¯ä»¥å¯¹æœåŠ¡å™¨è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚<br> <img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223141722509.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ol><h2 id="äºŒã€å®‰è£…é…ç½®-nginx"><a href="#äºŒã€å®‰è£…é…ç½®-nginx" class="headerlink" title="äºŒã€å®‰è£…é…ç½® nginx"></a>äºŒã€å®‰è£…é…ç½® nginx</h2><p>nginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç† web æœåŠ¡å™¨ã€‚æˆ‘è¿™é‡Œé€šè¿‡ nginx æ¥é…ç½®é™æ€é¡µé¢ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†ä»¥åæ–¹ä¾¿ä¸Šä¼  vue é¡¹ç›®ã€‚</p><h3 id="1-é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…-nginxï¼š"><a href="#1-é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…-nginxï¼š" class="headerlink" title="1. é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… nginxï¼š"></a>1. é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… nginxï¼š</h3><p>Ubuntu å’Œ CentOS åˆ†åˆ«å¯¹åº”äºä¸åŒçš„åŒ…ç®¡ç†å™¨ã€‚<br>è¿™é‡Œä½¿ç”¨ Ubuntu ç³»ç»Ÿï¼Œæ‰€ä»¥é€‰æ‹©<code>apt-get</code>å‘½ä»¤è¿›è¡Œå®‰è£…</p><table><thead><tr><th>æ“ä½œç³»ç»Ÿ</th><th>æ–‡ä»¶æ ¼å¼</th><th>å·¥å…·</th></tr></thead><tbody><tr><td>Ubuntu</td><td>.deb</td><td>aptï¼Œ<code>apt-get</code>ï¼Œapt-cacheï¼Œdpkg</td></tr><tr><td>CentOS</td><td>.rmp</td><td><code>yum</code></td></tr></tbody></table><p>å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ nginx è¿›ç¨‹</p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep nginx</span><br></pre></td></tr></table></figure><p>é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… nginx æˆåŠŸåä¼šé»˜è®¤å¼€å¯ nginx æœåŠ¡ï¼Œç›´æ¥è®¿é—®å½“å‰æœåŠ¡å™¨å…¬ç½‘ ip å³å¯çœ‹åˆ°å¦‚ä¸‹é¡µé¢<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210224171813407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="2-é€šè¿‡æ•°æ®æºå®‰è£…-nginx"><a href="#2-é€šè¿‡æ•°æ®æºå®‰è£…-nginx" class="headerlink" title="2. é€šè¿‡æ•°æ®æºå®‰è£… nginx"></a>2. é€šè¿‡æ•°æ®æºå®‰è£… nginx</h3><p>è¯¥æ–¹æ³•å¯ä»¥å‚è€ƒäº†ä»¥ä¸‹åšå®¢ï¼š<br><a href="https://www.cnblogs.com/emmm/p/12240279.html">é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰è£… nginxï¼ˆubantu16.04ï¼‰</a></p><h3 id="3-è‡ªå®šä¹‰é…ç½®-nginx"><a href="#3-è‡ªå®šä¹‰é…ç½®-nginx" class="headerlink" title="3.è‡ªå®šä¹‰é…ç½® nginx"></a>3.è‡ªå®šä¹‰é…ç½® nginx</h3><p>åœ¨å®‰è£…å®Œ nginx åï¼ŒæŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œæ‰“å¼€å…¬ç½‘ IP å°±å¯ä»¥çœ‹åˆ° nginx çš„æ¬¢è¿é¡µã€‚åˆ°è¿™ç®—æ˜¯æˆåŠŸäº†ä¸€å¤§åŠã€‚æœ€åå¯ä»¥ä¿®æ”¹ nginx ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œæ¸²æŸ“è‡ªå·±çš„ç½‘é¡µã€‚å¯ä»¥å‚ç…§ä»¥ä¸‹åšå®¢ï¼š<br><a href="https://blog.csdn.net/SherrybabyOne/article/details/89892415">äº‘æœåŠ¡å™¨ Nginx é…ç½®</a></p><h2 id="ä¸‰ã€ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ç®¡ç†æœåŠ¡å™¨çš„æ–‡ä»¶"><a href="#ä¸‰ã€ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ç®¡ç†æœåŠ¡å™¨çš„æ–‡ä»¶" class="headerlink" title="ä¸‰ã€ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ç®¡ç†æœåŠ¡å™¨çš„æ–‡ä»¶"></a>ä¸‰ã€ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ç®¡ç†æœåŠ¡å™¨çš„æ–‡ä»¶</h2><p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ WinSCPï¼Œå®‰è£…å°±ä¸ä»‹ç»äº†ï¼Œå®‰è£…å®Œæˆåæ‰“å¼€ï¼Œåè®®é»˜è®¤ï¼Œç«¯å£é»˜è®¤ï¼Œç”¨æˆ·åä¸€èˆ¬éƒ½æ˜¯ rootï¼Œå¯†ç å°±æ˜¯ä¹‹å‰é‡ç½®çš„å®ä¾‹å¯†ç ã€‚<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223151905844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç™»å½•æˆåŠŸåæ˜¾ç¤ºå¦‚ä¸‹é¡µé¢ï¼Œå·¦è¾¹æ˜¾ç¤ºçš„å½“å‰ä½ çš„ç”µè„‘çš„ç¡¬ç›˜å†…çš„æ–‡ä»¶ï¼Œå³è¾¹æ˜¾ç¤ºçš„æ˜¯æœåŠ¡å™¨çš„æ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥å°†å·¦è¾¹çš„æ–‡ä»¶æ‹–å…¥åˆ°å³è¾¹æœåŠ¡å™¨å†…ã€‚<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223152053223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿™é‡Œè´´ä¸Šæˆ‘çš„é…ç½®æ–‡ä»¶å’Œç›®å½•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen <span class="number">80</span> default_server;</span><br><span class="line">listen [::]:<span class="number">80</span> default_server ipv6only=on;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Make site accessible from http:<span class="comment">//localhost/</span></span><br><span class="line">server_name localhost;</span><br><span class="line"></span><br><span class="line"><span class="meta">#location / &#123;</span></span><br><span class="line"># First attempt to serve request as file, then</span><br><span class="line"><span class="meta"># as directory, then fall back to displaying a 404.</span></span><br><span class="line"># try_files $uri $uri/ =<span class="number">404</span>;</span><br><span class="line"># Uncomment to enable naxsi on <span class="keyword">this</span> location</span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> /etc/nginx/naxsi.rules</span></span><br><span class="line">#&#125;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">  # é™æ€é¡µé¢å­˜æ”¾åœ¨è¿™ä¸ªè·¯å¾„</span><br><span class="line">          root /home/qd/html;</span><br><span class="line">            index index.html index.htm;</span><br><span class="line">            try_files $uri $uri/  /index.html;</span><br><span class="line">     &#125;</span><br><span class="line"># Only <span class="keyword">for</span> nginx-naxsi used with nginx-naxsi-ui : process denied requests</span><br><span class="line"><span class="meta">#location /RequestDenied &#123;</span></span><br><span class="line">#proxy_pass http:<span class="comment">//127.0.0.1:8080;</span></span><br><span class="line">#&#125;</span><br><span class="line"></span><br><span class="line">#error_page <span class="number">404</span> /<span class="number">404.</span>html;</span><br><span class="line"></span><br><span class="line"><span class="meta"># redirect server <span class="meta-keyword">error</span> pages to the static page /50x.html</span></span><br><span class="line">#</span><br><span class="line">#error_page <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /<span class="number">50</span>x.html;</span><br><span class="line"><span class="meta">#location = /50x.html &#123;</span></span><br><span class="line"><span class="meta">#root /usr/share/nginx/html;</span></span><br><span class="line">#&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">#</span><br><span class="line"><span class="meta">#location ~ \.php$ &#123;</span></span><br><span class="line">#fastcgi_split_path_info ^(.+\.php)(/.+)$;</span><br><span class="line">## NOTE: You should have <span class="string">&quot;cgi.fix_pathinfo = 0;&quot;</span> in php.ini</span><br><span class="line">#</span><br><span class="line">## With php5-cgi alone:</span><br><span class="line">#fastcgi_pass <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span>;</span><br><span class="line">## With php5-fpm:</span><br><span class="line">#fastcgi_pass unix:/var/run/php5-fpm.sock;</span><br><span class="line">#fastcgi_index index.php;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> fastcgi_params;</span></span><br><span class="line">#&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta"># deny access to .htaccess files, <span class="meta-keyword">if</span> Apache<span class="meta-string">&#x27;s document root</span></span></span><br><span class="line"><span class="meta-string"><span class="meta"># concurs with nginx&#x27;</span>s one</span></span><br><span class="line">#</span><br><span class="line"><span class="meta">#location ~ /\.ht &#123;</span></span><br><span class="line"><span class="meta">#deny all;</span></span><br><span class="line">#&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210223152742523.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è‡³æ­¤å°±å¯ä»¥æ­£å¸¸çš„æ˜¾ç¤ºä½ ä¸Šä¼ çš„é™æ€é¡µé¢äº†ã€‚åŒç†ï¼Œvue é¡¹ç›®åªéœ€è¦å°†æ‰“åŒ…åçš„ dist ç›®å½•æ‹–åˆ°è¿™ä¸ªé™æ€é¡µé¢è·¯å¾„å†…ã€‚åé¢å†æ…¢æ…¢ç ”ç©¶æœåŠ¡ç«¯ä¸Šä¼ æœåŠ¡å™¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git clone åŠ é€Ÿ</title>
      <link href="/wangq1231/2021/02/20/git-clone-%E2%95%9D%E2%95%99%E2%95%A6%E2%94%98/"/>
      <url>/wangq1231/2021/02/20/git-clone-%E2%95%9D%E2%95%99%E2%95%A6%E2%94%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>åœ¨æ‹·è´ github ä¸Šä¼˜ç§€çš„å¼€æºé¡¹ç›®æ—¶ï¼Œæ¯æ¬¡ä½¿ç”¨ git<br>clone å‘½ä»¤éƒ½è¦ç­‰å¥½ä¹…ã€‚ä¸Šç½‘æŸ¥æ‰¾äº†å¾ˆå¤šåŠæ³•ï¼Œæœ‰æ”¹ host æ–‡ä»¶çš„ï¼Œä¹Ÿæœ‰ä¿®æ”¹ ip çš„ã€‚è¿˜æœ‰æŠŠé¡¹ç›® fork å†æ·»åŠ åˆ° gitee ä¸­å† clone çš„(å› ä¸º gitee æ˜¯å›½å†…çš„æœåŠ¡å™¨ï¼Œå† clone å°±ä¼šå¾ˆå¿«)ã€‚éƒ½æ¯”è¾ƒéº»çƒ¦</p></blockquote><p>è¿™é‡Œæœ‰ä¸¤ä¸ªå¾ˆç®€ä¾¿çš„æ–¹æ³•äº²æµ‹æœ‰æ•ˆ<br>ä»¥ clone vue ä¸ºä¾‹ï¼š</p><blockquote><p><code>git clone https://github.com/vuejs/vue.git</code></p></blockquote><h1 id="1-ä½¿ç”¨-cnpm-ä»£ç†"><a href="#1-ä½¿ç”¨-cnpm-ä»£ç†" class="headerlink" title="1. ä½¿ç”¨ cnpm ä»£ç†"></a>1. ä½¿ç”¨ cnpm ä»£ç†</h1><blockquote><p>git clone <a href="https://github.com.cnpmjs.org/vuejs/vue.git">https://github.com.cnpmjs.org/vuejs/vue.git</a></p></blockquote><h1 id="2-ä½¿ç”¨ç äº‘çš„é•œåƒ"><a href="#2-ä½¿ç”¨ç äº‘çš„é•œåƒ" class="headerlink" title="2. ä½¿ç”¨ç äº‘çš„é•œåƒ"></a>2. ä½¿ç”¨ç äº‘çš„é•œåƒ</h1><blockquote><p>git clone <a href="https://gitee.com/mirrors/vue.git">https://gitee.com/mirrors/vue.git</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3 æ–°ç‰¹æ€§â€”â€”åœ¨cssä¸­ä½¿ç”¨jså˜é‡</title>
      <link href="/wangq1231/2021/02/20/vue3-%E2%95%A8%E2%94%AC%E2%95%A0%E2%95%AA%E2%95%A8%E2%95%98%D0%B1%D0%BA%D0%B1%D0%BA%D0%B1%D0%BA%E2%95%98%E2%94%8Ccss%E2%95%93%E2%95%A8%E2%95%A9%E2%95%A3%E2%95%99%E2%94%9Cjs%E2%96%92%D1%84%E2%94%B4%E2%94%90/"/>
      <url>/wangq1231/2021/02/20/vue3-%E2%95%A8%E2%94%AC%E2%95%A0%E2%95%AA%E2%95%A8%E2%95%98%D0%B1%D0%BA%D0%B1%D0%BA%D0%B1%D0%BA%E2%95%98%E2%94%8Ccss%E2%95%93%E2%95%A8%E2%95%A9%E2%95%A3%E2%95%99%E2%94%9Cjs%E2%96%92%D1%84%E2%94%B4%E2%94%90/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><blockquote><p>æœ€è¿‘åœ¨ github ä¸Šå‘ç°ä¸€ä¸ª Vue3 éå¸¸å¥½ç©çš„ç‰¹æ€§ï¼Œè¿™ä¸ªç‰¹æ€§æˆ‘ä»¥å‰å°±ç»å¸¸è¿™ä¹ˆæƒ³ï¼šè¦æ˜¯æˆ‘åœ¨ data é‡Œé¢å®šä¹‰çš„å˜é‡ä¹Ÿèƒ½åœ¨ CSS é‡Œé¢ç”¨é‚£è¯¥å¤šå¥½å•Šï¼(å¤§å®¶æœ‰æ²¡æœ‰ä¹Ÿè¿™ä¹ˆæƒ³è¿‡)</p></blockquote><h3 id="å¹»æƒ³"><a href="#å¹»æƒ³" class="headerlink" title="å¹»æƒ³"></a><strong>å¹»æƒ³</strong></h3><p>ä»¥å‰åšé¡¹ç›®çš„æ—¶å€™ç»å¸¸ä¼šè¿™ä¹ˆæƒ³ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; color &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: this.color;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæƒ³æƒ³ä¹ŸçŸ¥é“ä¸å¯èƒ½ï¼ŒJS å’Œ CSS éš¶å±ä¸åŒä¸Šä¸‹æ–‡ï¼ŒCSS å“ªæ¥çš„ this å‘¢ï¼Ÿ</p><p>é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½åœ¨ CSS ä¸­ä½¿ç”¨ JS å˜é‡å‘¢ï¼Ÿé‚£å°±åªèƒ½ç”¨ JS æ“ä½œ DOM ç„¶åæŠŠå˜é‡å¡è¿› style é‡Œäº†ï¼Œæ¯”å¦‚ç”¨ ref è·å–åˆ° DOM å…ƒç´ ï¼Œç„¶å dom.style.color = this.colorã€‚</p><span id="more"></span><p>æˆ–è€…åœ¨æ¨¡æ¿é‡Œï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; color &#125;&quot;</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡è¿™ç§æ–¹å¼è¿˜æ˜¯æœ‰ç¼ºé™·çš„ï¼Œæ¯”å¦‚æœ¬æ¥å°±ä¸æ¨èæŠŠæ ·å¼å†™åœ¨ style å±æ€§é‡Œï¼Œè¿˜æœ‰å°±æ˜¯å˜é‡å¤ç”¨ä¼šå¾ˆéº»çƒ¦ï¼Œæ¯”å¦‚ä¸€ç»„ DOM å…ƒç´ éƒ½æƒ³ç”¨è¿™ä¸ªå˜é‡ï¼Œé‚£å°±ä¸å¾—ä¸ç»™è¿™ä¸€ç»„èµ·ä¸ªç±»åï¼Œç„¶åå†åœ¨ mounted é‡Œé¢ document.getElementsByClassName()ï¼Œè·å–åˆ° DOM é›†åˆä¹‹åè¿˜è¦å¾ªç¯éå†æ¯ä¸ªå…ƒç´ ï¼Œä¸ºå…¶åŠ ä¸Š dom.style.color = this.colorï¼Œæµªè´¹äº†å¾ˆå¤šçš„æ€§èƒ½ã€‚</p><p>å…¶å® CSS å¾ˆå¤šç¼ºé™·ï¼Œå¹¶ä¸å›¾çµå®Œå¤‡ï¼Œæ‰€ä»¥æ‰å¯¼è‡´äº†å„ç§é¢„å¤„ç†å™¨çš„å‡ºç°ï¼šSassã€Lessã€Stylus ç­‰â€¦â€¦</p><p>å®ƒä»¬ä¸º CSS æä¾›äº†å¾ˆå¤šç‰¹æ€§ï¼šå¾ªç¯ã€æ¡ä»¶è¯­å¥ã€å˜é‡ã€å‡½æ•°ç­‰â€¦â€¦</p><p>å…¶ä¸­æœ‰ä¸ªç‰¹æ€§éå¸¸æœ‰ç”¨ï¼Œé‚£å°±æ˜¯å˜é‡ï¼äºæ˜¯ CSS ä¹Ÿå¼•å…¥äº†å˜é‡çš„è¿™ä¸ªæ¦‚å¿µï¼Œè‡ªä»æœ‰äº† CSS å˜é‡ï¼Œå¾ˆå¤šäº‹æƒ…çœŸçš„æ–¹ä¾¿äº†è®¸å¤šï¼Œé€šè¿‡ JS æ“ä½œ CSS å˜é‡ï¼Œç„¶åå†åœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨ CSS å˜é‡ï¼Œè¿™ç§æ–¹æ³•æ¯”ä¹‹å‰çš„é«˜æ•ˆå¾—å¤šã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-CSS-å˜é‡"><a href="#ä»€ä¹ˆæ˜¯-CSS-å˜é‡" class="headerlink" title="ä»€ä¹ˆæ˜¯ CSS å˜é‡"></a>ä»€ä¹ˆæ˜¯ CSS å˜é‡</h3><p>åœ¨ JS é‡Œ(ä¸æ­¢ JSï¼Œæ‰€æœ‰è¯­è¨€éƒ½å·®ä¸å¤š)ï¼Œå˜é‡æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹æ€§ï¼š</p><ul><li>å£°æ˜</li><li>ä½¿ç”¨</li><li>ä½œç”¨åŸŸ</li></ul><p><strong><em>å£°æ˜</em></strong></p><p>ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå’±ä»¬é€šè¿‡ç”¨ JS çš„æ–¹å¼æ¥ç±»æ¯”ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = <span class="string">&quot;red&quot;</span>;</span><br></pre></td></tr></table></figure><p>åœ¨ CSS ä¸­ç­‰åŒäºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--color: red;</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™ç‚¹è·Ÿ JS ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœä½ å­¦ PHP è¿™ç±»è¯­è¨€æˆ–è€… Sass çš„è¯åº”è¯¥å°±å¾ˆå¥½ç†è§£äº†ï¼Œåœ¨ PHP æˆ– Sass ä¸­ï¼Œå£°æ˜å˜é‡çš„æ—¶å€™æ²¡æœ‰ä¸€ä¸ªå…³é”®å­—ï¼Œè€Œæ˜¯åœ¨å˜é‡åçš„ç¬¬ä¸€ä½åŠ ä¸Šä¸€ä¸ªç¾å…ƒç¬¦å· $ï¼Œè¿™å°±ä»£è¡¨å£°æ˜å˜é‡äº†ã€‚</p><p>PHP:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$color = <span class="string">&quot;red&quot;</span>;</span><br></pre></td></tr></table></figure><p>Sass:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$color: color;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ $ ç¬¦å·è¢« Sass å ç”¨äº†ï¼Œ@ ç¬¦å·è¢« less å äº†ï¼Œæ‰€ä»¥ CSS åªèƒ½æƒ³å‡ºåˆ«çš„ç¬¦å·äº†ï¼ŒCSS çš„ç¬¦å·å°±æ˜¯ä¸¤ä¸ªå‡å· â€“</p><p><strong><em>ä½¿ç”¨</em></strong><br>å…‰å£°æ˜ä¸€ä¸ªå˜é‡æ˜¯æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§æ„ä¹‰çš„ï¼Œåªæœ‰ä½¿ç”¨äº†å®ƒï¼Œè¿™ä¸ªå˜é‡æ‰ç®—æœ‰ä»·å€¼ï¼š</p><p>JS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(color);</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° var åªæ˜¯ä¸ªå£°æ˜å˜é‡çš„å…³é”®å­—ï¼Œcolor æ‰æ˜¯å˜é‡åã€‚</p><p>PHP:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $color;</span><br></pre></td></tr></table></figure><p>Scss:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h1 &#123;</span><br><span class="line">    <span class="attr">color</span>: $color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨ PHP æˆ– Sass ä¸­ï¼Œå£°æ˜å˜é‡çš„æ—¶å€™å¸¦ç€$ï¼Œç”¨çš„æ—¶å€™ä¹Ÿå¾—å¸¦ç€$ã€‚</p><p>è¿™å°±ä»¤è®¸å¤šå¼€å‘è€…æ„Ÿåˆ°å›°æƒ‘ï¼Œæ‰€ä»¥ CSS åœ¨ä½¿ç”¨å˜é‡çš„æ—¶å€™ç”¨åˆ°äº†ä¸€ä¸ªå‡½æ•°å« var()ï¼š</p><p>CSS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h1 &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="keyword">var</span>(--color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶å’Œ PHPã€Sass ä¸€æ ·ï¼Œè°ƒç”¨æ—¶è¦å¸¦ç€å‰ç¼€(å› ä¸ºé‚£å°±æ˜¯å˜é‡åçš„ä¸€éƒ¨åˆ†)ï¼Œä½†æ˜¯ä¸ä¸€æ ·çš„æ˜¯éœ€è¦ç”¨ä¸€ä¸ª var() æ¥æŠŠå˜é‡åŒ…è£¹èµ·æ¥ã€‚</p><p>ä½œç”¨åŸŸ</p><p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œä¸ä»… JS é‡Œæœ‰ä½œç”¨åŸŸï¼ŒCSS é‡Œä¹Ÿæœ‰ä½œç”¨åŸŸï¼Œæ¯”å¦‚ï¼š</p><p>JS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = <span class="string">&quot;red&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">h1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">div</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> color = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h1(); <span class="comment">// red</span></span><br><span class="line">div(); <span class="comment">// blue</span></span><br></pre></td></tr></table></figure><p>ç±»ä¼¼äº CSS é‡Œçš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    --color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h1 &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="keyword">var</span>(--color); <span class="comment">/** è¿™é‡Œè·å–åˆ°çš„æ˜¯å…¨å±€å£°æ˜çš„å˜é‡ï¼Œå€¼ä¸ºred **/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    --color: blue;</span><br><span class="line">    color: <span class="keyword">var</span>(--color); <span class="comment">/** è¿™é‡Œè·å–åˆ°çš„æ˜¯å±€éƒ¨å£°æ˜çš„å˜é‡ï¼Œå€¼ä¸ºblue **/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡çš„ä½œç”¨åŸŸå°±æ˜¯å®ƒæ‰€åœ¨çš„é€‰æ‹©å™¨çš„æœ‰æ•ˆèŒƒå›´ã€‚</p><p>ä¸­æ–‡ CSS å˜é‡<br>æœ‰ä¸€æ¬¡æˆ‘çœ‹åˆ°äº†ä¸¤ä¸ªè„‘æ´å¤§å¼€çš„åº“ï¼Œæ‰å‘ç° CSS å˜é‡è¿˜å¯ä»¥è¿™ä¹ˆç©ï¼š</p><p><a href="https://www.mybj123.com/gohref.php?url=https://www.yuque.com/fancy-components/xflqsh/yxn4m7">chinese-gradient</a></p><p><a href="https://www.mybj123.com/gohref.php?url=https://www.yuque.com/fancy-components/oco0rf/ded6m5">chinese-layout</a></p><p>ä»ä»–ä¿©çš„åå­—å°±å¯ä»¥çœ‹å‡ºï¼Œéƒ½æ˜¯ç”¨ chinese å¼€å¤´çš„ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡å°±æ˜¯ç”¨ä¸­æ–‡åšçš„ CSS å˜é‡ï¼Œç‚¹è¿›å»ä¸€çœ‹æœä¸å…¶ç„¶ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ CSS å˜é‡çš„åŒ…å®¹æ€§å¾ˆå¼ºï¼Œä¸åƒä»¥å¾€ç¼–ç¨‹çš„æ—¶å€™éƒ½å¿…é¡»æ˜¯è‹±æ–‡å‘½åï¼Œä¸­æ–‡è¿™æ¬¡å±…ç„¶ä¹Ÿå¯ä»¥å®Œç¾è¿è¡Œï¼Œä¸ä¿¡å’±ä»¬æ¥è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- åœ¨è¿™é‡Œç”¨linkæ ‡ç­¾å¼•å…¥ä¸­æ–‡å¸ƒå±€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/chinese-layout&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åœ¨è¿™é‡Œç”¨linkæ ‡ç­¾å¼•å…¥ä¸­æ–‡æ¸å˜è‰² --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag"><span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/chinese-gradient&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="comment">/* æ¸…é™¤é»˜è®¤æ ·å¼ */</span></span></span><br><span class="line"><span class="css">* &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="comment">/* å…¨å±æ˜¾ç¤º */</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span>,</span></span><br><span class="line"><span class="css"><span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="comment">/* åœ¨çˆ¶å…ƒç´ ä¸Šå†™å…¥ä¹å®«æ ¼ */</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="css">grid: <span class="built_in">var</span>(--ä¹å®«æ ¼);</span></span><br><span class="line"><span class="css">gap: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="comment">/* ç»™å­å…ƒç´ ä¸Šè‰² */</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">background</span>: <span class="built_in">var</span>(--æå…‰ç»¿);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142247973.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¸­æ–‡-CSS-å˜é‡"><a href="#ä¸­æ–‡-CSS-å˜é‡" class="headerlink" title="ä¸­æ–‡ CSS å˜é‡"></a>ä¸­æ–‡ CSS å˜é‡</h3><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒCSS å˜é‡å¯ä»¥è¿™æ ·å®šä¹‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">body &#123; --è“ç»¿è‰²: aquamarine; &#125;</span><br></pre></td></tr></table></figure><p>ç„¶åè°ƒç”¨çš„æ—¶å€™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h1 &#123; color: var(--è“ç»¿è‰²); &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ vue ä¸­çš„å˜é‡ é‚£ä¹ˆæ€æ ·æ‰èƒ½åœ¨ vue3 çš„ style ä¸­ä½¿ç”¨ script é‡Œå£°æ˜çš„å˜é‡å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸ªæ”¯æŒ vue3 çš„ vite é¡¹ç›®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init vite-app vars</span><br></pre></td></tr></table></figure><p>ç„¶åè¿›å…¥åˆ°è¯¥æ–‡ä»¶å¤¹å®‰è£…ä¾èµ–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd vars</span><br><span class="line"></span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><p>ç„¶ååˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œç»„ä»¶å‹å¼é•¿è¿™æ ·ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; color &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; color &#125;&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿˜è®°å¾—æ–‡ç« ä¸€å¼€å§‹å†™çš„å¹»æƒ³ä¸­çš„ç»„ä»¶æ˜¯ä»€ä¹ˆæ ·å—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: this.color;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å°±ç®— vue å†ç‰›å®ƒä¹Ÿä¸å¯èƒ½ç»™ CSS å®‰ä¸ª this å•Šï¼Œé™¤éå†åšä¸€ä¸ªä»€ä¹ˆé¢„å¤„ç†å™¨ï¼Œä¸è¿‡è¿™æ¬¡åˆ©ç”¨ CSS å˜é‡å·²ç»å¯ä»¥å¾ˆæ¥è¿‘å’±ä»¬å¹»æƒ³ä¸­çš„ç»„ä»¶å•¦ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; color &#125;&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆè¦åœ¨ â€˜styleâ€™ æ ‡ç­¾ä¸­å†™ä¸ª vars=â€{}â€ï¼Œå†åœ¨å¤§æ‹¬å·é‡Œå†™ä¸Šä½ åœ¨ data ä¸­å£°æ˜è¿‡çš„å€¼ã€‚</p><p>å†æ¥è¯•ä¸€ä¸‹è¿™ä¸ªå˜é‡æ˜¯ä¸æ˜¯å“åº”å¼çš„ï¼ŒåŠ¨æ€æ”¹å˜ â€˜scriptâ€™ æ ‡ç­¾ä¸­çš„ this.color å€¼ä¼šä¸ä¼šå¼•èµ·è§†å›¾çš„å˜åŒ–å‘¢ï¼Ÿæ¥è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">opacity</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">setInterval</span>(<span class="function">(<span class="params">_</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.opacity &gt;= <span class="number">1</span> &amp;&amp; (<span class="built_in">this</span>.opacity = <span class="number">0</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.opacity += <span class="number">0.2</span>;</span></span><br><span class="line"><span class="javascript">&#125;, <span class="number">300</span>);</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; opacity &#125;&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">65</span>, <span class="number">184</span>, <span class="number">131</span>);</span></span><br><span class="line"><span class="css"><span class="attribute">opacity</span>: <span class="built_in">var</span>(--opacity);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142404898.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯ä»¥çœ‹åˆ°æ¯ 300 æ¯«ç§’æˆ‘ä»¬å°±æ”¹å˜ä¸€ä¸‹ this.opacity çš„å€¼ï¼Œå®ƒä¼šæ˜ å°„åˆ° CSS å˜é‡ä¸Šå»ï¼Œthis.opacity å˜äº†ï¼Œâ€“opacity çš„å€¼å°±ä¼šéšä¹‹å˜åŒ–ï¼Œè§†å›¾ä¹Ÿä¼šéšç€æ•°æ®çš„æ›´æ–°è€Œç›¸åº”çš„æ›´æ–°ï¼Œè¿™ä¸ªç‰¹æ€§ç®€ç›´å¤ªæ£’äº†ï¼</p><p>å¤šä¸ªå˜é‡ä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">border</span>: <span class="string">&quot;1px solid black&quot;</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; border, color &#125;&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css"><span class="attribute">border</span>: <span class="built_in">var</span>(--border);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è„‘æ´å¤§å¼€<br>æ—¢ç„¶ chinese-gradient å’Œ chinese-layout è¿™ä¸¤ä¸ª CSS åº“éªŒè¯äº† CSS ä¸­æ–‡å˜é‡çš„å¯è¡Œæ€§ï¼Œè€Œä¸”æˆ‘è®°å¾—å¯¹è±¡çš„å±æ€§ä¹Ÿæ˜¯å¯ä»¥å†™ä¸­æ–‡çš„ï¼Œé‚£ä¹ˆå’±ä»¬å°±æ¥è¯•ä¸€ä¸‹åœ¨ vue ä¸­èƒ½ä¸èƒ½ç”¨è¿™ç§é»‘é­”æ³•æ¥å†™ä¸­æ–‡ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">é€æ˜åº¦: <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">setInterval</span>(<span class="function">(<span class="params">_</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>[<span class="string">&quot;é€æ˜åº¦&quot;</span>] &gt;= <span class="number">1</span> &amp;&amp; (<span class="built_in">this</span>[<span class="string">&quot;é€æ˜åº¦&quot;</span>] = <span class="number">0</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>[<span class="string">&quot;é€æ˜åº¦&quot;</span>] += <span class="number">0.2</span>;</span></span><br><span class="line"><span class="javascript">&#125;, <span class="number">300</span>);</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; é€æ˜åº¦ &#125;&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">65</span>, <span class="number">184</span>, <span class="number">131</span>);</span></span><br><span class="line"><span class="css"><span class="attribute">opacity</span>: <span class="built_in">var</span>(--é€æ˜åº¦);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/2021011414250032.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å±…ï¼ç„¶ï¼ç®¡ï¼ç”¨ï¼äº†ï¼è¿™çœŸæ˜¯ç¥äº†ï¼</p><p>ä»¥åå¤§å®¶ä¸ä¼šå‘½åçš„è¯ä¹Ÿåˆ«ç”¨æ±‰è¯­æ‹¼éŸ³äº†ï¼Œç›´æ¥å†™ä¸­æ–‡å§å“ˆå“ˆï¼åç»­ç»´æŠ¤çš„æ—¶å€™ä¸€çœ‹å˜é‡åå°±èƒ½ä¸€ç›®äº†ç„¶(ä¸è¿‡è¿˜æ˜¯æ¨èç”¨è‹±æ–‡)ã€‚</p><p><strong><em>åŸç†</em></strong><br>çŒœä¹Ÿèƒ½çŒœåˆ°ï¼Œå¤§æ¦‚ç‡æ˜¯ç”¨åˆ°äº†ç±»ä¼¼äº dom.style.setProperty(â€˜â€“opacityâ€™, this.opacity) ä¹‹ç±»çš„æ–¹æ³•ï¼ŒæŒ‰ä¸‹ f12 æ‰“å¼€æ§åˆ¶å°ä¸€çœ‹ï¼Œæœä¸å…¶ç„¶ï¼Œå®ƒæ§åˆ¶çš„æ˜¯ç»„ä»¶å…ƒç´ çš„ style å±æ€§ï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142527117.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>style ä¸­å…ƒç´ <br>ä¸è¿‡æˆ‘ä»¬åˆšæ‰åœ¨ â€˜styleâ€™ æ ‡ç­¾ä¸­åªç”¨åˆ°äº† varï¼Œscoped å…¶å®ä¹Ÿå¾ˆå¸¸ç”¨ï¼Œé‚£ä¹ˆå¦‚æœä»–ä»¬ä¸¤ä¸ªç¢°åˆ°ä¸€èµ·å»ä¼šç¼–è¯‘æˆä»€ä¹ˆæ ·å‘¢ï¼Ÿ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; é€æ˜åº¦ &#125;&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">var</span>(--é€æ˜åº¦);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142539680.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç¼–è¯‘è¿è¡Œç»“æœ<br>å¯ä»¥çœ‹åˆ° Vue æŠŠ CSS å˜é‡ä¹Ÿç¼–è¯‘äº†ä¸€ä¸ªå’Œ data-v- åé¢çš„é‚£ä¸²éšæœºå­—ç¬¦ä¸€æ ·çš„ï¼š<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142547734.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>Vue æŠŠ CSS å˜é‡ä¹Ÿç¼–è¯‘äº†ä¸€ä¸ªå’Œ data-v- åé¢çš„é‚£ä¸²éšæœºå­—ç¬¦ä¸€æ ·<br>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå‡å¦‚æˆ‘è¦æ˜¯åœ¨å…¨å±€æ ·å¼é‡Œå®šä¹‰äº†ä¸€ä¸ª â€“color å±æ€§ï¼Œæˆ‘åœ¨å¸¦æœ‰ scoped å±æ€§çš„ç»„ä»¶é‡Œæƒ³ç”¨è¿™ä¸ªå…¨å±€çš„ CSS å˜é‡ï¼Œå¯æ˜¯ä¸€æ—¦åœ¨ scoped ä¸­ä½¿ç”¨ CSS å˜é‡å°±ä¼šè¢«ç¼–è¯‘æˆï¼šâ€“62a9ebed-colorï¼Œå¯æ˜¯å…¨å±€å®šä¹‰çš„ä¸æ˜¯ â€“62a9ebed-color è€Œæ˜¯ â€“colorï¼Œè¿™æ ·å°±ä¼šå‡ºç°æ‰¾ä¸åˆ°å…¨å±€å±æ€§çš„å±€é¢ï¼Œè¿™ä¸ªé—®é¢˜è¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨â€“çš„åé¢åŠ ä¸Šä¸€ä¸ª global: å°±å¯ä»¥äº†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">vars</span>=<span class="string">&quot;&#123; color &#125;&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="built_in">var</span>(--global: color);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ç¼–è¯‘å‡ºæ¥çš„ CSS å°±ä¼šå˜æˆï¼švar(â€“color) å•¦ï¼</p><h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>æ€ä¹ˆæ ·æ˜¯ä¸æ˜¯å¾ˆå¥½ç©ï¼ŸVue è¿™æ¬¡æ›´æ–°è¯šæ„æ»¡æ»¡ï¼Œä¸è¿‡å¤§å®¶éƒ½æŠŠå…³æ³¨ç‚¹æ”¾åœ¨äº† Composition-API ä¸Šäº†ï¼Œæ²¡æœ‰æ³¨æ„åˆ°è¿™äº›ä¸èµ·çœ¼çš„è¾¹è¾¹è§’è§’ï¼Œä½†å°±æ˜¯è¿™äº›è¾¹è¾¹è§’è§’å´å¯ä»¥æå¤§çš„æé«˜æˆ‘ä»¬çš„å¼€å‘ä½“éªŒã€‚</p><p>å¯¹äº†ï¼ŒCSS å˜é‡ä¹Ÿæ˜¯æœ‰å…¼å®¹æ€§çš„:<br><img src= "/wangq1231/img/loading.gif" data-lazy-src="https://img-blog.csdnimg.cn/20210114142620164.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzUyNjUw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä» caniuse ç½‘ç«™ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ˜¯ä¸å…¼å®¹ IE çš„ï¼Œä½¿ç”¨çš„æ—¶å€™è®°å¾—ç¡®è®¤ä¸€ä¸‹è‡ªå·±é¡¹ç›®éœ€è¦å…¼å®¹çš„èŒƒå›´ã€‚</p><p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯ä»Šå¤©å…³äº Vue3 æ–°ç‰¹æ€§åœ¨ CSS ä¸­ä½¿ç”¨ JS å˜é‡å…¨éƒ¨å†…å®¹ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰ç”¨ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶ç•™è¨€è®¨è®ºã€‚</p><p>The End.</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> vue3 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo commands</title>
      <link href="/wangq1231/2021/02/19/hexo-commands/"/>
      <url>/wangq1231/2021/02/19/hexo-commands/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/wangq1231/css/APlayer.min.css"><script src="/wangq1231/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/wangq1231/js/Meting.min.js"></script><h3 id="1-hexo-çš„å®‰è£…"><a href="#1-hexo-çš„å®‰è£…" class="headerlink" title="1.hexo çš„å®‰è£…"></a>1.hexo çš„å®‰è£…</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="2-hexo-çš„ç›¸å…³å‘½ä»¤"><a href="#2-hexo-çš„ç›¸å…³å‘½ä»¤" class="headerlink" title="2.hexo çš„ç›¸å…³å‘½ä»¤"></a>2.hexo çš„ç›¸å…³å‘½ä»¤</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">hexo init [folder] # æ–°å»ºä¸€ä¸ªç½‘ç«™ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® folder ï¼ŒHexo é»˜è®¤åœ¨ç›®å‰çš„æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™</span><br><span class="line"></span><br><span class="line">hexo <span class="keyword">new</span> <span class="string">&quot;postName&quot;</span> # æ–°å»ºæ–‡ç« </span><br><span class="line"></span><br><span class="line">hexo <span class="keyword">new</span> page <span class="string">&quot;pageName&quot;</span> # æ–°å»ºé¡µé¢</span><br><span class="line"></span><br><span class="line">hexo generate # ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•</span><br><span class="line"></span><br><span class="line">hexo server # å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£<span class="number">4000</span>ï¼Œ<span class="string">&#x27;ctrl + c&#x27;</span>å…³é—­serverï¼‰</span><br><span class="line"></span><br><span class="line">hexo deploy # éƒ¨ç½²åˆ°GitHub</span><br><span class="line"></span><br><span class="line">hexo help  # æŸ¥çœ‹å¸®åŠ©</span><br><span class="line"></span><br><span class="line">hexo version  # æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">hexo clean # æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤ç›¸å…³çš„ç¼©å†™å½¢å¼</span></span><br><span class="line">hexo n == hexo <span class="keyword">new</span></span><br><span class="line">hexo g == hexo generate</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo d == hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»„åˆå‘½ä»¤</span></span><br><span class="line">hexo s -g # ç”Ÿæˆå¹¶æœ¬åœ°é¢„è§ˆ</span><br><span class="line">hexo d -g # ç”Ÿæˆå¹¶ä¸Šä¼ </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€èƒ½æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
